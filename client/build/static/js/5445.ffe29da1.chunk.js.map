{"version":3,"file":"static/js/5445.ffe29da1.chunk.js","mappings":"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","sources":["view/pages/Protected.jsx","view/pages/treeview/MyTreeView.jsx","view/pages/documents/index.jsx","view/storage.js"],"sourcesContent":["import { useSelector } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\nconst ProtectedAppPage = () => {\r\n  const isLogIn = localStorage?.getItem(\"user\");\r\n  console.log(isLogIn, \"loggin\");\r\n  if (!isLogIn) {\r\n    return <Redirect to=\"/pages/authentication/login\" />;\r\n  }\r\n\r\n  return null;\r\n};\r\nexport default ProtectedAppPage;\r\n","\r\n\r\nimport React, { useEffect, useState } from 'react';\r\nimport TreeView from '@material-ui/lab/TreeView';\r\nimport TreeItem from '@material-ui/lab/TreeItem';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport DescriptionIcon from '@mui/icons-material/Description';\r\nimport FolderIcon from '@mui/icons-material/Folder';\r\nimport FolderSpecialIcon from '@mui/icons-material/FolderSpecial';\r\nimport FolderOpenIcon from '@mui/icons-material/Folder';\r\nimport Button from '@mui/material/Button';\r\nimport axios from 'axios';\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    flexGrow: 7,\r\n    maxWidth: 1300,\r\n  },\r\n  projectNode: {\r\n    backgroundColor: '#ffffff',\r\n    fontSize: '30px',\r\n    padding: '15px',\r\n    borderRadius: '9px',\r\n    marginBottom: '15px',\r\n    transition: 'background-color 0.2s ease',\r\n    fontWeight: 'bold',\r\n\r\n    '&:hover': {\r\n      backgroundColor: '#ffffff',\r\n    },\r\n  },\r\n  mdrNode: {\r\n    backgroundColor: '#ffffff',\r\n    fontSize: '24px',\r\n    padding: '15px',\r\n    borderRadius: '9px',\r\n    marginLeft: '16px',\r\n    marginBottom: '12px',\r\n    transition: 'background-color 0.3s ease',\r\n    fontWeight: 'bold',\r\n\r\n    '&:hover': {\r\n      backgroundColor: '#ffffff',\r\n    },\r\n  },\r\n  departmentIdNode: {\r\n    backgroundColor: '#ffffff',\r\n    fontSize: '20px',\r\n    padding: '15px',\r\n    borderRadius: '9px',\r\n    marginLeft: '16px',\r\n    marginBottom: '12px',\r\n    transition: 'background-color 0.3s ease',\r\n    fontWeight: 'bold',\r\n\r\n    '&:hover': {\r\n      backgroundColor: '#ffffff',\r\n    },\r\n  },\r\n  titleNode: {\r\n    backgroundColor: '#ffffff',\r\n    fontSize: '20px',\r\n    padding: '8px',\r\n    borderRadius: '4px',\r\n    marginLeft: '16px',\r\n    transition: 'background-color 0.3s ease',\r\n    fontWeight: 'bold',\r\n\r\n    '&:hover': {\r\n      backgroundColor: '#ffffff',\r\n    },\r\n  },\r\n  icon: {\r\n    marginRight: '8px',\r\n    fontWeight: 'bold',\r\n\r\n  },\r\n  buttonContainer: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    marginTop: '8px',\r\n    padding: '6px',\r\n  },\r\n  status: {\r\n    marginRight: '12px',\r\n    fontSize: '14px',\r\n    fontWeight: 'bold',\r\n  },\r\n});\r\nconst MyTreeView = () => {\r\n  const [information,setInformation]=useState()\r\n  const [user] = useState(JSON.parse(localStorage?.getItem(\"user\")));\r\n  const [data, setData] = useState({});\r\n\r\n  console.log(\"user\",user)\r\n  useEffect(() => {\r\n    let isMounted = true;\r\n\r\n    const fetchInformation = async () => {\r\n      try {\r\n        const response = await axios.get(\r\n          `http://127.0.0.1:8083/api/projects/information?companyId=${user?.user?.companyId}`,\r\n          {\r\n            headers: {\r\n              Authorization: user?.accessToken,\r\n            },\r\n          }\r\n        );\r\n\r\n        if (isMounted) {\r\n          setInformation(response.data);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error fetching projects:\", error?.message);\r\n      }\r\n    };\r\n\r\n    fetchInformation();\r\n\r\n    return () => {\r\n      isMounted = false;\r\n    };\r\n  }, [user?.user?.companyId]);\r\n\r\n  \r\n  useEffect(() => {\r\n    // Modify the processData function\r\n// Modify the processData function\r\nconst processData = () => {\r\n  if (!information || information.length === 0) {\r\n    // Handle the case where information is undefined or an empty array\r\n    return;\r\n  }\r\n\r\n  const newData = {};\r\n  console.log(information, \"information\");\r\n\r\n\r\n  information.forEach((info) => {\r\n    if (!newData[info.title]) {\r\n      newData[info.title] = {};\r\n      console.log(newData, 'newData1');\r\n    }\r\n  \r\n    info.mdrs.forEach((mdr) => {\r\n      if (!newData[info.title][mdr.title]) {\r\n        newData[info.title][mdr.title] = {};\r\n      }\r\n  \r\n      console.log(newData, 'newData2');\r\n  \r\n      // Split department names and ensure documents exist\r\n      const departmentNames = mdr.departmentName?.split(\",\") ?? [];\r\n      const documents = mdr.documents ?? [];\r\n      // Split department suffixes\r\n      const departmentSuffixes = info.departmentSuffix?.split(\",\") ?? [];\r\n  \r\n      // Iterate over department names and suffixes\r\n      departmentNames.forEach((departmentName, index) => {\r\n        // Trim department name and suffix\r\n        const trimmedDepartmentName = departmentName.trim();\r\n        const trimmedSuffix = departmentSuffixes[index]?.trim();\r\n  \r\n        console.log(trimmedDepartmentName, 'trimmedDepartmentName', trimmedSuffix, 'trimmedSuffix');\r\n        console.log(newData, 'newData');\r\n  \r\n        // Initialize department array if not present\r\n        if (!newData[info.title][mdr.title][trimmedDepartmentName]) {\r\n          newData[info.title][mdr.title][trimmedDepartmentName] = [];\r\n        }\r\n  \r\n        // Iterate over documents\r\n        documents.forEach((document) => {\r\n          // Trim document title and check if it includes the trimmed suffix\r\n          const trimmedTitle = document.title.trim();\r\n          if (trimmedSuffix && trimmedTitle.includes(trimmedSuffix)) {\r\n            // Push document data to department array\r\n            newData[info.title][mdr.title][trimmedDepartmentName].push({\r\n              title: document.title,\r\n              docTitle: trimmedTitle,\r\n              status: document.status,\r\n              version: document.version\r\n            });\r\n          }\r\n        });\r\n      });\r\n    });\r\n  });\r\n  \r\n  console.log(newData, 'finalNewData');\r\n  \r\n  \r\n  console.log(newData,\"newData\");\r\n  setData(newData);\r\n};\r\n\r\n    processData();\r\n  }, [information]);\r\n  const classes = useStyles();\r\n  const BACKEND_URL = \"http://127.0.0.1:8083\"; // Update with your backend URL\r\n\r\n  const handleOpenDocument = async (document) => {\r\n    // Handle open document logic here\r\n    console.log('documentsss',document);\r\n    alert(`Opening document: ${document.docTitle}`);\r\n    const responseData=await fetchAppRev(document.docTitle);\r\n    console.log('helllooo',responseData);\r\n     // Replace 'John' with the actual doc's name\r\n     const docName = document.docTitle;\r\n     const url= `${BACKEND_URL}/uploads/${docName}-${document.version}.pdf` \r\n     console.log(user.user.roleId,user.user.firstName,user);\r\n     let allowed='false';\r\n if(responseData){\r\n allowed='true';\r\n }\r\n     // Redirect to the external URL\r\n      window.location.href = `http://127.0.0.1:3001/react-pdf-highlighter/?docName=${docName}.pdf&url=${url}&allowed=${allowed}&user=${user.user.roleId} ${user.user.firstName}`;\r\n  };\r\n  const fetchAppRev = async (title) => {\r\n    try {\r\n      const response = await axios.get(\r\n        `http://127.0.0.1:8083/api/documents/establishment?companyId=${user?.user?.companyId}&userId=${user.user.id}&docName=${title}`,\r\n        {\r\n          headers: {\r\n            Authorization: user?.accessToken,\r\n            // Add other headers if needed\r\n          },\r\n        }\r\n      );\r\n        \r\n\r\n\r\n      console.log(response.data,\"received\");\r\n      return response.data;\r\n    \r\n    } catch (error) {\r\n      console.error(\"Error fetching documents:\", error?.message);\r\n    }\r\n  };\r\n  return (\r\n    <div className={classes.root}>\r\n      <TreeView\r\n        defaultCollapseIcon={<FolderIcon />}\r\n        defaultExpandIcon={<FolderOpenIcon />}\r\n        defaultEndIcon={<DescriptionIcon />}\r\n      >\r\n        {Object.entries(data).map(([projectId, mdrs]) => (\r\n          <TreeItem\r\n            key={projectId}\r\n            nodeId={projectId}\r\n            label={`Project Title: ${projectId}`}\r\n            className={classes.projectNode}\r\n            icon={<FolderIcon className={classes.icon} />}\r\n            sx={{ display: \"inline-flex\" }} // Display child nodes inline\r\n          >\r\n            {Object.entries(mdrs).map(([mdr, departments]) => (\r\n              <TreeItem\r\n                key={`${projectId}-${mdr}`}\r\n                nodeId={`${projectId}-${mdr}`}\r\n                label={`MDR Title: ${mdr}`}\r\n                className={classes.mdrNode}\r\n                icon={<FolderSpecialIcon className={classes.icon} />}\r\n                sx={{ display: \"inline-flex\" }} // Display child nodes inline\r\n              >\r\n                {Object.entries(departments).map(([department, documents]) => (\r\n                  <TreeItem\r\n                    key={`${projectId}-${mdr}-${department}`}\r\n                    nodeId={`${projectId}-${mdr}-${department}`}\r\n                    label={`Department Name: ${department}`}\r\n                    className={classes.departmentIdNode}\r\n                    icon={<FolderIcon className={classes.icon} />}\r\n                    sx={{ display: \"inline-flex\" }} // Display child nodes inline\r\n                  >\r\n                    {documents.map((document, index) => (\r\n                      <TreeItem\r\n                        key={`${projectId}-${mdr}-${department}-${index}`}\r\n                        nodeId={`${projectId}-${mdr}-${department}-${index}`}\r\n                        label={`Title: ${document.docTitle} (${document.title})`}\r\n                        className={classes.titleNode}\r\n                        icon={<DescriptionIcon className={classes.icon} />}\r\n                        sx={{ display: \"inline-flex\" }}\r\n                      >\r\n                        <div className={classes.buttonContainer}>\r\n                          <span className={classes.status}>Status: {document.status}</span>\r\n                          <Button\r\n                            onClick={() => handleOpenDocument(document)}\r\n                            variant=\"outlined\"\r\n                            color=\"primary\"\r\n                            size='10px'\r\n                          >\r\n                            Open Document\r\n                          </Button>\r\n                        </div>\r\n                      </TreeItem>\r\n                    ))}\r\n                  </TreeItem>\r\n                ))}\r\n              </TreeItem>\r\n            ))}\r\n          </TreeItem>\r\n        ))}\r\n      </TreeView>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MyTreeView;","// import React, { useEffect, useState } from \"react\";\r\n// import { FormattedMessage } from \"react-intl\";\r\n// import { saveData, loadData, getAllKeys } from '../../storage';\r\n// import { useHistory } from 'react-router-dom'; \r\n// import MyTreeView from \"../treeview/MyTreeView\";\r\n// import { DownOutlined } from '@ant-design/icons';\r\n// import {Row,Col,Divider,notification,Form,Menu,Dropdown,Space,Checkbox,Table,Select,Tag,Input,DatePicker,TimePicker,Button,Modal,message,Upload,\r\n// } from \"antd\";\r\n// import { Radio } from \"antd\";\r\n// import axios from \"axios\";\r\n// import { RiCloseFill, RiCalendarLine } from \"react-icons/ri\";\r\n// import { useDispatch, useSelector } from \"react-redux\";\r\n// import { UploadOutlined } from \"@ant-design/icons\";\r\n// import ProtectedAppPage from \"../Protected\";\r\n// import ReactQuill from \"react-quill\";\r\n// import \"react-quill/dist/quill.snow.css\";\r\n// import { SearchOutlined } from '@ant-design/icons';\r\n// import Highlighter from 'react-highlight-words';\r\n// import { useRef } from \"react\";\r\n\r\n// const uploadProps = {\r\n//   name: \"file\",\r\n//   action: \"https://run.mocky.io/v3/435e224c-44fb-4773-9faf-380c5e6a2188\",\r\n//   headers: {\r\n//     authorization: \"authorization-text\",\r\n//   },\r\n//   onChange(info) {\r\n//     if (info.file.status !== \"uploading\") {\r\n//       console.log(info.file, info.fileList);\r\n//     }\r\n//     if (info.file.status === \"done\") {\r\n//       message.success(`${info.file.name} file uploaded successfully`);\r\n//     } else if (info.file.status === \"error\") {\r\n//       message.error(`${info.file.name} file upload failed.`);\r\n//     }\r\n//   },\r\n// };\r\n\r\n// export default function Document() {\r\n//   const menu = (\r\n//     <Menu>\r\n//       <Menu.Item onClick={() => handleAll()}>All</Menu.Item>\r\n//       <Menu.Item onClick={() => handleReviewed()}>Reviewed</Menu.Item>\r\n//       <Menu.Item onClick={() => handleApproved()}>Approved</Menu.Item>\r\n//       <Menu.Item onClick={() => handleCompleted()}>Completed</Menu.Item>\r\n//       <Menu.Item onClick={() => handleUploaded()}>Uploaded</Menu.Item>\r\n//     </Menu>\r\n//   );\r\n\r\n//   const handleAll=()=>{\r\n//     setData(dataArray)\r\n//   }\r\n//   const handleReviewed=()=>{\r\n//     setData(dataArray)\r\n//   }\r\n//   const handleApproved=()=>{\r\n//     setData(dataArray)\r\n//   }\r\n//   const handleCompleted=()=>{\r\n//     const completedData = dataArray.filter(item => item.status === 'completed');\r\n//     setData(completedData)\r\n//   }\r\n//   const handleUploaded=()=>{\r\n//     const ongoingData = dataArray.filter(item => item.status === 'ongoing');\r\n//     setData(ongoingData)\r\n\r\n//   }\r\n\r\n//   const handleSearch = (selectedKeys, confirm, dataIndex) => {\r\n//     confirm();\r\n//     setSearchText(selectedKeys[0]);\r\n//     setSearchedColumn(dataIndex);\r\n//   };\r\n//   const handleReset = (clearFilters) => {\r\n//     clearFilters();\r\n//     setSearchText('');\r\n//   };\r\n\r\n\r\n//   const getColumnSearchProps = (dataIndex) => ({\r\n//     filterDropdown: ({ setSelectedKeys, selectedKeys, confirm, clearFilters, close }) => (\r\n//       <div style={{ padding: 8 }}>\r\n//         <Input\r\n//           ref={searchInput}\r\n//           placeholder={`Search ${dataIndex}`}\r\n//           value={selectedKeys[0]}\r\n//           onChange={(e) => setSelectedKeys(e.target.value ? [e.target.value] : [])}\r\n//           onPressEnter={() => handleSearch(selectedKeys, confirm, dataIndex)}\r\n//           style={{ marginBottom: 8, display: 'block' }}\r\n//         />\r\n//         <Space>\r\n//           <Button\r\n//             type=\"primary\"\r\n//             onClick={() => handleSearch(selectedKeys, confirm, dataIndex)}\r\n//             icon={<SearchOutlined />}\r\n//             size=\"small\"\r\n//             style={{ width: 90 }}\r\n//           >\r\n//             Search\r\n//           </Button>\r\n//           <Button onClick={() => clearFilters && handleReset(clearFilters)} size=\"small\" style={{ width: 90 }}>\r\n//             Reset\r\n//           </Button>\r\n          \r\n//         </Space>\r\n//       </div>\r\n//     ),\r\n//     filterIcon: (filtered) => (\r\n//       <SearchOutlined style={{ color: filtered ? '#1677ff' : undefined }} />\r\n//     ),\r\n//     onFilter: (value, record) =>\r\n//       record[dataIndex].toString().toLowerCase().includes(value.toLowerCase()),\r\n//     onFilterDropdownOpenChange: (visible) => {\r\n//       if (visible) {\r\n//         setTimeout(() => searchInput.current?.select(), 100);\r\n//       }\r\n//     },\r\n//     render: (text) =>\r\n//       searchedColumn === dataIndex ? (\r\n//         <Highlighter\r\n//           highlightStyle={{\r\n//             backgroundColor: '#ffc069',\r\n//             padding: 0,\r\n//           }}\r\n//           searchWords={[searchText]}\r\n//           autoEscape\r\n//           textToHighlight={text ? text.toString() : ''}\r\n//         />\r\n//       ) : (\r\n//         text\r\n//       ),\r\n//   });\r\n\r\n\r\n//   const BACKEND_URL = \"http://127.0.0.1:8083\"; // Update with your backend URL\r\n\r\n//   const history = useHistory();\r\n\r\n//   const columns = [\r\n//     {\r\n//       title: \"Mdr Code\",\r\n//       dataIndex: \"masterDocumentId\",\r\n//       key: \"masterDocumentId\",\r\n//       ...getColumnSearchProps('masterDocumentId'),\r\n\r\n//     },\r\n//     {\r\n//       title: \"Document Name\",\r\n//       dataIndex: \"title\",\r\n//       key: \"title\",\r\n//       ...getColumnSearchProps('title'),\r\n\r\n//     }, {\r\n//       title: \"Version\",\r\n//       dataIndex: \"version\",\r\n//       key: \"version\",\r\n//     },\r\n//     // {\r\n//     //   title: \".exe\",\r\n//     //   dataIndex: \"extension\",\r\n//     //   key: \"extension\",\r\n//     // },\r\n//     {\r\n//       title: (\r\n//         \"Status\"\r\n//       ),\r\n//       key: \"status\",\r\n//       dataIndex: \"status\",\r\n  \r\n//   filters: [\r\n//     {\r\n//       text: 'Initialized',\r\n//       value: 'Initialized',\r\n//     },\r\n//         {\r\n//           text: 'Reviewed',\r\n//           value: 'Reviewed',\r\n//         },\r\n//         {\r\n//           text: 'Approved',\r\n//           value: 'Approved',\r\n//         },\r\n//         {\r\n//           text: 'Completed',\r\n//           value: 'Completed',\r\n//         },\r\n//         {\r\n//           text: 'Uploaded',\r\n//           value: 'Uploaded',\r\n//         },\r\n//       ],\r\n//       onFilter:  (value, record) =>record.status === value,\r\n//     },\r\n//     {\r\n//       title: \"Assigned To\",\r\n//       dataIndex: \"assignedTo\",\r\n//       key: \"assignedTo\",\r\n//     },\r\n//     {\r\n//       title: \"Action\",\r\n//       key: \"action\",\r\n//       render: (_, record) => (\r\n//         <Space size=\"middle\">\r\n//           {user.user.roleId != 1 ? record.status=='Initialized' || record.status=='Reviewers Rejected' || record.status=='Approvers Rejected'? (\r\n//                     <Space size=\"middle\">\r\n\r\n//             <input type=\"file\" onChange={(e)=>handleFileChange(e,record)}>\r\n             \r\n\r\n//             </input>\r\n//             <a onClick={() => assignModalShow(record)}>Assign Document</a>\r\n\r\n//             </Space>\r\n\r\n            \r\n//           ) : user.user.id == record.assignedTo ?(\r\n//             <Space size=\"middle\">\r\n//             <a onClick={() => handleOpen(record)}>Open</a>\r\n            \r\n//             <input type=\"file\" onChange={(e)=>handleFileChange(e,record)}/>\r\n//             </Space>\r\n\r\n//           ): (\r\n//             <>\r\n// <a onClick={() => handleOpen(record)}>Open</a>\r\n//               {/* <a onClick={() => history.push(`/pages/mypdf?documentId=${record.title}`)}>Open</a> */}\r\n//               {/* <a onClick={() => statusModalShow(record)}>Add Status</a> */}\r\n//             </>\r\n//           ):record.status =='Initialized'?              <a onClick={() => assignModalShow(record)}>Assign Document</a>\r\n//           :(\r\n//             <>\r\n// <a onClick={() => handleOpen(record)}>Open</a>\r\n//               {/* <a onClick={() => history.push(`/pages/mypdf?documentId=${record.title}`)}>Open</a> */}\r\n//               {/* <a onClick={() => statusModalShow(record)}>Add Status</a> */}\r\n//             </>\r\n//           )}\r\n//         </Space>\r\n//       ),\r\n//     }\r\n//   ];\r\n//   const [assignModalVisible, setAssignModalVisible] = useState(false);\r\n//   const [selectedDocument, setSelectedDocument] = useState(null);\r\n//   const [documentModalVisible, setDocumentModalVisible] = useState(false);\r\n//   const [docTitle, setDocTitle] = useState(\"\");\r\n//   const [projectId, setProjectId] = useState(\"\");\r\n//   const [departmentId, setDepartmentId] = useState(\"\");\r\n//   const [extension, setExtension] = useState(\"\");\r\n//   const [mdr, setMDR] = useState(\"\");\r\n//   const [file, setFile] = useState(null);\r\n//   const [textEditorValue, setTextEditorValue] = useState(\"\");\r\n//   const [departmentOptions, setDepartments] = useState([]);\r\n//   const [projectOptions, setProjects] = useState([]);\r\n//   const [mdrOptions, setMdrData] = useState([]);\r\n//   const [user, setUser] = useState(JSON.parse(localStorage?.getItem(\"user\")));\r\n//   const [data, setData] = useState([]);\r\n//   const [dataArray, setDataArray] = useState([]);\r\n//   const [projectCode, setProjectCode] = useState(\"\");\r\n//   const [areaCode, setAreaCode] = useState(\"\");\r\n//   const [deptSuffix, setDeptSuffix] = useState(\"\");\r\n//   const [departments,setDepartment] = useState([])\r\n//   const [projects,setProject] = useState([])\r\n//   const [showTreeView, setShowTreeView] = useState(false);\r\n//   const [userOption, setUserDatalist] = useState([]);\r\n//   const [assignedEmployees, setAssignedEmployees] = useState([]);\r\n//   const [myrecord,setMyRecord]=useState({});\r\n//   const [searchText, setSearchText] = useState('');\r\n//   const [searchedColumn, setSearchedColumn] = useState('');\r\n//   const searchInput = useRef(null);\r\n\r\n  \r\n\r\n//   const assignModalShow = async (record) => {\r\n//     console.log('recorddddd',record);\r\n//     setMyRecord(record);\r\n//     console.log('hellloooo',myrecord);\r\n//     await  fetchUsers();\r\n   \r\n//     setAssignModalVisible(true);\r\n\r\n//   };\r\n\r\n//   const assignModalCancel = () => {\r\n//     setAssignModalVisible(false);\r\n//   };\r\n\r\n//   const handleDoubleClick = () => {\r\n//     setShowTreeView(false);\r\n//   };\r\n\r\n//   const handleDocumentWiseClick = () => {\r\n//     console.log(\"clicked\");\r\n//     setShowTreeView(true);\r\n//   };\r\n\r\n  \r\n \r\n//   const documentModalShow = () => {\r\n//     setDocumentModalVisible(true);\r\n//   };\r\n//   const handleOpen = async (record) => {\r\n//    const responseData=await fetchAppRev(record.title);\r\n//    console.log('helllooo',responseData);\r\n//     // Replace 'John' with the actual doc's name\r\n//     const docName = record.title;\r\n//     const url= `${BACKEND_URL}/uploads/${docName}-${record.version}.pdf` \r\n//     console.log(user.user.roleId,user.user.firstName,user);\r\n//     let allowed='false';\r\n// if(responseData){\r\n// allowed='true';\r\n// }\r\n//     // Redirect to the external URL\r\n//      window.location.href = `http://127.0.0.1:3001/react-pdf-highlighter/?docName=${docName}.pdf&url=${url}&allowed=${allowed}&user=${user.user.roleId} ${user.user.firstName}`;\r\n//   };\r\n//   const documentModalCancel = () => {\r\n//     setMDR(\"\");\r\n//     setDocTitle(\"\");\r\n//     setExtension(\"\");\r\n//     setProjectId(\"\");\r\n//     setDepartmentId(\"\");\r\n//     setTextEditorValue(\"\");\r\n//     setDocumentModalVisible(false);\r\n//   };\r\n  \r\n//   const fetchAppRev = async (title) => {\r\n//     try {\r\n//       const response = await axios.get(\r\n//         `http://127.0.0.1:8083/api/documents/establishment?companyId=${user?.user?.companyId}&userId=${user.user.id}&docName=${title}`,\r\n//         {\r\n//           headers: {\r\n//             Authorization: user?.accessToken,\r\n//             // Add other headers if needed\r\n//           },\r\n//         }\r\n//       );\r\n        \r\n\r\n\r\n//       console.log(response.data,\"received\");\r\n//       return response.data;\r\n    \r\n//     } catch (error) {\r\n//       console.error(\"Error fetching documents:\", error?.message);\r\n//     }\r\n//   };\r\n//   const handleFileChange = async (e, record) => {\r\n//     const formData = new FormData();\r\n\r\n//     const uploadedFile = e.target.files[0];\r\n//     console.log(record);\r\n//     const title=record.title;\r\n//     console.log(record.title,record.version);\r\n//     if (uploadedFile.name === `${record.title}-${record.version}.pdf`) {\r\n//       setFile(uploadedFile);\r\n// console.log(formData,'formdata');\r\n//       console.log('Uploaded file:', uploadedFile);\r\n\r\n//       const obj = {\r\n//         title: title,\r\n//         companyId: user?.user?.companyId,\r\n//         roleId: user?.user?.roleId,\r\n//         userId: user?.user?.id,\r\n//         userName: `${user?.user?.firstName} ${user?.user?.lastName}`,\r\n//         \"file\": uploadedFile\r\n//       };\r\n//       Object.entries(obj).forEach(([key, value]) => {\r\n//         formData.append(key, value);\r\n//       });\r\n//       try {\r\n       \r\n       \r\n\r\n//         const response = await axios.post(\r\n//           `http://127.0.0.1:8083/api/documents/upload`,        \r\n//           formData,\r\n//           {\r\n//             headers: {\r\n//               Authorization: user?.accessToken,\r\n//               // Add other headers if needed\r\n//             },\r\n//           }\r\n//         );\r\n//         // Handle the response as needed\r\n//         console.log(response);\r\n//         message.success(response?.data?.message);\r\n       \r\n//       } catch (error) {\r\n//         // Handle errors\r\n  \r\n//         message.error(error);\r\n//       }\r\n\r\n//     } else {\r\n//       // Show an error message or take appropriate action\r\n//       message.error('File name does not match '+ record.title);\r\n//       // Clear the file input field\r\n//       e.target.value = null;\r\n//     }\r\n//   };\r\n\r\n//   const fetchUsers = async () => {\r\n\r\n    \r\n//     try {\r\n//       const response = await axios.get(\r\n//         `http://127.0.0.1:8083/api/users?companyId=${user?.user?.companyId}&roleId=2`,\r\n//         {\r\n//           headers: {\r\n//             Authorization: user?.accessToken,\r\n//             // Add other headers if needed\r\n//           },\r\n//         }\r\n//       );\r\n//       console.log(response?.data, \"Users\");\r\n//       const option = [];\r\n//       let role='';\r\n//       console.log(\"uuuu\",user?.user.roleId,user?.user.companyId,user?.user.id);\r\n// if(user.user.roleId == 1){\r\n\r\n//   for (const item of response?.data) {\r\n//     console.log(myrecord,myrecord.departmentId,item.departmentId,\"data\");\r\n//    if(item.roleId ==2  && myrecord.departmentId.indexOf(item.departmentId) !== -1){\r\n\r\n//     role =`Head of ${item.department}`\r\n//     option.push({\r\n//       value:item?.id,\r\n//       label: `${item?.firstName} ${role} `,\r\n//     });\r\n//  } \r\n// //    if(item.roleId==4 && item.departmentId==user.user.departmentId){\r\n// //      role = `Junior ${item.department}`\r\n// //      option.push({\r\n// //       value:item?.id,\r\n// //       label: `${item?.firstName} ${role} `,\r\n// //     });\r\n// //   }\r\n// //   if(item.roleId==5 && item.departmentId==user.user.departmentId){\r\n// //     role ='Designer/Draughtsmen'\r\n// //     option.push({\r\n// //       value:item?.id,\r\n// //       label: `${item?.firstName} ${role} `,\r\n// //     });\r\n// //  } \r\n//    } }\r\n// if(user.user.roleId==2 ){\r\n//       for (const item of response?.data) {\r\n//        if(item.roleId==3 && item.departmentId==user.user.departmentId){\r\n//         role =`Senior Engineer ${item.department}`\r\n//         option.push({\r\n//           value:item?.id,\r\n//           label: `${item?.firstName} ${role} `,\r\n//         });\r\n//      } \r\n//   //    if(item.roleId==4 && item.departmentId==user.user.departmentId){\r\n//   //      role = `Junior ${item.department}`\r\n//   //      option.push({\r\n//   //       value:item?.id,\r\n//   //       label: `${item?.firstName} ${role} `,\r\n//   //     });\r\n//   //   }\r\n//   //   if(item.roleId==5 && item.departmentId==user.user.departmentId){\r\n//   //     role ='Designer/Draughtsmen'\r\n//   //     option.push({\r\n//   //       value:item?.id,\r\n//   //       label: `${item?.firstName} ${role} `,\r\n//   //     });\r\n//   //  } \r\n//        } }\r\n//        if(user.user.roleId==3){\r\n//         for (const item of response?.data) {\r\n//          if(item.roleId==3 && item.departmentId==user.user.departmentId){\r\n//           role =`Senior Engineer ${item.department}`\r\n//           option.push({\r\n//             value:item?.id,\r\n//             label: `${item?.firstName} ${role} `,\r\n//           });\r\n//        } \r\n//        if(item.roleId==4 && item.departmentId==user.user.departmentId){\r\n//          role = `Junior ${item.department}`\r\n//          option.push({\r\n//           value:item?.id,\r\n//           label: `${item?.firstName} ${role} `,\r\n//         });\r\n//       }\r\n//       if(item.roleId==5 && item.departmentId==user.user.departmentId){\r\n//         role ='Designer/Draughtsmen'\r\n//         option.push({\r\n//           value:item?.id,\r\n//           label: `${item?.firstName} ${role} `,\r\n//         });\r\n//      } \r\n//          } }\r\n//          console.log(\"option\",option);\r\n//       setUserDatalist(option);\r\n//        // Assuming the response.data is an array of DocumentPermissions\r\n//     } catch (error) {\r\n//       console.error(\"Error fetching Users:\", error?.message);\r\n//     }\r\n//   };\r\n\r\n//   const handleFile = (e) => {\r\n//     const uploadedFile = e.target.files[0];\r\n    \r\n//       setFile(uploadedFile);\r\n//       console.log('Uploaded file:', uploadedFile);\r\n   \r\n//   };\r\n\r\n\r\n//   const addDocument = async () => {\r\n//     if (!docTitle || !mdrObj?.departmentId || !mdrObj?.projectId) {\r\n//       // If any required field is missing, display a validation error notification\r\n//       notification.error({\r\n//         message: 'Validation Error',\r\n//         description: 'Please fill in all required fields.',\r\n//         style: {\r\n//           backgroundColor: '#f5222d', // Red color background\r\n//           color: '#fff', // White text color\r\n//         },\r\n//       });\r\n//       return; // Exit early if validation fails\r\n//     }\r\n//     try {\r\n//       const formData = new FormData();\r\n//       formData.append(\"file\", file);\r\n//       const mdrObj = mdrOptions.find((item) => item?.value == mdr);\r\n//       console.log(mdrObj, mdr, user);\r\n//       const obj = {\r\n//         title: docTitle,\r\n//         departmentId: mdrObj?.departmentId,\r\n//         projectId: mdrObj?.projectId,\r\n//         masterDocumentId: mdr,\r\n//         content: textEditorValue,\r\n//         extension,\r\n//         companyId: user?.user?.companyId,\r\n//         roleId: user?.user?.roleId,\r\n//         userId: user?.user?.id,\r\n//         userName: `${user?.user?.firstName} ${user?.user?.lastName}`,\r\n//       };\r\n//       Object.entries(obj).forEach(([key, value]) => {\r\n//         formData.append(key, value);\r\n//       });\r\n//       console.log(formData);\r\n//       const response = await axios.post(\r\n//         `http://127.0.0.1:8083/api/documents/?projectCode=${projectCode}&areaCode=${areaCode}&deptSuffix=${deptSuffix}`,        \r\n//         formData,\r\n//         {\r\n//           headers: {\r\n//             Authorization: user?.accessToken,\r\n//             // Add other headers if needed\r\n//           },\r\n//         }\r\n//       );\r\n//       // Handle the response as needed\r\n//       console.log(response);\r\n//       message.success(response?.data?.message);\r\n//      await fetchData();\r\n//       documentModalCancel();\r\n//     } catch (error) {\r\n//       // Handle errors\r\n\r\n//       if (error?.message == \"Request failed with status code 403\") {\r\n//         message.error(\"Permission Denied to create document on this MDR\");\r\n//       }\r\n//     }\r\n//   };\r\n//   const fetchData = async () => {\r\n    \r\n//     try {\r\n//       const response = await axios.get(\r\n//         `http://127.0.0.1:8083/api/documents?companyId=${user?.user?.companyId}&assignedBy=${user.user.roleId}&userId=${user.user.id}&department=${user.user.departmentId}`,\r\n//         {\r\n//           headers: {\r\n//             Authorization: user?.accessToken,\r\n//             // Add other headers if needed\r\n//           },\r\n//         }\r\n//       );\r\n        \r\n\r\n\r\n//       console.log(response.data,\"received\");\r\n//       // Check if response.data is an array before including it in the setData call\r\n//       const newData = Array.isArray(response.data) ? response.data : [];\r\n\r\n//       setDataArray([...newData])\r\n//       setData([...newData]);\r\n//     } catch (error) {\r\n//       console.error(\"Error fetching documents:\", error?.message);\r\n//     }\r\n//   };\r\n  \r\n//   const fetchDepartments = async () => {\r\n//     try {\r\n//       const response = await axios.get(\r\n//         `http://127.0.0.1:8083/api/departments?companyId=${user?.user?.companyId}`,\r\n//         {\r\n//           headers: {\r\n//             Authorization: user?.accessToken,\r\n//             // Add other headers if needed\r\n//           },\r\n//         }\r\n//       );\r\n//       setDepartment(response.data)\r\n//       const options = [];\r\n//       for (const item of response?.data) {\r\n//         options.push({ value: item?.suffix, label: item?.suffix });\r\n//       }\r\n//       setDepartments(options); // Assuming the response.data is an array of projects\r\n//     } catch (error) {\r\n//       console.error(\"Error fetching departments:\", error?.message);\r\n//     }\r\n//   };\r\n//   const fetchProjects = async () => {\r\n//     try {\r\n//       const response = await axios.get(\r\n//         `http://127.0.0.1:8083/api/projects?companyId=${user?.user?.companyId}`,\r\n//         {\r\n//           headers: {\r\n//             Authorization: user?.accessToken,\r\n//             // Add other headers if needed\r\n//           },\r\n//         }\r\n//       );\r\n//       setProject(response.data)\r\n//       const options = [];\r\n//       for (const item of response?.data) {\r\n//         options.push({ value: item?.code, label: item?.code });\r\n//       }\r\n//       setProjects(options); // Assuming the response.data is an array of projects\r\n//     } catch (error) {\r\n//       console.error(\"Error fetching departments:\", error?.message);\r\n//     }\r\n//   };\r\n//   const fetchMDR = async () => {\r\n//     try {\r\n//       const response = await axios.get(\r\n//         `http://127.0.0.1:8083/api/documents/mdr?companyId=${user?.user?.companyId}`,\r\n//         {\r\n//           headers: {\r\n//             Authorization: user?.accessToken,\r\n//             // Add other headers if needed\r\n//           },\r\n//         }\r\n//       );\r\n//       const options = [];\r\n//       for (const item of response?.data) {\r\n//         options.push({\r\n//           value: item?.id,\r\n//           label: item?.title,\r\n//           projectId: item?.projectId,\r\n//           departmentId: item?.departmentId,\r\n//         });\r\n//       }\r\n\r\n//       setMdrData(options); // Assuming the response.data is an array of projects\r\n//     } catch (error) {\r\n//       console.error(\"Error fetching departments:\", error?.message);\r\n//     }\r\n//   };\r\n//   const [statusModalVisible, setStatusModalVisible] = useState(false);\r\n// const [selectedStatus, setSelectedStatus] = useState(\"\");\r\n// const statusModalShow = (record) => {\r\n//   setSelectedDocument(record);\r\n//   setStatusModalVisible(true);\r\n// };\r\n\r\n// const statusModalCancel = () => {\r\n//   setSelectedStatus(\"\");\r\n//   setStatusModalVisible(false);\r\n// };\r\n// const [updatedData, setUpdatedData] = useState([]);\r\n\r\n// const handleStatusChange = () => {\r\n//   // Check if the selected document is available\r\n//   if (selectedDocument) {\r\n//     // Perform your logic to update the status here\r\n//     // You can use the selectedStatus along with the record data\r\n//     // to update the status in the data array or make an API call\r\n\r\n//     const updatedRecord = { ...selectedDocument, status: selectedStatus };\r\n\r\n//     // Update the data array with the modified record\r\n//     const updatedDataArray = data.map((item) =>\r\n//       item.id === selectedDocument.id ? updatedRecord : item\r\n//     );\r\n//     console.log(selectedDocument)\r\n//     saveData(selectedDocument.id, { 'status': selectedStatus });\r\n\r\n//     // Load data from the specific key\r\n//     const loadedData = loadData(selectedDocument.id);\r\n//     console.log('status',loadedData);\r\n\r\n//     // Trigger a re-render with the updated data\r\n//     setUpdatedData(updatedDataArray);\r\n\r\n//     // Close the status modal\r\n//     statusModalCancel();\r\n//   }\r\n// };\r\n\r\n\r\n// useEffect(() => {\r\n//   setUser(JSON.parse(localStorage?.getItem(\"user\")));\r\n//   // Fetch data when the component mounts\r\n//   fetchDepartments();\r\n//   fetchProjects();\r\n//   fetchMDR();\r\n//   fetchData();\r\n//   fetchUsers()\r\n// }, [myrecord]); // Add updatedData as a dependency\r\n\r\n// useEffect(() => {\r\n//   // Update the data state with the updatedData\r\n//   setData(updatedData);\r\n// }, [updatedData]);\r\n// const assignDoc = async(assignedEmployees,myrecord)=>{\r\n//   try {\r\n//     console.log(assignedEmployees,\"employees\");\r\n//     console.log('aaaa',myrecord.title);\r\n//     // console.log(allUsers);\r\n//     // const assignedUser = allUsers.find(user => user.id == assignedEmployees)      \r\n//     // console.log(assignedUser);\r\n//     const project = projectOptions.find((item) => item?.value == projectId);\r\n//     const department = departmentOptions.find(\r\n//       (item) => item?.value == departmentId\r\n//     );\r\n//     const response = await axios.put(\r\n//       `http://127.0.0.1:8083/api/documents/?assignedTo=${assignedEmployees}&assignedBy=${user.user.roleId}&assignedFrom=${user.user.id}&docName=${myrecord.title}`,\r\n//       {},\r\n//       {\r\n//         headers: {\r\n//           Authorization: user?.accessToken,\r\n//           // Add other headers if needed\r\n//         },\r\n//       }\r\n//     );\r\n//     setAssignModalVisible(false)\r\n//     fetchData()\r\n//   } catch (error) {\r\n//     console.error(\"Error assigning documents:\", error);\r\n//   }\r\n// }\r\n\r\n//   return (\r\n//     <>\r\n//     <Modal\r\n//   title=\"Change Status\"\r\n//   width={400}\r\n//   centered\r\n//   visible={statusModalVisible}\r\n//   onCancel={statusModalCancel}\r\n//   footer={null}\r\n//   closeIcon={<RiCloseFill className=\"remix-icon text-color-black-100\" size={24} />}\r\n// >\r\n//   <Row justify=\"space-between\" align=\"center\">\r\n//     <Col span={20}>\r\n//       <Form layout=\"vertical\" name=\"basic\">\r\n//         <Form.Item\r\n//           label=\"Select Status\"\r\n//           name=\"selectedStatus\"\r\n//           rules={[\r\n//             {\r\n//               required: true,\r\n//               message: \"Please select a status\",\r\n//             },\r\n//           ]}\r\n//         >\r\n//           <Select\r\n//             options={[\r\n//               { label: \"In-Progress\", value: \"in-progress\" },\r\n//       { label: \"Hold\", value: \"hold\" },\r\n//       { label: \"Pending Review (In-House)\", value: \"pending-review-in-house\" },\r\n//       { label: \"Pending Approval (In-House)\", value: \"pending-approval-in-house\" },\r\n//       { label: \"Reviewed (In-House)\", value: \"reviewed-in-house\" },\r\n//       { label: \"Approved (In-House)\", value: \"approved-in-house\" },\r\n//       { label: \"Pending Review (Client)\", value: \"pending-review-client\" },\r\n//       { label: \"Pending Endorsement (Client)\", value: \"pending-endorsement-client\" },\r\n//       { label: \"Endorsed (Client)\", value: \"endorsed-client\" },\r\n//       { label: \"Document Ready to Publish\", value: \"ready-to-publish\" },\r\n//             ]}\r\n//             value={selectedStatus}\r\n//             onChange={(value) => setSelectedStatus(value)}\r\n//           />\r\n//         </Form.Item>\r\n//         {/* ... (your existing code) */}\r\n//         <Row>\r\n//           <Col md={12} span={24} className=\"hp-pr-sm-0 hp-pr-12\">\r\n//             <Button\r\n//               block\r\n//               type=\"primary\"\r\n//               htmlType=\"submit\"\r\n//               onClick={() => handleStatusChange(selectedStatus)}\r\n//             >\r\n//               Submit\r\n//             </Button>\r\n//           </Col>\r\n//           <Col md={12} span={24} className=\"hp-mt-sm-12 hp-pl-sm-0 hp-pl-12\">\r\n//             <Button block onClick={statusModalCancel}>\r\n//               Cancel\r\n//             </Button>\r\n//           </Col>\r\n//         </Row>\r\n//       </Form>\r\n//     </Col>\r\n//   </Row>\r\n// </Modal>\r\n\r\n\r\n// <Modal\r\n//         title=\"Assign Document\"\r\n//         width={400}\r\n//         centered\r\n//         visible={assignModalVisible}\r\n//         onCancel={assignModalCancel}\r\n//         footer={null}\r\n//         closeIcon={\r\n//           <RiCloseFill className=\"remix-icon text-color-black-100\" size={24} />\r\n//         }\r\n//       >\r\n//         <Row justify=\"space-between\" align=\"center\">\r\n//           <Col span={20}>\r\n//             <Form layout=\"vertical\" name=\"basic\">\r\n//                 <Form.Item\r\n//                 label=\"Assign Document to\"\r\n//                 name=\"assignDoc\"\r\n//                 rules={[\r\n//                   {\r\n//                     required: true,\r\n//                     message: \"Please Assign Document\",\r\n//                   },\r\n//                 ]}\r\n//               >\r\n//               <Checkbox.Group\r\n//               options={userOption}\r\n//               value={assignedEmployees}\r\n//               onChange={(value) => setAssignedEmployees(value)}\r\n//   />\r\n//                 </Form.Item>\r\n\r\n//               <Row>           \r\n//               <Col md={12} span={24} className=\"hp-pr-sm-0 hp-pr-12\">\r\n//                   <Button block onClick={()=>assignDoc(assignedEmployees,myrecord)} type=\"primary\"htmlType=\"submit\">Assign</Button>\r\n//                 </Col>\r\n              \r\n//               </Row>\r\n//             </Form>\r\n//           </Col>\r\n//         </Row>\r\n//       </Modal>\r\n\r\n\r\n\r\n//       <Modal\r\n//         title=\"Upload Document\"\r\n//         width={1000}\r\n//         centered\r\n//         visible={documentModalVisible}\r\n//         onCancel={documentModalCancel}\r\n//         footer={null}\r\n//         closeIcon={\r\n//           <RiCloseFill className=\"remix-icon text-color-black-100\" size={24} />\r\n//         }\r\n//       >\r\n//         <Row justify=\"space-between\" align=\"center\">\r\n//           <Col span={15}>\r\n//             <ReactQuill\r\n//               style={{ height: \"300px\" }}\r\n//               theme=\"snow\"\r\n//               value={textEditorValue}\r\n//               onChange={setTextEditorValue}\r\n//             />\r\n//           </Col>\r\n//           <Col span={7}>\r\n//             <Form layout=\"vertical\" name=\"basic\">\r\n//               <Form.Item\r\n//                 label=\"Document Title\"\r\n//                 name=\"docTitle\"\r\n//                 rules={[\r\n//                   {\r\n//                     required: true,\r\n//                     message: \"Please input your title\",\r\n//                   },\r\n//                 ]}\r\n//               >\r\n//                 <Input\r\n//                   value={docTitle}\r\n//                   onChange={(e) => setDocTitle(e.target.value)}\r\n//                 />\r\n//               </Form.Item>\r\n\r\n\r\n//               <Form.Item\r\n//                 label=\"MDR\"\r\n//                 name=\"mdr\"\r\n//                 rules={[\r\n//                   {\r\n//                     required: true,\r\n//                     message: \"Please select MDR\",\r\n//                   },\r\n//                 ]}\r\n//               >\r\n//                 <Select\r\n//                   options={mdrOptions}\r\n//                   value={mdr}\r\n//                   onChange={(value) => setMDR(value)}\r\n//                 />\r\n//               </Form.Item>\r\n\r\n//               <Form.Item\r\n//                 label=\"Project Code\"\r\n//                 name=\"projectCode\"\r\n//                 rules={[\r\n//                   {\r\n//                     required: true,\r\n//                     message: \"Please select Project Code\",\r\n//                   },\r\n//                 ]}\r\n//               >\r\n//                 <Select\r\n//                   options={projectOptions}\r\n//                   value={projectCode}\r\n//                   onChange={(value) => setProjectCode(value)}\r\n//                 />\r\n//               </Form.Item>\r\n\r\n//               <Form.Item\r\n//                 label=\"Area Code\"\r\n//                 name=\"areaCode\"\r\n//                 rules={[\r\n//                   {\r\n//                     required: true,\r\n//                     message: \"Please select Area Code\",\r\n//                   },\r\n//                 ]}\r\n//               >\r\n//                 <Select\r\n//             options={[\r\n//               { label: \"01\", value: \"01\" },\r\n//               { label: \"02\", value: \"02\" },\r\n\r\n//             ]}\r\n//                   value={areaCode}\r\n//                   onChange={(value) => setAreaCode(value)}\r\n//                 />\r\n//               </Form.Item>\r\n\r\n//               <Form.Item\r\n//                 label=\"Department Suffix\"\r\n//                 name=\"deptSuffix\"\r\n//                 rules={[\r\n//                   {\r\n//                     required: true,\r\n//                     message: \"Please Add Department Suffix\",\r\n//                   },\r\n//                 ]}\r\n//               >\r\n//                 <Select\r\n//             options={departmentOptions}\r\n//                   value={deptSuffix}\r\n//                   onChange={(value) => setDeptSuffix(value)}\r\n//                 />\r\n//               </Form.Item>\r\n\r\n//               <Form.Item\r\n//                 label=\"Extension\"\r\n//                 name=\"extension\"\r\n//                 rules={[\r\n//                   {\r\n//                     required: true,\r\n//                     message: \"Please select Extention\",\r\n//                   },\r\n//                 ]}\r\n//               >\r\n//                 <Select\r\n//                   options={[\r\n//                     { value: \".pdf\", label: \".pdf\" },\r\n//                     { value: \".docx\", label: \".docx\" },\r\n//                   ]}\r\n//                   value={extension}\r\n//                   onChange={(value) => setExtension(value)}\r\n//                 />\r\n//               </Form.Item>\r\n\r\n//               {/* <Upload {...uploadProps}>\r\n//                 <Button icon={<UploadOutlined />}>Click to Upload</Button>\r\n//               </Upload> */}\r\n//               <input type=\"file\" onChange={handleFile} />\r\n//               <Row>\r\n//                 <Col md={12} span={24} className=\"hp-pr-sm-0 hp-pr-12\">\r\n//                   <Button\r\n//                     block\r\n//                     type=\"primary\"\r\n//                     htmlType=\"submit\"\r\n//                     onClick={() => addDocument()}\r\n//                   >\r\n//                     Submit\r\n//                   </Button>\r\n//                 </Col>\r\n\r\n//                 <Col\r\n//                   md={12}\r\n//                   span={24}\r\n//                   className=\"hp-mt-sm-12 hp-pl-sm-0 hp-pl-12\"\r\n//                 >\r\n//                   <Button block onClick={documentModalCancel}>\r\n//                     Cancel\r\n//                   </Button>\r\n//                 </Col>\r\n//               </Row>\r\n//             </Form>\r\n//           </Col>\r\n//         </Row>\r\n//       </Modal>\r\n//       <div style={{ textAlign: \"right\", marginBottom: \"16px\" ,padding:\"15px\", gap:\"15px\"}}>\r\n//         <Button\r\n//           type=\"primary\"\r\n//           onClick={documentModalShow}\r\n//           style={{ marginRight: '10px' }}\r\n\r\n//           disabled={user?.user?.roleId == 3}\r\n//         >\r\n//           Add Documents\r\n//         </Button>\r\n\r\n\r\n//         <Button\r\n//           type=\"primary\"\r\n//           onClick={handleDocumentWiseClick}\r\n//           disabled={user?.user?.roleId == 3}\r\n//           onDoubleClick={handleDoubleClick}\r\n//         >Document Tree\r\n//         </Button>\r\n//       </div>\r\n//       {\r\n//         showTreeView?<MyTreeView />:      <div style={{ overflowX: \"auto\" }}>\r\n//         <Table columns={columns} dataSource={data}  bordered size=\"middle\"\r\n//       title={() => 'All Documents Information'}\r\n//       footer={() => 'You may filter Documents'}/></div>\r\n//       }\r\n      \r\n//       <ProtectedAppPage />      \r\n//     </>\r\n//   );\r\n// }\r\n\r\n\r\n\r\n\r\n\r\n\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { FormattedMessage } from \"react-intl\";\r\nimport { saveData, loadData, getAllKeys } from '../../storage';\r\nimport { useHistory } from 'react-router-dom'; \r\nimport MyTreeView from \"../treeview/MyTreeView\";\r\nimport { DownOutlined } from '@ant-design/icons';\r\nimport {Row,Col,Divider,notification,Form,Menu,Dropdown,Space,Checkbox,Table,Select,Tag,Input,DatePicker,TimePicker,Button,Modal,message,Upload, Tooltip, InputNumber,\r\n} from \"antd\";\r\nimport { Radio } from \"antd\";\r\nimport axios from \"axios\";\r\nimport jsondata from '../initialMDR/data.json';\r\n\r\nimport { RiCloseFill, RiCalendarLine } from \"react-icons/ri\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { UploadOutlined } from \"@ant-design/icons\";\r\nimport ProtectedAppPage from \"../Protected\";\r\nimport ReactQuill from \"react-quill\";\r\nimport \"react-quill/dist/quill.snow.css\";\r\nimport { SearchOutlined } from '@ant-design/icons';\r\nimport Highlighter from 'react-highlight-words';\r\nimport { useRef } from \"react\";\r\nimport { Assignment, DeleteOutlined, OpenInFull } from \"@mui/icons-material\";\r\n\r\n\r\nconst uploadProps = {\r\n  name: \"file\",\r\n  action: \"https://run.mocky.io/v3/435e224c-44fb-4773-9faf-380c5e6a2188\",\r\n  headers: {\r\n    authorization: \"authorization-text\",\r\n  },\r\n  onChange(info) {\r\n    if (info.file.status !== \"uploading\") {\r\n      console.log(info.file, info.fileList);\r\n    }\r\n    if (info.file.status === \"done\") {\r\n      message.success(`${info.file.name} file uploaded successfully`);\r\n    } else if (info.file.status === \"error\") {\r\n      message.error(`${info.file.name} file upload failed.`);\r\n    }\r\n  },\r\n};\r\n\r\nexport default function Document() {\r\n  const menu = (\r\n    <Menu>\r\n      <Menu.Item onClick={() => handleAll()}>All</Menu.Item>\r\n      <Menu.Item onClick={() => handleReviewed()}>Reviewed</Menu.Item>\r\n      <Menu.Item onClick={() => handleApproved()}>Approved</Menu.Item>\r\n      <Menu.Item onClick={() => handleCompleted()}>Completed</Menu.Item>\r\n      <Menu.Item onClick={() => handleUploaded()}>Uploaded</Menu.Item>\r\n    </Menu>\r\n  );\r\n\r\n  const handleAll=()=>{\r\n    setData(dataArray)\r\n  }\r\n  const handleReviewed=()=>{\r\n    setData(dataArray)\r\n  }\r\n  const handleApproved=()=>{\r\n    setData(dataArray)\r\n  }\r\n  const handleCompleted=()=>{\r\n    const completedData = dataArray.filter(item => item.status === 'completed');\r\n    setData(completedData)\r\n  }\r\n  const handleUploaded=()=>{\r\n    const ongoingData = dataArray.filter(item => item.status === 'ongoing');\r\n    setData(ongoingData)\r\n\r\n  }\r\n\r\n  const handleSearch = (selectedKeys, confirm, dataIndex) => {\r\n    confirm();\r\n    setSearchText(selectedKeys[0]);\r\n    setSearchedColumn(dataIndex);\r\n  };\r\n  const handleReset = (clearFilters) => {\r\n    clearFilters();\r\n    setSearchText('');\r\n  };\r\n\r\n\r\n  const getColumnSearchProps = (dataIndex) => ({\r\n    filterDropdown: ({ setSelectedKeys, selectedKeys, confirm, clearFilters, close }) => (\r\n      <div style={{ padding: 8 }}>\r\n        <Input\r\n          ref={searchInput}\r\n          placeholder={`Search ${dataIndex}`}\r\n          value={selectedKeys[0]}\r\n          onChange={(e) => setSelectedKeys(e.target.value ? [e.target.value] : [])}\r\n          onPressEnter={() => handleSearch(selectedKeys, confirm, dataIndex)}\r\n          style={{ marginBottom: 8, display: 'block' }}\r\n        />\r\n        <Space>\r\n          <Button\r\n            type=\"primary\"\r\n            onClick={() => handleSearch(selectedKeys, confirm, dataIndex)}\r\n            icon={<SearchOutlined />}\r\n            size=\"small\"\r\n            style={{ width: 90 }}\r\n          >\r\n            Search\r\n          </Button>\r\n          <Button onClick={() => clearFilters && handleReset(clearFilters)} size=\"small\" style={{ width: 90 }}>\r\n            Reset\r\n          </Button>\r\n          \r\n        </Space>\r\n      </div>\r\n    ),\r\n    filterIcon: (filtered) => (\r\n      <SearchOutlined style={{ color: filtered ? '#1677ff' : undefined }} />\r\n    ),\r\n    onFilter: (value, record) =>\r\n      record[dataIndex].toString().toLowerCase().includes(value.toLowerCase()),\r\n    onFilterDropdownOpenChange: (visible) => {\r\n      if (visible) {\r\n        setTimeout(() => searchInput.current?.select(), 100);\r\n      }\r\n    },\r\n    render: (text) =>\r\n      searchedColumn === dataIndex ? (\r\n        <Highlighter\r\n          highlightStyle={{\r\n            backgroundColor: '#ffc069',\r\n            padding: 0,\r\n          }}\r\n          searchWords={[searchText]}\r\n          autoEscape\r\n          textToHighlight={text ? text.toString() : ''}\r\n        />\r\n      ) : (\r\n        text\r\n      ),\r\n  });\r\n\r\n\r\n  const BACKEND_URL = \"http://127.0.0.1:8083\"; // Update with your backend URL\r\n\r\n  const history = useHistory();\r\n\r\n\r\n\r\n\r\n\r\n  const [assignModalVisible, setAssignModalVisible] = useState(false);\r\n  const [selectedDocument, setSelectedDocument] = useState(null);\r\n  const [documentModalVisible, setDocumentModalVisible] = useState(false);\r\n  const [docTitle, setDocTitle] = useState(\"\");\r\n  const [projectId, setProjectId] = useState(\"\");\r\n  const [departmentId, setDepartmentId] = useState(\"\");\r\n  const [extension, setExtension] = useState(\"\");\r\n  const [mdr, setMDR] = useState(\"\");\r\n  const [file, setFile] = useState(null);\r\n  const [textEditorValue, setTextEditorValue] = useState(\"\");\r\n  const [departmentOptions, setDepartments] = useState([]);\r\n  const [projectOptions, setProjects] = useState([]);\r\n  const [docTypeOptions, setDocTypeOptions] = useState([]);\r\n\r\n  const [mdrOptions, setMdrData] = useState([]);\r\n  const [user, setUser] = useState(JSON.parse(localStorage?.getItem(\"user\")));\r\n  const [data, setData] = useState([]);\r\n  const [dataArray, setDataArray] = useState([]);\r\n  const [projectCode, setProjectCode] = useState(\"\");\r\n  const [docType, setDocType] = useState(\"\");\r\n  const [count, setCount] = useState(\"\");\r\n\r\n  const [areaCode, setAreaCode] = useState(\"\");\r\n  const [deptSuffix, setDeptSuffix] = useState(\"\");\r\n  const [departments,setDepartment] = useState([])\r\n  const [projects,setProject] = useState([])\r\n  const [showTreeView, setShowTreeView] = useState(false);\r\n  const [userOption, setUserDatalist] = useState([]);\r\n  const [Users, setUsers] = useState();\r\n\r\n  const [assignedEmployees, setAssignedEmployees] = useState([]);\r\n  const [record, setRecord] = useState(null);\r\n  const [deleteModalVisible, setDeleteModalVisible] = useState(false);\r\n\r\n  const [myrecord,setMyRecord]=useState({});\r\n  const [searchText, setSearchText] = useState('');\r\n  const [searchedColumn, setSearchedColumn] = useState('');\r\n  const searchInput = useRef(null);\r\n\r\n  const [form] = Form.useForm();\r\n  const[docuementForm]= Form.useForm()\r\n\r\n\r\n  const handleAddDocument = () => {\r\n    docuementForm.validateFields().then((values) => {\r\n      addDocument()\r\n      docuementForm.resetFields();\r\n    });\r\n  };\r\n\r\n\r\n  const columns = [\r\n    {\r\n      title: \"Document Code\",\r\n      dataIndex: \"masterDocumentId\",\r\n      key: \"masterDocumentId\",\r\n      ...getColumnSearchProps('masterDocumentId'),\r\n\r\n    },\r\n    {\r\n      title: \"Document Name\",\r\n      dataIndex: \"title\",\r\n      key: \"title\",\r\n      ...getColumnSearchProps('title'),\r\n\r\n    }, {\r\n      title: \"Version\",\r\n      dataIndex: \"version\",\r\n      key: \"version\",\r\n    },\r\n    // {\r\n    //   title: \".exe\",\r\n    //   dataIndex: \"extension\",\r\n    //   key: \"extension\",\r\n    // },\r\n    {\r\n      title: (\r\n        \"Status\"\r\n      ),\r\n      key: \"status\",\r\n      dataIndex: \"status\",\r\n  \r\n  filters: [\r\n    {\r\n      text: 'Initialized',\r\n      value: 'Initialized',\r\n    },\r\n        {\r\n          text: 'Reviewed',\r\n          value: 'Reviewed',\r\n        },\r\n        {\r\n          text: 'Approved',\r\n          value: 'Approved',\r\n        },\r\n        {\r\n          text: 'Completed',\r\n          value: 'Completed',\r\n        },\r\n        {\r\n          text: 'Uploaded',\r\n          value: 'Uploaded',\r\n        },\r\n      ],\r\n      onFilter:  (value, record) =>record.status === value,\r\n    },\r\n    {\r\n      title: \"Assigned To\",\r\n      dataIndex: \"assignedToName\",\r\n      key: \"assignedToName\",\r\n      render: (_, record) => {\r\n    \r\n        // Check if assignedToName is already present\r\n        if (record.assignedToName) {\r\n          return record.assignedToName;\r\n        }\r\n    \r\n        // If assignedToName is not present, proceed with splitting and mapping\r\n        const assigned = record.assignedTo;\r\n        const assignedToNames = assigned?.split(\",\");\r\n    \r\n        return (\r\n          assignedToNames && \r\n          <Space size=\"middle\">\r\n            {assignedToNames.map((name, index) => (\r\n              <span key={index}>{Users && Users[name]}</span>\r\n            ))}\r\n          </Space>\r\n        );\r\n      },\r\n    },\r\n    \r\n    \r\n    {\r\n      title: \"Action\",\r\n      key: \"action\",\r\n      render: (_, record) => (\r\n        <Space size=\"middle\">\r\n          {user.user.roleId != 1 ? record.status=='Initialized' || record.status=='Reviewers Rejected' || record.status=='Approvers Rejected'? (\r\n                    <Space size=\"middle\">\r\n\r\n            <input type=\"file\" onChange={(e)=>handleFileChange(e,record)}>\r\n             \r\n\r\n            </input>\r\n\r\n            {/* <Button\r\n            size=\"middle\"\r\n            icon={<Assignment />}\r\n            onClick={() => assignModalShow(record)}\r\n          /> */}\r\n\r\n<Tooltip title=\"Assign Doc\">\r\n  <Button\r\n    size=\"middle\"\r\n    icon={<Assignment />}\r\n    // disabled={user?.user?.roleId !== 1}\r\n    onClick={() => assignModalShow(record)}\r\n  />\r\n</Tooltip>\r\n\r\n            {/* <a onClick={() => assignModalShow(record)}>Assign Document</a> */}\r\n\r\n            </Space>\r\n\r\n            \r\n          ) : user.user.id == record.assignedTo ?(\r\n            <Space size=\"middle\">\r\n\r\n            {/* <a onClick={() => handleOpen(record)}>Open</a> */}\r\n            <Tooltip title=\"Open\">\r\n  <Button\r\n    size=\"middle\"\r\n    icon={<OpenInFull />}\r\n    // disabled={user?.user?.roleId !== 1}\r\n    onClick={() => handleOpen(record)}\r\n  />\r\n</Tooltip>\r\n            \r\n            <input type=\"file\" onChange={(e)=>handleFileChange(e,record)}/>\r\n            </Space>\r\n\r\n          ): (\r\n            <>\r\n          {/* <a onClick={() => handleOpen(record)}>Open</a> */}\r\n          <Tooltip title=\"Open\">\r\n  <Button\r\n    size=\"middle\"\r\n    icon={<OpenInFull />}\r\n    // disabled={user?.user?.roleId !== 1}\r\n    onClick={() => handleOpen(record)}\r\n  />\r\n</Tooltip>\r\n              {/* <a onClick={() => history.push(`/pages/mypdf?documentId=${record.title}`)}>Open</a> */}\r\n              {/* <a onClick={() => statusModalShow(record)}>Add Status</a> */}\r\n            </>\r\n          ):record.status =='Initialized'?              \r\n        //   <Button\r\n        //   size=\"middle\"\r\n        //   icon={<Assignment />}\r\n        //   onClick={() => assignModalShow(record)}\r\n        // />\r\n        <Tooltip title=\"Assign Doc\">\r\n  <Button\r\n    size=\"middle\"\r\n    icon={<Assignment />}\r\n    // disabled={user?.user?.roleId !== 1}\r\n    onClick={() => assignModalShow(record)}\r\n  />\r\n</Tooltip>\r\n          // <a onClick={() => assignModalShow(record)}>Assign Document</a>\r\n          :(\r\n            <>\r\n        {/* <a onClick={() => handleOpen(record)}>Open</a> */}\r\n        <Tooltip title=\"Open\">\r\n  <Button\r\n    size=\"middle\"\r\n    icon={<OpenInFull />}\r\n    // disabled={user?.user?.roleId !== 1}\r\n    onClick={() => handleOpen(record)}\r\n  />\r\n</Tooltip>\r\n              {/* <a onClick={() => history.push(`/pages/mypdf?documentId=${record.title}`)}>Open</a> */}\r\n              {/* <a onClick={() => statusModalShow(record)}>Add Status</a> */}\r\n            </>\r\n          )}\r\n          {/* <Button\r\n            size=\"middle\"\r\n            icon={<DeleteOutlined />}\r\n            disabled={user?.user?.roleId !== 1}\r\n            onClick={() => deleteModalShow(record)}\r\n          />\r\n           */}\r\n           <Tooltip title=\"Delete\">\r\n  <Button\r\n    size=\"middle\"\r\n    icon={<DeleteOutlined />}\r\n    disabled={user?.user?.roleId !== 1}\r\n    onClick={() => deleteModalShow(record)}\r\n  />\r\n</Tooltip>\r\n          {/* <a onClick={() => deleteModalShow(record)} disabled={user?.user?.roleId !== 1}>Delete</a> */}\r\n\r\n        </Space>\r\n      ),\r\n    }\r\n  ];\r\n\r\n  const handleSubmit = () => {\r\n    form.validateFields().then((values) => {\r\n      assignDoc(assignedEmployees,myrecord)\r\n    form.resetFields();\r\n    });\r\n  };\r\n\r\n  const deleteModalShow = (record) => {\r\n    setRecord(record)\r\n    setDeleteModalVisible(true);\r\n  };\r\n  const deleteModalCancel = () => {\r\n    setDeleteModalVisible(false);\r\n  };\r\n\r\n  const assignModalShow = async (record) => {\r\n    console.log(userOption,'Options');\r\n    \r\n    console.log('recorddddd',record);\r\n    setMyRecord(record);\r\n    console.log('hellloooo',myrecord);\r\n    // fetchUsers();\r\n   \r\n    setAssignModalVisible(true);\r\n\r\n  };\r\n\r\n  const assignModalCancel = () => {\r\n    setAssignModalVisible(false);\r\n  };\r\n\r\n  const handleDoubleClick = () => {\r\n    setShowTreeView(false);\r\n  };\r\n\r\n  const handleDocumentWiseClick = () => {\r\n    console.log(\"clicked\");\r\n    setShowTreeView(true);\r\n  };\r\n\r\n  \r\n  const handleDelete = async (record) => {\r\n    // Your delete logic here\r\n    const id = record.id\r\n    console.log(id);\r\n    const response = await axios.delete(\r\n      `http://127.0.0.1:8083/api/users?delete=5&recordId=${record.id}`,\r\n      {\r\n        headers: {\r\n          Authorization: user?.accessToken,\r\n          // Add other headers if needed\r\n        },\r\n      }\r\n    );\r\n    message.success(response.data.message)\r\n    deleteModalCancel()\r\n    fetchData()\r\n  \r\n  };\r\n  const documentModalShow = () => {\r\n    setDocumentModalVisible(true);\r\n  };\r\n  const handleOpen = async (record) => {\r\n   const responseData=await fetchAppRev(record.title);\r\n   console.log('helllooo',responseData);\r\n    // Replace 'John' with the actual doc's name\r\n    const docName = record.title;\r\n    const url= `${BACKEND_URL}/uploads/${docName}-${record.version}.pdf` \r\n    console.log(user.user.roleId,user.user.firstName,user);\r\n    let allowed='false';\r\nif(responseData){\r\nallowed='true';\r\n}\r\n    // Redirect to the external URL\r\n     window.location.href = `http://127.0.0.1:3001/react-pdf-highlighter/?docName=${docName}.pdf&url=${url}&allowed=${allowed}&user=${user.user.roleId} ${user.user.firstName}`;\r\n  };\r\n  const documentModalCancel = () => {\r\n    setMDR(\"\");\r\n    setDocTitle(\"\");\r\n    setExtension(\"\");\r\n    setProjectId(\"\");\r\n    setDepartmentId(\"\");\r\n    setTextEditorValue(\"\");\r\n    setDocumentModalVisible(false);\r\n  };\r\n  \r\n  const fetchAppRev = async (title) => {\r\n    try {\r\n      const response = await axios.get(\r\n        `http://127.0.0.1:8083/api/documents/establishment?companyId=${user?.user?.companyId}&userId=${user.user.id}&docName=${title}`,\r\n        {\r\n          headers: {\r\n            Authorization: user?.accessToken,\r\n            // Add other headers if needed\r\n          },\r\n        }\r\n      );\r\n        \r\n\r\n\r\n      console.log(response.data,\"received\");\r\n      return response.data;\r\n    \r\n    } catch (error) {\r\n      console.error(\"Error fetching documents:\", error?.message);\r\n    }\r\n  };\r\n  const handleFileChange = async (e, record) => {\r\n    const formData = new FormData();\r\n\r\n    const uploadedFile = e.target.files[0];\r\n    console.log(record);\r\n    const title=record.title;\r\n    console.log(record.title,record.version);\r\n    if (uploadedFile.name === `${record.title}-${record.version}.pdf`) {\r\n      setFile(uploadedFile);\r\nconsole.log(formData,'formdata');\r\n      console.log('Uploaded file:', uploadedFile);\r\n\r\n      const obj = {\r\n        title: title,\r\n        companyId: user?.user?.companyId,\r\n        roleId: user?.user?.roleId,\r\n        userId: user?.user?.id,\r\n        userName: `${user?.user?.firstName} ${user?.user?.lastName}`,\r\n        \"file\": uploadedFile\r\n      };\r\n      Object.entries(obj).forEach(([key, value]) => {\r\n        formData.append(key, value);\r\n      });\r\n      try {\r\n       \r\n       \r\n\r\n        const response = await axios.post(\r\n          `http://127.0.0.1:8083/api/documents/upload`,        \r\n          formData,\r\n          {\r\n            headers: {\r\n              Authorization: user?.accessToken,\r\n              // Add other headers if needed\r\n            },\r\n          }\r\n        );\r\n        // Handle the response as needed\r\n        console.log(response);\r\n        message.success(response?.data?.message);\r\n       \r\n      } catch (error) {\r\n        // Handle errors\r\n  \r\n        message.error(error);\r\n      }\r\n\r\n    } else {\r\n      // Show an error message or take appropriate action\r\n      message.error('File name does not match '+ record.title);\r\n      // Clear the file input field\r\n      e.target.value = null;\r\n    }\r\n  };\r\n\r\n  const fetchUsers = async () => {\r\n\r\n    \r\n    try {\r\n      const response = await axios.get(\r\n        `http://127.0.0.1:8083/api/users?companyId=${user?.user?.companyId}&roleId=2`,\r\n        {\r\n          headers: {\r\n            Authorization: user?.accessToken,\r\n            // Add other headers if needed\r\n          },\r\n        }\r\n      );\r\n      console.log(response?.data, \"Users\");\r\n      const option = [];\r\n      let options = {}\r\n\r\n      let role='';\r\n      console.log(\"uuuu\",user?.user.roleId,user?.user.companyId,user?.user.id);\r\nif(user.user.roleId == 1){\r\n\r\n  for (const item of response?.data) {\r\n    console.log(myrecord,myrecord.departmentId,item.departmentId,\"data\");\r\n    options[item.id] = `${item.firstName}`\r\n  //  if(item.roleId ==2  && myrecord.departmentId.indexOf(item.departmentId) !== -1){\r\n    if(item.roleId ==2){\r\n\r\n    role =`Head of ${item.department}`\r\n    option.push({\r\n      value:item?.id,\r\n      label: `${item?.firstName} ${role} `,\r\n    });\r\n } \r\n\r\n   } }\r\nif(user.user.roleId==2 ){\r\n      for (const item of response?.data) {\r\n       if(item.roleId==3 && item.departmentId==user.user.departmentId){\r\n        role =`Senior Engineer ${item.department}`\r\n        option.push({\r\n          value:item?.id,\r\n          label: `${item?.firstName} ${role} `,\r\n        });\r\n     } \r\n       } }\r\n       if(user.user.roleId==3){\r\n        for (const item of response?.data) {\r\n         if(item.roleId==3 && item.departmentId==user.user.departmentId){\r\n          role =`Senior Engineer ${item.department}`\r\n          option.push({\r\n            value:item?.id,\r\n            label: `${item?.firstName} ${role} `,\r\n          });\r\n       } \r\n       if(item.roleId==4 && item.departmentId==user.user.departmentId){\r\n         role = `Junior ${item.department}`\r\n         option.push({\r\n          value:item?.id,\r\n          label: `${item?.firstName} ${role} `,\r\n        });\r\n      }\r\n      if(item.roleId==5 && item.departmentId==user.user.departmentId){\r\n        role ='Designer/Draughtsmen'\r\n        option.push({\r\n          value:item?.id,\r\n          label: `${item?.firstName} ${role} `,\r\n        });\r\n     } \r\n         } }\r\n         console.log(\"option\",option);\r\n      setUserDatalist(option);\r\n      setUsers(options)\r\n       // Assuming the response.data is an array of DocumentPermissions\r\n    } catch (error) {\r\n      console.error(\"Error fetching Users:\", error?.message);\r\n    }\r\n  };\r\n\r\n  const handleFile = (e) => {\r\n    const uploadedFile = e.target.files[0];\r\n    \r\n      setFile(uploadedFile);\r\n      console.log('Uploaded file:', uploadedFile);\r\n   \r\n  };\r\n\r\n\r\n  const addDocument = async () => {\r\n    if (!docTitle || !mdr ||!projectCode ||!areaCode ||!docType|| !deptSuffix ) {\r\n      // If any required field is missing, display a validation error notification\r\n      notification.error({\r\n        message: 'Validation Error',\r\n        description: 'Please fill in all required fields.',\r\n        style: {\r\n          backgroundColor: '#f5222d', // Red color background\r\n          color: '#fff', // White text color\r\n        },\r\n      });\r\n      return; // Exit early if validation fails\r\n    }\r\n    try {\r\n      const response = await axios.post(\r\n        `http://127.0.0.1:8083/api/documents/addingDoc`,        \r\n        {\r\n          title: docTitle,\r\n          masterDocumentCode: mdr,\r\n          projectCode:projectCode,\r\n          areaCode:areaCode,\r\n          docType:docType,\r\n          deptSuffix:deptSuffix,\r\n          companyId: user?.user?.companyId,\r\n          roleId: user?.user?.roleId,\r\n          userId: user?.user?.id,\r\n          userName: `${user?.user?.firstName} ${user?.user?.lastName}`,\r\n          count,\r\n\r\n        },        \r\n        {\r\n          headers: {\r\n            Authorization: user?.accessToken,\r\n            // Add other headers if needed\r\n          },\r\n        }\r\n      );\r\n      // Handle the response as needed\r\n      console.log(response,'responses');\r\n      message.success(response?.data?.message);\r\n      await fetchData();\r\n      documentModalCancel();\r\n    } catch (error) {\r\n      if (error?.message == \"Request failed with status code 403\") {\r\n        message.error(\"Permission Denied to create document on this MDR\");\r\n      }\r\n    }\r\n  };\r\n\r\n  const fetchData = async () => {\r\n    \r\n    try {\r\n      const response = await axios.get(\r\n        `http://127.0.0.1:8083/api/documents?companyId=${user?.user?.companyId}&assignedBy=${user.user.roleId}&userId=${user.user.id}&department=${user.user.departmentId}`,\r\n        {\r\n          headers: {\r\n            Authorization: user?.accessToken,\r\n            // Add other headers if needed\r\n          },\r\n        }\r\n      );\r\n        \r\n      console.log(response.data,\"received\");\r\n      const data = response.data\r\n      console.log(data,'dat');\r\n      const filter = data.filter(item  => item.removed == 0)\r\n      console.log(filter,'filter');\r\n      setDataArray([...filter])\r\n      setData([...filter]);\r\n    } catch (error) {\r\n      console.error(\"Error fetching documents:\", error?.message);\r\n    }\r\n  };\r\n  \r\n  const fetchDepartments = async () => {\r\n    try {\r\n      const response = await axios.get(\r\n        `http://127.0.0.1:8083/api/departments?companyId=${user?.user?.companyId}`,\r\n        {\r\n          headers: {\r\n            Authorization: user?.accessToken,\r\n            // Add other headers if needed\r\n          },\r\n        }\r\n      );\r\n      setDepartment(response.data)\r\n      const options = [];\r\n      for (const item of response?.data) {\r\n        options.push({ value: item?.suffix, label: item?.suffix });\r\n      }\r\n      setDepartments(options); // Assuming the response.data is an array of projects\r\n    } catch (error) {\r\n      console.error(\"Error fetching departments:\", error?.message);\r\n    }\r\n  };\r\n  const fetchProjects = async () => {\r\n    try {\r\n      const response = await axios.get(\r\n        `http://127.0.0.1:8083/api/projects?companyId=${user?.user?.companyId}`,\r\n        {\r\n          headers: {\r\n            Authorization: user?.accessToken,\r\n            // Add other headers if needed\r\n          },\r\n        }\r\n      );\r\n      setProject(response.data)\r\n      const options = [];\r\n      for (const item of response?.data) {\r\n        options.push({ value: item?.code, label: item?.code });\r\n      }\r\n      setProjects(options); // Assuming the response.data is an array of projects\r\n    } catch (error) {\r\n      console.error(\"Error fetching departments:\", error?.message);\r\n    }\r\n  };\r\n\r\n  const fetchMDRIndividual = async (projectCode) => {\r\n    try {\r\n      const response = await axios.get(\r\n        `http://127.0.0.1:8083/api/documents/mdr?companyId=${user?.user?.companyId}`,\r\n        {\r\n          headers: {\r\n            Authorization: user?.accessToken,\r\n            // Add other headers if needed\r\n          },\r\n        }\r\n      );\r\n      const options = [];\r\n      for (const item of response?.data ) {\r\n        if(item.projectCode == projectCode){\r\n          options.push({\r\n            value: item?.mdrCode,\r\n            label: item?.title,\r\n          });\r\n        }\r\n      }\r\n\r\n      setMdrData(options); // Assuming the response.data is an array of projects\r\n    } catch (error) {\r\n      console.error(\"Error fetching departments:\", error?.message);\r\n    }\r\n  };\r\n\r\n  const fetchDocType = async (departmentSuffix) => {\r\n    try {\r\n      \r\n      const matchingDocuments = jsondata.filter(doc => doc.departmentCode === departmentSuffix);\r\n      \r\n      // If documents are found, return the document codes (or other relevant details)\r\n      if (matchingDocuments.length > 0) {\r\n        const options = [];\r\n        for (const item of matchingDocuments) {\r\n          options.push({ value: item?.documentContentCode, label: `${item.documentTitle} (${item.documentContentCode})` });\r\n      }\r\n      setDocTypeOptions(options); // Assuming the response.data is an array of projects\r\n        return matchingDocuments.map(doc => doc.documentContentCode); // Return the 'document' field\r\n      } else {\r\n        throw new Error(\"No documents found for the specified department code\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error fetching document codes:\", error?.message);\r\n    }\r\n  };\r\n  \r\n  // Example usage:\r\n  \r\n  \r\n  const [statusModalVisible, setStatusModalVisible] = useState(false);\r\nconst [selectedStatus, setSelectedStatus] = useState(\"\");\r\nconst statusModalShow = (record) => {\r\n  setSelectedDocument(record);\r\n  setStatusModalVisible(true);\r\n};\r\n\r\nconst statusModalCancel = () => {\r\n  setSelectedStatus(\"\");\r\n  setStatusModalVisible(false);\r\n};\r\nconst [updatedData, setUpdatedData] = useState([]);\r\n\r\nconst handleStatusChange = () => {\r\n  // Check if the selected document is available\r\n  if (selectedDocument) {\r\n    // Perform your logic to update the status here\r\n    // You can use the selectedStatus along with the record data\r\n    // to update the status in the data array or make an API call\r\n\r\n    const updatedRecord = { ...selectedDocument, status: selectedStatus };\r\n\r\n    // Update the data array with the modified record\r\n    const updatedDataArray = data.map((item) =>\r\n      item.id === selectedDocument.id ? updatedRecord : item\r\n    );\r\n    console.log(selectedDocument)\r\n    saveData(selectedDocument.id, { 'status': selectedStatus });\r\n\r\n    // Load data from the specific key\r\n    const loadedData = loadData(selectedDocument.id);\r\n    console.log('status',loadedData);\r\n\r\n    // Trigger a re-render with the updated data\r\n    setUpdatedData(updatedDataArray);\r\n\r\n    // Close the status modal\r\n    statusModalCancel();\r\n  }\r\n};\r\n\r\nconst handleProjectCodeChange = (value) => {\r\n  setProjectCode(value);\r\n  fetchMDRIndividual(value); // Fetch MDR options filtered by project code\r\n};\r\n\r\nconst handledepartmentSuffixChange = (value) => {\r\n  setDeptSuffix(value);\r\n  fetchDocType(value); // Fetch MDR options filtered by project code\r\n};\r\n\r\n\r\nuseEffect(() => {\r\n  setUser(JSON.parse(localStorage?.getItem(\"user\")));\r\n  // Fetch data when the component mounts\r\n  fetchDepartments();\r\n  fetchProjects();\r\n  // fetchDocType(\"PM\").then(documentCodes => {\r\n  //   console.log(\"Fetched Document Codes:\", documentCodes);\r\n  // });\r\n  fetchUsers()\r\n\r\n  fetchData();\r\n}, [myrecord]); // Add updatedData as a dependency\r\n\r\nuseEffect(() => {\r\n  // Update the data state with the updatedData\r\n  setData(updatedData);\r\n}, [updatedData]);\r\nconst assignDoc = async(assignedEmployees,myrecord)=>{\r\n  try {\r\n    console.log(assignedEmployees,\"employees\");\r\n    console.log('aaaa',myrecord.title);\r\n    // console.log(allUsers);\r\n    // const assignedUser = allUsers.find(user => user.id == assignedEmployees)      \r\n    // console.log(assignedUser);\r\n    const project = projectOptions.find((item) => item?.value == projectId);\r\n    const department = departmentOptions.find(\r\n      (item) => item?.value == departmentId\r\n    );\r\n    const response = await axios.put(\r\n      `http://127.0.0.1:8083/api/documents/?assignedTo=${assignedEmployees}&assignedBy=${user.user.roleId}&assignedFrom=${user.user.id}&companyId=${user.user.companyId}&docName=${myrecord.title}`,\r\n      {},\r\n      {\r\n        headers: {\r\n          Authorization: user?.accessToken,\r\n          // Add other headers if needed\r\n        },\r\n      }\r\n    );\r\n    setAssignModalVisible(false)\r\n    fetchData()\r\n  } catch (error) {\r\n    console.error(\"Error assigning documents:\", error);\r\n  }\r\n}\r\n\r\n  return (\r\n    <>\r\n    <Modal\r\n  title=\"Change Status\"\r\n  width={400}\r\n  centered\r\n  visible={statusModalVisible}\r\n  onCancel={statusModalCancel}\r\n  footer={null}\r\n  closeIcon={<RiCloseFill className=\"remix-icon text-color-black-100\" size={24} />}\r\n>\r\n  <Row justify=\"space-between\" align=\"center\">\r\n    <Col span={20}>\r\n      <Form layout=\"vertical\" name=\"basic\">\r\n        <Form.Item\r\n          label=\"Select Status\"\r\n          name=\"selectedStatus\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"Please select a status\",\r\n            },\r\n          ]}\r\n        >\r\n          <Select\r\n            options={[\r\n              { label: \"In-Progress\", value: \"in-progress\" },\r\n      { label: \"Hold\", value: \"hold\" },\r\n      { label: \"Pending Review (In-House)\", value: \"pending-review-in-house\" },\r\n      { label: \"Pending Approval (In-House)\", value: \"pending-approval-in-house\" },\r\n      { label: \"Reviewed (In-House)\", value: \"reviewed-in-house\" },\r\n      { label: \"Approved (In-House)\", value: \"approved-in-house\" },\r\n      { label: \"Pending Review (Client)\", value: \"pending-review-client\" },\r\n      { label: \"Pending Endorsement (Client)\", value: \"pending-endorsement-client\" },\r\n      { label: \"Endorsed (Client)\", value: \"endorsed-client\" },\r\n      { label: \"Document Ready to Publish\", value: \"ready-to-publish\" },\r\n            ]}\r\n            value={selectedStatus}\r\n            onChange={(value) => setSelectedStatus(value)}\r\n          />\r\n        </Form.Item>\r\n        {/* ... (your existing code) */}\r\n        <Row>\r\n          <Col md={12} span={24} className=\"hp-pr-sm-0 hp-pr-12\">\r\n            <Button\r\n              block\r\n              type=\"primary\"\r\n              htmlType=\"submit\"\r\n              onClick={() => handleStatusChange(selectedStatus)}\r\n            >\r\n              Submit\r\n            </Button>\r\n          </Col>\r\n          <Col md={12} span={24} className=\"hp-mt-sm-12 hp-pl-sm-0 hp-pl-12\">\r\n            <Button block onClick={statusModalCancel}>\r\n              Cancel\r\n            </Button>\r\n          </Col>\r\n        </Row>\r\n      </Form>\r\n    </Col>\r\n  </Row>\r\n</Modal>\r\n<Modal\r\n  title=\"Delete Project\"\r\n  width={416}\r\n  centered\r\n  visible={deleteModalVisible}\r\n  onCancel={deleteModalCancel}\r\n  footer={null}\r\n  closeIcon={\r\n    <RiCloseFill className=\"remix-icon text-color-black-100\" size={24} />\r\n  }\r\n>\r\n  <div>\r\n    <p>Are you sure you want to delete this?</p>\r\n  </div>\r\n  <Row>\r\n    <Col md={12} span={24} className=\"hp-pr-sm-0 hp-pr-12\">\r\n      <Button\r\n        block\r\n        type=\"primary\"\r\n        danger\r\n        onClick={() => handleDelete(record)}\r\n      >\r\n        Delete\r\n      </Button>\r\n    </Col>\r\n    <Col md={12} span={24} className=\"hp-mt-sm-12 hp-pl-sm-0 hp-pl-12\">\r\n      <Button block onClick={deleteModalCancel}>\r\n        Cancel\r\n      </Button>\r\n    </Col>\r\n  </Row>\r\n</Modal>\r\n\r\n<Modal\r\n        title=\"Assign Document\"\r\n        width={400}\r\n        centered\r\n        visible={assignModalVisible}\r\n        onCancel={assignModalCancel}\r\n        footer={null}\r\n        closeIcon={\r\n          <RiCloseFill className=\"remix-icon text-color-black-100\" size={24} />\r\n        }\r\n      >\r\n        <Row justify=\"space-between\" align=\"center\">\r\n          <Col span={20}>\r\n            <Form form={form} onFinish={handleSubmit} layout=\"vertical\" name=\"basic\">\r\n                <Form.Item\r\n                label=\"Assign Document to\"\r\n                name=\"assignDoc\"\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                    message: \"Please Assign Document\",\r\n                  },\r\n                ]}\r\n              >\r\n              <Checkbox.Group\r\n              options={userOption}\r\n              value={assignedEmployees}\r\n              onChange={(value) => setAssignedEmployees(value)}\r\n  />\r\n                </Form.Item>\r\n\r\n              <Row>           \r\n              <Col md={12} span={24} className=\"hp-pr-sm-0 hp-pr-12\">\r\n                  <Button block \r\n                  // onClick={()=>assignDoc(assignedEmployees,myrecord)} \r\n                  type=\"primary\"htmlType=\"submit\">Assign</Button>\r\n                </Col>\r\n              \r\n              </Row>\r\n            </Form>\r\n          </Col>\r\n        </Row>\r\n      </Modal>\r\n\r\n\r\n\r\n      <Modal\r\n  title=\"Upload Document\"\r\n  width={1000}\r\n  centered\r\n  visible={documentModalVisible}\r\n  onCancel={documentModalCancel}\r\n  footer={null}\r\n  closeIcon={\r\n    <RiCloseFill className=\"remix-icon text-color-black-100\" size={24} />\r\n  }\r\n>\r\n  <Row justify=\"space-between\" align=\"center\">\r\n    <Col span={15}>\r\n      <ReactQuill\r\n        style={{ height: \"300px\" }}\r\n        theme=\"snow\"\r\n        value={textEditorValue}\r\n        onChange={setTextEditorValue}\r\n      />\r\n    </Col>\r\n    <Col span={7}>\r\n      <Form layout=\"vertical\" name=\"basic\" form={docuementForm} onFinish={handleAddDocument}>\r\n        <Form.Item\r\n          label=\"Document Title\"\r\n          name=\"docTitle\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"Please input your title\",\r\n            },\r\n          ]}\r\n        >\r\n          <Input\r\n            value={docTitle}\r\n            onChange={(e) => setDocTitle(e.target.value)}\r\n          />\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          label=\"Project Code\"\r\n          name=\"projectCode\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"Please select Project Code\",\r\n            },\r\n          ]}\r\n        >\r\n          <Select\r\n            options={projectOptions}\r\n            value={projectCode}\r\n            onChange={handleProjectCodeChange}\r\n          />\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          label=\"MDR\"\r\n          name=\"mdr\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"Please select MDR\",\r\n            },\r\n          ]}\r\n        >\r\n          <Select\r\n            options={mdrOptions}\r\n            value={mdr}\r\n            onChange={(value) => setMDR(value)}\r\n          />\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          label=\"Area Code\"\r\n          name=\"areaCode\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"Please select Area Code\",\r\n            },\r\n          ]}\r\n        >\r\n          <Select\r\n            options={[\r\n              { label: \"01\", value: \"01\" },\r\n              { label: \"02\", value: \"02\" },\r\n            ]}\r\n            value={areaCode}\r\n            onChange={(value) => setAreaCode(value)}\r\n          />\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          label=\"Department Suffix\"\r\n          name=\"deptSuffix\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"Please Add Department Suffix\",\r\n            },\r\n          ]}\r\n        >\r\n          <Select\r\n            options={departmentOptions}\r\n            value={deptSuffix}\r\n            onChange={handledepartmentSuffixChange}\r\n          />\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          label=\"Document Type\"\r\n          name=\"docType\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"Please Add Document Type\",\r\n            },\r\n          ]}\r\n        >\r\n          <Select\r\n            options={docTypeOptions}\r\n            value={docType}\r\n            onChange={(value) => setDocType(value)}\r\n          />\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          label=\"Count\"\r\n          name=\"count\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"Please input the count\",\r\n            },\r\n            {\r\n              type: \"number\",\r\n              min: 1,\r\n              message: \"Count must be at least 1\",\r\n            },\r\n          ]}\r\n        >\r\n          <InputNumber\r\n            min={1}\r\n            value={count}\r\n            onChange={(value) => setCount(value)}\r\n            style={{ width: '100%' }}\r\n          />\r\n        </Form.Item>\r\n\r\n        <Row>\r\n          <Col md={12} span={24} className=\"hp-pr-sm-0 hp-pr-12\">\r\n            <Button\r\n              block\r\n              type=\"primary\"\r\n              htmlType=\"submit\"\r\n            >\r\n              Submit\r\n            </Button>\r\n          </Col>\r\n\r\n          <Col\r\n            md={12}\r\n            span={24}\r\n            className=\"hp-mt-sm-12 hp-pl-sm-0 hp-pl-12\"\r\n          >\r\n            <Button block onClick={documentModalCancel}>\r\n              Cancel\r\n            </Button>\r\n          </Col>\r\n        </Row>\r\n      </Form>\r\n    </Col>\r\n  </Row>\r\n</Modal>\r\n\r\n      <div style={{ textAlign: \"right\", marginBottom: \"16px\" ,padding:\"15px\", gap:\"15px\"}}>\r\n        <Button\r\n          type=\"primary\"\r\n          onClick={documentModalShow}\r\n          style={{ marginRight: '10px' }}\r\n\r\n          disabled={user?.user?.roleId == 3}\r\n        >\r\n          Add Documents\r\n        </Button>\r\n\r\n\r\n        <Button\r\n          type=\"primary\"\r\n          onClick={handleDocumentWiseClick}\r\n          onDoubleClick={handleDoubleClick}\r\n        >Document Tree\r\n        </Button>\r\n      </div>\r\n      {\r\n        showTreeView?<MyTreeView />:      <div style={{ overflowX: \"auto\" }}>\r\n        <Table columns={columns} dataSource={data}  bordered size=\"middle\"\r\n      title={() => 'All Documents Information'}\r\n      footer={() => 'You may filter Documents'}/></div>\r\n      }\r\n      \r\n      <ProtectedAppPage />      \r\n    </>\r\n  );\r\n}\r\n","// Storage.js\r\n\r\n// Save data to a cookie\r\nexport const saveData = (key, newData) => {\r\n    // Load existing data from the cookie\r\n    const existingData = loadData(key) || {};\r\n  \r\n    // Merge existing data with new data\r\n    const mergedData = { ...existingData, ...newData };\r\n  \r\n    // Save the merged data to the cookie\r\n    document.cookie = `${key}=${JSON.stringify(mergedData)}; expires=Fri, 31 Dec 9999 23:59:59 GMT`;\r\n  };\r\n  \r\n  // Load data from a cookie\r\n  export const loadData = (key) => {\r\n    const cookieData = document.cookie\r\n      .split('; ')\r\n      .find((cookie) => cookie.startsWith(`${key}=`));\r\n  \r\n    return cookieData ? JSON.parse(cookieData.split('=')[1]) : null;\r\n  };\r\n  \r\n  // Get all keys from cookies\r\n  export const getAllKeys = (prefix) => {\r\n    return document.cookie\r\n      .split('; ')\r\n      .map((cookie) => cookie.split('=')[0])\r\n      .filter((key) => key.startsWith(prefix));\r\n  };\r\n  "],"names":["ProtectedAppPage","_localStorage","isLogIn","localStorage","getItem","console","log","_jsx","Redirect","to","useStyles","makeStyles","root","flexGrow","maxWidth","projectNode","backgroundColor","fontSize","padding","borderRadius","marginBottom","transition","fontWeight","mdrNode","marginLeft","departmentIdNode","titleNode","icon","marginRight","buttonContainer","display","alignItems","marginTop","status","MyTreeView","_user$user2","information","setInformation","useState","user","JSON","parse","data","setData","useEffect","isMounted","async","_user$user","response","axios","concat","companyId","headers","Authorization","accessToken","error","message","fetchInformation","processData","length","newData","forEach","info","title","mdrs","mdr","_mdr$departmentName$s","_mdr$departmentName","_mdr$documents","_info$departmentSuffi","_info$departmentSuffi2","departmentNames","departmentName","split","documents","departmentSuffixes","departmentSuffix","index","_departmentSuffixes$i","trimmedDepartmentName","trim","trimmedSuffix","document","trimmedTitle","includes","push","docTitle","version","classes","fetchAppRev","_user$user3","id","className","children","TreeView","defaultCollapseIcon","FolderIcon","defaultExpandIcon","FolderOpenIcon","defaultEndIcon","DescriptionIcon","Object","entries","map","_ref","projectId","TreeItem","nodeId","label","sx","_ref2","departments","FolderSpecialIcon","_ref3","department","_jsxs","Button","onClick","alert","responseData","docName","url","roleId","firstName","allowed","window","location","href","handleOpenDocument","variant","color","size","Document","_user$user18","Menu","Item","handleAll","dataArray","handleReviewed","handleApproved","handleCompleted","completedData","filter","item","handleUploaded","ongoingData","handleSearch","selectedKeys","confirm","dataIndex","setSearchText","setSearchedColumn","getColumnSearchProps","filterDropdown","setSelectedKeys","clearFilters","close","style","Input","ref","searchInput","placeholder","value","onChange","e","target","onPressEnter","Space","type","SearchOutlined","width","handleReset","filterIcon","filtered","undefined","onFilter","record","toString","toLowerCase","onFilterDropdownOpenChange","visible","setTimeout","_searchInput$current","current","select","render","text","searchedColumn","Highlighter","highlightStyle","searchWords","searchText","autoEscape","textToHighlight","assignModalVisible","setAssignModalVisible","useHistory","selectedDocument","setSelectedDocument","documentModalVisible","setDocumentModalVisible","setDocTitle","setProjectId","departmentId","setDepartmentId","extension","setExtension","setMDR","file","setFile","textEditorValue","setTextEditorValue","departmentOptions","setDepartments","projectOptions","setProjects","docTypeOptions","setDocTypeOptions","mdrOptions","setMdrData","setUser","setDataArray","projectCode","setProjectCode","docType","setDocType","count","setCount","areaCode","setAreaCode","deptSuffix","setDeptSuffix","setDepartment","projects","setProject","showTreeView","setShowTreeView","userOption","setUserDatalist","Users","setUsers","assignedEmployees","setAssignedEmployees","setRecord","deleteModalVisible","setDeleteModalVisible","myrecord","setMyRecord","useRef","form","Form","useForm","docuementForm","columns","key","filters","_","assignedToName","assigned","assignedTo","assignedToNames","name","handleFileChange","Tooltip","Assignment","assignModalShow","OpenInFull","handleOpen","_Fragment","DeleteOutlined","disabled","deleteModalShow","deleteModalCancel","documentModalCancel","formData","FormData","uploadedFile","files","_user$user4","_user$user5","_user$user6","_user$user7","obj","userId","userName","lastName","append","_response$data","success","addDocument","_user$user9","_user$user10","_user$user11","_user$user12","_user$user13","_response$data2","masterDocumentCode","fetchData","notification","description","_user$user14","removed","statusModalVisible","setStatusModalVisible","selectedStatus","setSelectedStatus","statusModalCancel","updatedData","setUpdatedData","_localStorage2","_user$user15","options","suffix","fetchDepartments","_user$user16","code","fetchProjects","_user$user8","option","role","fetchUsers","assignDoc","find","Modal","centered","onCancel","footer","closeIcon","RiCloseFill","Row","justify","align","Col","span","layout","rules","required","Select","md","block","htmlType","handleStatusChange","updatedRecord","updatedDataArray","saveData","loadedData","loadData","danger","handleDelete","assignModalCancel","onFinish","handleSubmit","validateFields","then","values","resetFields","Checkbox","Group","ReactQuill","height","theme","handleAddDocument","_user$user17","mdrCode","fetchMDRIndividual","matchingDocuments","jsondata","doc","departmentCode","documentContentCode","documentTitle","Error","fetchDocType","min","InputNumber","textAlign","gap","documentModalShow","handleDocumentWiseClick","onDoubleClick","handleDoubleClick","overflowX","Table","dataSource","bordered","mergedData","cookie","stringify","cookieData","startsWith"],"sourceRoot":""}