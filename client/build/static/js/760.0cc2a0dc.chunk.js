"use strict";(self.webpackChunkyoda_admin_react=self.webpackChunkyoda_admin_react||[]).push([[760],{57660:(e,l,a)=>{a.d(l,{c:()=>i});var n=a(98880),s=a(29512),t=a(58264),c=a(82496);const i=e=>{const{breadCrumbParent:l,breadCrumbParent2:a,breadCrumbParent3:i,breadCrumbActive:r}=e;return(0,c.jsx)(s.c,{children:(0,c.jsxs)(t.c,{className:"hp-d-flex hp-flex-wrap",children:[(0,c.jsx)(t.c.Item,{children:(0,c.jsx)(n.cH,{to:"/",children:"Home"})}),"Components"===l?(0,c.jsx)(t.c.Item,{children:(0,c.jsx)(n.cH,{to:"/components/components-page",children:"Components"})}):(0,c.jsx)(t.c.Item,{children:l}),a&&(0,c.jsx)(t.c.Item,{children:a}),i&&(0,c.jsx)(t.c.Item,{children:i}),(0,c.jsx)(t.c.Item,{children:r})]})})}},48760:(e,l,a)=>{a.r(l),a.d(l,{default:()=>y});var n=a(69060),s=a(26536),t=a.n(s),c=a(84196),i=a(26701),r=a(39322),d=a(57156),o=a(29512),m=a(38088),u=a(80336),h=a(74421),p=a(9992),v=a(19056),x=a(20804),j=a(38112),g=(a(57660),a(69148),a(82496));function y(){var e,l,a;const[s,y]=(0,n.useState)(JSON.parse(null===(e=localStorage)||void 0===e?void 0:e.getItem("user"))),b=[{title:"Client Id",dataIndex:"id",key:"id",render:e=>(0,g.jsx)("a",{children:e})},{title:"Name",dataIndex:"clientName",key:"clientName",render:e=>(0,g.jsx)("a",{children:e})},{title:"Client Email",dataIndex:"email",key:"email",render:e=>(0,g.jsx)("a",{children:e})},{title:"Action",key:"action",render:(e,l)=>(0,g.jsxs)(c.c,{size:"middle",children:[(0,g.jsx)("a",{children:"Change Actions"}),(0,g.jsx)("a",{onClick:()=>J(l),children:"Add Status"}),(0,g.jsx)("a",{children:"Delete"})]})}],[C,I]=(0,n.useState)(!1),[k,S]=(0,n.useState)(""),[f,N]=(0,n.useState)(!1),[w,A]=(0,n.useState)(""),[E,P]=(0,n.useState)(""),[z,T]=(0,n.useState)([]),[_,q]=(0,n.useState)([]),H=async()=>{try{var e;const l=await t().get("http://54.81.250.98:8083/api/clients?companyId=".concat(null===s||void 0===s||null===(e=s.user)||void 0===e?void 0:e.companyId),{headers:{Authorization:null===s||void 0===s?void 0:s.accessToken}});console.log(l.data),q(l.data)}catch(l){console.error("Error fetching clients:",null===l||void 0===l?void 0:l.message)}};(0,n.useEffect)((()=>{var e;y(JSON.parse(null===(e=localStorage)||void 0===e?void 0:e.getItem("user"))),(async()=>{try{var e;const l=await t().get("http://54.81.250.98:8083/api/projects?companyId=".concat(null===s||void 0===s||null===(e=s.user)||void 0===e?void 0:e.companyId),{headers:{Authorization:null===s||void 0===s?void 0:s.accessToken}});console.log(l);const a=new Set,n=null===l||void 0===l?void 0:l.data.reduce(((e,l)=>(a.has(l.title)||(a.add(l.title),e.push({value:l.id,label:l.title,code:l.code})),e)),[]);T(n)}catch(l){console.error("Error fetching departments:",null===l||void 0===l?void 0:l.message)}})(),H()}),[]);const O=()=>{N(!1)},J=()=>{I(!0)},M=()=>{S(""),I(!1)};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(r.c,{title:"Change Status",width:400,centered:!0,visible:C,onCancel:M,footer:null,closeIcon:(0,g.jsx)(j.M5$,{className:"remix-icon text-color-black-100",size:24}),children:(0,g.jsx)(d.c,{justify:"space-between",align:"center",children:(0,g.jsx)(o.c,{span:20,children:(0,g.jsxs)(m.c,{layout:"vertical",name:"basic",children:[(0,g.jsx)(m.c.Item,{label:"Select Status",name:"selectedStatus",rules:[{required:!0,message:"Please select a status"}],children:(0,g.jsx)(u.default,{options:[{label:"On-going",value:"on-going"},{label:"Completed",value:"completed"},{label:"Pending",value:"pending"}],value:k,onChange:e=>S(e)})}),(0,g.jsxs)(d.c,{children:[(0,g.jsx)(o.c,{md:12,span:24,className:"hp-pr-sm-0 hp-pr-12",children:(0,g.jsx)(h.c,{block:!0,type:"primary",htmlType:"submit",onClick:()=>{M()},children:"Submit"})}),(0,g.jsx)(o.c,{md:12,span:24,className:"hp-mt-sm-12 hp-pl-sm-0 hp-pl-12",children:(0,g.jsx)(h.c,{block:!0,onClick:M,children:"Cancel"})})]})]})})})}),(0,g.jsx)(r.c,{title:"Add Client",width:416,centered:!0,visible:f,onCancel:O,footer:null,closeIcon:(0,g.jsx)(j.M5$,{className:"remix-icon text-color-black-100",size:24}),children:(0,g.jsxs)(m.c,{layout:"vertical",name:"basic",children:[(0,g.jsx)(m.c.Item,{label:"Client Name",name:"firstName",rules:[{required:!0,message:"Please input your firstName!"}],children:(0,g.jsx)(p.c,{value:w,onChange:e=>A(e.target.value)})}),(0,g.jsx)(m.c.Item,{label:"E-mail :",name:"email",rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}],children:(0,g.jsx)(p.c,{id:"email",value:E,onChange:e=>P(e.target.value)})}),(0,g.jsxs)(d.c,{children:[(0,g.jsx)(o.c,{md:12,span:24,className:"hp-pr-sm-0 hp-pr-12",children:(0,g.jsx)(h.c,{block:!0,type:"primary",htmlType:"submit",onClick:()=>(async()=>{try{var e,l;const a=await t().post("http://54.81.250.98:8083/api/clients",{clientName:w,companyId:null===s||void 0===s||null===(e=s.user)||void 0===e?void 0:e.companyId,email:E},{headers:{Authorization:null===s||void 0===s?void 0:s.accessToken}});console.log(a),i.cp.success(null===a||void 0===a||null===(l=a.data)||void 0===l?void 0:l.message),H(),O()}catch(a){console.error("Error adding client:",a)}})(),children:"Add Client"})}),(0,g.jsx)(o.c,{md:12,span:24,className:"hp-mt-sm-12 hp-pl-sm-0 hp-pl-12",children:(0,g.jsx)(h.c,{block:!0,onClick:O,children:"Cancel"})})]})]})}),(0,g.jsx)("div",{style:{textAlign:"right",marginBottom:"16px"},children:(0,g.jsx)(h.c,{type:"primary",onClick:()=>{N(!0)},disabled:1!=(null===s||void 0===s||null===(l=s.user)||void 0===l?void 0:l.roleId),children:"Add Client"})}),1===(null===s||void 0===s||null===(a=s.user)||void 0===a?void 0:a.roleId)?(0,g.jsx)(v.c,{columns:b,dataSource:_}):(0,g.jsxs)("div",{children:[(0,g.jsx)(x.c,{}),(0,g.jsx)("p",{children:"You do not have permissions to view."})]})]})}}}]);
//# sourceMappingURL=760.0cc2a0dc.chunk.js.map