{"version":3,"file":"static/js/1310.1f19ea96.chunk.js","mappings":"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","sources":["view/pages/config_document_number/index.jsx"],"sourcesContent":["\r\nimport React, { useState } from 'react';\r\nimport { Select, Input, Divider, Button, Form,message } from 'antd';\r\nimport { useHistory } from 'react-router-dom';\r\nimport axios from \"axios\";\r\n\r\nconst { Option } = Select;\r\n\r\nconst DocumentNumberingForm = () => {\r\n  const [form] = Form.useForm();\r\n  var docNumber='';\r\n  const [user, setUser] = useState(JSON.parse(localStorage?.getItem(\"user\")));\r\n\r\n  const [prefixes, setPrefixes] = useState([\r\n    { prefix: '', length: '', type: '' },\r\n    { prefix: '', length: '', type: '' },\r\n    { prefix: '', length: '', type: '' },\r\n    { prefix: '', length: '', type: '' },\r\n  ]);\r\n\r\n  const handlePrefixChange = (index, field, value) => {\r\n    const newPrefixes = [...prefixes];\r\n    \r\n    if (field === 'length') {\r\n      const lengthValue = parseInt(value);\r\n  \r\n      // Ensure the length is within the 0-5 range\r\n      if (lengthValue < 0) {\r\n        newPrefixes[index][field] = 0;\r\n      } else if (lengthValue > 5) {\r\n        newPrefixes[index][field] = 5;\r\n        message.warning('Prefix length cannot exceed 5.');\r\n      } else {\r\n        newPrefixes[index][field] = lengthValue;\r\n      }\r\n    } else {\r\n      newPrefixes[index][field] = value;\r\n    }\r\n    \r\n    setPrefixes(newPrefixes);\r\n  };\r\n  \r\n\r\n  const generateDocumentNumber = () => {\r\n    const generatedNumber = prefixes\r\n      .filter(({ prefix, length }) => prefix && length)\r\n      .map(({ prefix, length }) => {\r\n        const firstCharacter = prefix.charAt(0).toUpperCase();\r\n        return firstCharacter.repeat(parseInt(length, 10));\r\n      })\r\n      .join('-');\r\n      docNumber= generatedNumber;\r\n       console.log(docNumber);\r\n    return generatedNumber;\r\n  };\r\n\r\n  const history = useHistory();\r\n  const navigateToMdrTemplate = async() => {\r\n   await handleSubmit();\r\n    history.push('/pages/analytics'); // Replace '/path-to-mdr-template' with the actual route path to the MDR Template component\r\n  };\r\n  const handleSubmit = async () => {\r\n    try {\r\n      const response = await axios.post(\r\n        `http://54.81.250.98:8083/api/documents/format?companyId=${user?.user?.companyId}`,\r\n        {\r\n          documentNumberFormat: `${docNumber}`,\r\n        },\r\n        {\r\n          headers: {\r\n            Authorization: user?.accessToken,\r\n            // Add other headers if needed\r\n          },\r\n        }\r\n      );\r\n      // Handle the response as needed\r\n      console.log(response);\r\n      message.success(response?.data?.message);\r\n    } catch (error) {\r\n      // Handle errors\r\n\r\n      message.error(\"Some Error Occured\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ textAlign: 'center', maxWidth: '800px', margin: '0 auto' }}>\r\n      <div style={{ textAlign: 'center', marginTop: 20 }}>\r\n        <h1>Company Environment Setup</h1>\r\n      </div>\r\n      <h2>Document Numbering Configuration</h2>\r\n\r\n      <Form form={form} layout=\"vertical\">\r\n        {prefixes.map((prefix, index) => (\r\n          <div key={index} style={{ marginBottom: 16 }}>\r\n            <Form.Item label={`Select ${index + 1} Prefix:`}>\r\n              <Select\r\n                style={{ width: 200 }}\r\n                value={prefix.prefix}\r\n                onChange={(value) => handlePrefixChange(index, 'prefix', value)}\r\n              >\r\n                <Option value=\"Project Code\">Project Code</Option>\r\n                <Option value=\"Area Code\">Area Code</Option>\r\n                <Option value=\"Department Code\">Department Code</Option>\r\n                <Option value=\"MDR Code\">MDR Code</Option>\r\n                <Option value=\"Document Number\">Document Number</Option>\r\n              </Select>\r\n            </Form.Item>\r\n\r\n            {prefix.prefix && (\r\n              <>\r\n                <Form.Item label={`Length of ${index + 1} Prefix:`}>\r\n                  <Input\r\n                    type=\"number\"\r\n                    style={{ width: 200 }}\r\n                    value={prefix.length}\r\n                    onChange={(e) => handlePrefixChange(index, 'length', e.target.value)}\r\n                  />\r\n                </Form.Item>\r\n\r\n                <Form.Item label={`Type of ${index + 1} Prefix:`}>\r\n                  <Select\r\n                    style={{ width: 200 }}\r\n                    value={prefix.type}\r\n                    onChange={(value) => handlePrefixChange(index, 'type', value)}\r\n                  >\r\n                    <Option value=\"Numeric\">Numeric</Option>\r\n                    <Option value=\"Alphanumeric\">Alphanumeric</Option>\r\n                  </Select>\r\n                </Form.Item>\r\n              </>\r\n            )}\r\n\r\n            {index < prefixes.length - 1 && <Divider />}\r\n          </div>\r\n        ))}\r\n\r\n        {prefixes.length < 10 && (\r\n          <Form.Item>\r\n            <Button\r\n              type=\"primary\"\r\n              htmlType=\"submit\"\r\n              onClick={() => setPrefixes([...prefixes, { prefix: '', length: '', type: '' }])}\r\n            >\r\n              Add Prefix\r\n            </Button>\r\n          </Form.Item>\r\n        )}\r\n\r\n        <div style={{ marginTop: 16 }}>\r\n          <h3>Generated Document Number:</h3>\r\n          <p>{generateDocumentNumber()}</p>\r\n        </div>\r\n\r\n        <Form.Item>\r\n          <Button type=\"primary\" htmlType=\"submit\" onClick={navigateToMdrTemplate}>\r\n            Proceed\r\n          </Button>\r\n        </Form.Item>\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DocumentNumberingForm;\r\n"],"names":["Option","Select","DocumentNumberingForm","_localStorage","form","Form","useForm","docNumber","user","setUser","useState","JSON","parse","localStorage","getItem","prefixes","setPrefixes","prefix","length","type","handlePrefixChange","index","field","value","newPrefixes","lengthValue","parseInt","message","warning","history","useHistory","handleSubmit","async","_user$user","_response$data","response","axios","concat","companyId","documentNumberFormat","headers","Authorization","accessToken","console","log","success","data","error","_jsxs","style","textAlign","maxWidth","margin","children","_jsx","marginTop","layout","map","marginBottom","Item","label","width","onChange","_Fragment","Input","e","target","Divider","Button","htmlType","onClick","generateDocumentNumber","generatedNumber","filter","_ref","_ref2","charAt","toUpperCase","repeat","join","push"],"sourceRoot":""}