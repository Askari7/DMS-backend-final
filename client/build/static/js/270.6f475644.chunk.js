"use strict";(self.webpackChunkyoda_admin_react=self.webpackChunkyoda_admin_react||[]).push([[270],{38180:(e,s,a)=>{a.r(s),a.d(s,{default:()=>v});var t=a(65043),i=a(62582),l=a(47419),r=a(11645);const n=a.p+"static/media/novacon.31bee1bb2bdb5fb91f00.jpg";var o=a(70579);const c=()=>(0,o.jsx)(l.A,{style:{height:"100vh",display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center"},children:(0,o.jsxs)(r.A,{children:[(0,o.jsx)("img",{src:n,alt:"Logo",style:{width:"200px",height:"auto"}}),(0,o.jsx)("h1",{style:{marginTop:"16px"},children:"Project Prosperity, Simplified."})]})});var d=a(94376),h=a(15627),m=a(62967),p=a(78186),u=a(89421),x=a(40854),g=a.n(x),j=a(16703),A=a(72303),y=(a(34443),a(14556)),b=a(35323),f=a(53226);function v(){(0,y.wA)();const e=(0,y.d4)((e=>e));console.log(e);const[s]=d.A.useForm(),a=(0,b.W6)(),n=(0,y.d4)((e=>e.auth.loading)),x=(0,y.d4)((e=>e.auth.isLoggedIn)),[v,N]=(0,t.useState)(!0);(0,t.useEffect)((()=>{x&&a.push("/")}),[x,a]),(0,t.useEffect)((()=>{const e=setTimeout((()=>{N(!1)}),3e3);return()=>clearTimeout(e)}),[]);const[w,k]=(0,t.useState)(""),[S,I]=(0,t.useState)("");return(0,o.jsx)(o.Fragment,{children:v?(0,o.jsx)(c,{}):(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(l.A,{gutter:[32,0],className:"hp-authentication-page",children:[(0,o.jsx)(j.A,{}),(0,o.jsx)(r.A,{lg:12,span:24,className:"hp-py-sm-0 hp-py-md-64",children:(0,o.jsx)(l.A,{className:"hp-h-100",align:"middle",justify:"center",children:(0,o.jsxs)(r.A,{xxl:11,xl:15,lg:20,md:20,sm:24,className:"hp-px-sm-8 hp-pt-24 hp-pb-48",children:[(0,o.jsx)("h1",{className:"hp-mb-sm-0",children:"Login"}),(0,o.jsx)("p",{className:"hp-mt-sm-0 hp-mt-8 hp-text-color-black-60",children:(0,o.jsx)(f.A,{id:"login-welcome-back"})}),(0,o.jsxs)(d.A,{layout:"vertical",name:"basic",initialValues:{remember:!0},className:"hp-mt-sm-16 hp-mt-32",onFinish:async()=>{try{const e=await g().post("http://54.81.250.98:8083/api/auth/signin",{email:w,password:S});console.log("Response:",e),null!==e&&void 0!==e&&e.data&&(console.log(null===e||void 0===e?void 0:e.data),localStorage.setItem("user",JSON.stringify(null===e||void 0===e?void 0:e.data)),h.Ay.success("Signed In Successfully "),a.push("/pages/analytics"))}catch(e){"Request failed with status code 404"==(null===e||void 0===e?void 0:e.message)?h.Ay.error("User Not found."):"Request failed with status code 401"==(null===e||void 0===e?void 0:e.message)?h.Ay.error("Invalid Password."):h.Ay.error("Some Error Occured."),console.error("Error:",null===e||void 0===e?void 0:e.message)}},form:s,onFinishFailed:()=>{h.Ay.error("Submit failed!")},children:[(0,o.jsx)(d.A.Item,{label:"Email :",className:"hp-mb-16",name:"email",rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}],children:(0,o.jsx)(m.A,{id:"email",value:w,onChange:e=>k(e.target.value)})}),(0,o.jsx)(d.A.Item,{label:"Password :",className:"hp-mb-8",name:"password",rules:[{required:!0}],children:(0,o.jsx)(m.A.Password,{id:"password",value:S,onChange:e=>I(e.target.value)})}),(0,o.jsxs)(l.A,{align:"middle",justify:"space-between",children:[(0,o.jsx)(d.A.Item,{className:"hp-mb-0",children:(0,o.jsx)(p.A,{name:"remember",children:(0,o.jsx)(f.A,{id:"remember-me"})})}),(0,o.jsx)(i.N_,{className:"hp-button hp-text-color-black-80 hp-text-color-dark-40",to:"/pages/authentication/recover-password",children:(0,o.jsx)(f.A,{id:"forgot-password"})})]}),(0,o.jsx)(d.A.Item,{className:"hp-mt-16 hp-mb-8",children:(0,o.jsx)(u.A,{loading:n,block:!0,type:"primary",htmlType:"submit",children:"Sign in"})})]}),(0,o.jsxs)(r.A,{className:"hp-form-info hp-text-center",children:[(0,o.jsx)("span",{className:"hp-text-color-black-80 hp-text-color-dark-40 hp-caption hp-font-weight-400 hp-mr-4",children:(0,o.jsx)(f.A,{id:"login-have-account"})}),(0,o.jsx)(i.N_,{className:"hp-text-color-primary-1 hp-text-color-dark-primary-2 hp-caption",to:"/pages/authentication/register",children:(0,o.jsx)(f.A,{id:"create-an-account"})})]}),(0,o.jsx)(A.A,{})]})})})]})})})}}}]);
//# sourceMappingURL=270.6f475644.chunk.js.map