{"version":3,"file":"static/js/9523.3a8f7c39.chunk.js","mappings":"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","sources":["view/pages/document-number/index.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\n\r\nimport {\r\n  Button,\r\n  Form,\r\n  Row,\r\n  Col,\r\n  Space,\r\n  Table,\r\n  Select,\r\n  Input,\r\n  DatePicker,\r\n  TimePicker,\r\n  Modal,\r\n  message,\r\n  Upload,\r\n} from \"antd\";\r\nimport { RiCloseFill, RiCalendarLine } from \"react-icons/ri\";\r\nimport axios from \"axios\";\r\nimport { Checkbox } from \"antd\";\r\n\r\n// import InfoProfile from \"./personel-information\";\r\n// import MenuProfile from \"./menu\";\r\n// import PasswordProfile from \"./password-change\";\r\n// import ProtectedAppPage from \"../Protected\";\r\n\r\nconst columns = [\r\n  {\r\n    title: \"ID\",\r\n    dataIndex: \"id\",\r\n    key: \"id\",\r\n  },\r\n  {\r\n    title: \"MDR ID\",\r\n    dataIndex: \"masterDocumentId\",\r\n    key: \"masterDocumentId\",\r\n  },\r\n\r\n  {\r\n    title: \"User ID\",\r\n    dataIndex: \"userId\",\r\n    key: \"userId\",\r\n  },\r\n  {\r\n    title: \"Reviewer\",\r\n    dataIndex: \"allowReview\",\r\n    key: \"allowReview\",\r\n  },\r\n\r\n  {\r\n    title: \"Approver\",\r\n    dataIndex: \"allowApprove\",\r\n    key: \"allowApprove\",\r\n  },\r\n\r\n  {\r\n    title: \"Creator\",\r\n    dataIndex: \"allowCreate\",\r\n    key: \"allowCreate\",\r\n  },\r\n];\r\nconst permissionsOptions = [\r\n  {\r\n    label: \"Reviewer\",\r\n    value: \"Reviewer\",\r\n  },\r\n  {\r\n    label: \"Approver\",\r\n    value: \"Approver\",\r\n  },\r\n  {\r\n    label: \"Creator\",\r\n    value: \"Creator\",\r\n  },\r\n];\r\n\r\nexport default function DocumentNumbering() {\r\n  const [DocumentPermissionModalVisible, setDocumentPermissionModalVisible] =\r\n    useState(false);\r\n  const [mdrOptions, setMdrData] = useState([]);\r\n  const [userOptions, setUserData] = useState([]);\r\n  const [permissionUser, setpermissionUser] = useState(\"\");\r\n\r\n  const [permissionModalVisible, setPermissionModalVisible] = useState(false);\r\n\r\n  const [user, setUser] = useState(JSON.parse(localStorage?.getItem(\"user\")));\r\n  const [data, setData] = useState([]);\r\n  const [DocumentPermissionOptions, setDocumentPermissions] = useState([]);\r\n  const [checked, setChecked] = useState([]);\r\n\r\n  const [DocumentPermissionId, setDocumentPermissionId] = useState(\"\");\r\n\r\n  const [firstField, setFirstField] = useState(\"\");\r\n  const [secondField, setSecondField] = useState(\"\");\r\n  const [thirdField, setThirdField] = useState(\"\");\r\n  const [fourthField, setFourthField] = useState(\"\");\r\n\r\n  const [first, setFirst] = useState(\"\");\r\n  const [second, setSecond] = useState(\"\");\r\n  const [third, setThird] = useState(\"\");\r\n  const [fourth, setFourth] = useState(\"\");\r\n\r\n  const DocumentPermissionModalShow = () => {\r\n    setDocumentPermissionModalVisible(true);\r\n  };\r\n  const fetchData = async()=>{\r\n    try {\r\n      const response = await axios.get(\r\n        `http://54.81.250.98:8083/api/documents/format?companyId=${user?.user?.companyId}`,\r\n        {\r\n          headers: {\r\n            Authorization: user?.accessToken,\r\n            // Add other headers if needed\r\n          },\r\n        }\r\n      );\r\n      console.log(response.data);\r\n      setData(response.data)\r\n      console.log(response.data,\"data\");\r\n      const responseData = response.data;\r\n      const dataArray = responseData.documentNumberFormat.split(','); \r\n      const { documentNumberFormat } = response.data;\r\n      const splitDocumentNumberFormat = documentNumberFormat.split('-');\r\n      const [first,second,third,fourth]= splitDocumentNumberFormat\r\n      console.log(first,second,third,fourth,'order');\r\n      setFirst(first)\r\n      setSecond(second)\r\n      setThird(third)\r\n      setFourth(fourth)\r\n      \r\n      console.log(splitDocumentNumberFormat,'array');\r\n\r\n    } catch (error) {\r\n      console.error(error)\r\n    }\r\n  }\r\n  const handleSubmit = async () => {\r\n    try {\r\n      const response = await axios.post(\r\n        `http://54.81.250.98:8083/api/documents/format?companyId=${user?.user?.companyId}`,\r\n        {\r\n          documentNumberFormat: `${firstField}-${secondField}-${thirdField}-${fourthField}`,\r\n        },\r\n        {\r\n          headers: {\r\n            Authorization: user?.accessToken,\r\n            // Add other headers if needed\r\n          },\r\n        }\r\n      );\r\n      // Handle the response as needed\r\n      console.log(response);\r\n      message.success(response?.data?.message);\r\n      setDocumentPermissionModalVisible(false);\r\n      fetchData()\r\n    } catch (error) {\r\n      // Handle errors\r\n\r\n      message.error(\"Some Error Occured\");\r\n    }\r\n  };\r\n\r\n  const DocumentPermissionModalCancel = () => {\r\n    setMDR(\"\");\r\n    setDocumentPermissionModalVisible(false);\r\n  };\r\n\r\n  const permissionModalShow = () => {\r\n    setPermissionModalVisible(true);\r\n  };\r\n  const permissionModalCancel = () => {\r\n    setPermissionModalVisible(false);\r\n  };\r\n  const addDocumentPermission = async () => {};\r\n\r\n  useEffect(() => {\r\n    setUser(JSON.parse(localStorage?.getItem(\"user\")));\r\n    fetchData()\r\n    // Fetch data when the component mounts\r\n  }, []);\r\n  return (\r\n    <>\r\n\r\n<div style={{ display: 'flex', justifyContent: 'center' }}>\r\n    <div style={{ textAlign: \"left\", marginBottom: \"16px\" }}>\r\n    <strong style={{color:'blue', fontSize:\"32px\", justifyContent:\"center\",textAlign:\"center\"}}>{data.name}</strong>\r\n    <br />\r\n      <strong style={{color:'black', fontSize:\"16px\", justifyContent:\"center\",textAlign:\"center\"}}>{data.documentNumberFormat}</strong>\r\n\r\n      <Form layout=\"vertical\" name=\"basic\">\r\n      <Form.Item\r\n            label=\"First Field\"\r\n            name=\"firstField\"\r\n            rules={[\r\n              {\r\n                required: true,\r\n                message: \"Please select first field\",\r\n              },\r\n            ]}\r\n          >\r\n            <Select\r\n              style={{ width: \"420px\" }}\r\n              options={[\r\n                { value: first, label: first},\r\n                { value: second, label: second },\r\n                { value: third, label: third},\r\n                { value: fourth, label: fourth }\r\n              ]}\r\n              value={firstField}\r\n              onChange={(e) => setFirstField(e)}\r\n            />\r\n          </Form.Item>\r\n          <Form.Item\r\n            label=\"Second Field\"\r\n            name=\"secondField\"\r\n            rules={[\r\n              {\r\n                required: true,\r\n                message: \"Please select second field\",\r\n              },\r\n            ]}\r\n          >\r\n            <Select\r\n              style={{ width: \"420px\" }}\r\n              options={[\r\n                { value: first, label: first },\r\n                { value: second, label: second },\r\n                { value: third, label: third },\r\n                { value: fourth, label: fourth },\r\n              ]}\r\n              value={firstField}\r\n              onChange={(e) => setSecondField(e)}\r\n            />\r\n          </Form.Item>\r\n\r\n          <Form.Item\r\n            label=\"Third Field\"\r\n            name=\"thirdField\"\r\n            rules={[\r\n              {\r\n                required: true,\r\n                message: \"Please select third field\",\r\n              },\r\n            ]}\r\n          >\r\n            <Select\r\n              style={{ width: \"420px\" }}\r\n              options={[\r\n                { value: first, label: first },\r\n                { value: second, label: second },\r\n                { value: third, label: third },\r\n                { value: fourth, label: fourth },\r\n              ]}\r\n              value={firstField}\r\n              onChange={(e) => setThirdField(e)}\r\n            />\r\n          </Form.Item>\r\n\r\n          <Form.Item\r\n            label=\"Fourth Field\"\r\n            name=\"fourthField\"\r\n            rules={[\r\n              {\r\n                required: true,\r\n                message: \"Please select fourth field\",\r\n              },\r\n            ]}\r\n          >\r\n            <Select\r\n              style={{ width: \"420px\" }}\r\n              options={[\r\n                { value: first, label: first },\r\n                { value: second, label: second },\r\n                { value: third, label: third },\r\n                { value: fourth, label: fourth },\r\n              ]}\r\n              value={firstField}\r\n              onChange={(e) => setFourthField(e)}\r\n            />\r\n          </Form.Item>\r\n\r\n          <Row justify=\"center\">\r\n            <Col md={10} span={10} className=\"hp-pr-sm-0 hp-pr-12\">\r\n              <Button\r\n                block\r\n                type=\"primary\"\r\n                htmlType=\"submit\"\r\n                onClick={() => {\r\n                  handleSubmit();\r\n                }}\r\n                disabled={user?.user?.roleId != 1}\r\n              >\r\n                Update\r\n              </Button>\r\n            </Col>\r\n          </Row>\r\n      </Form>\r\n    </div>\r\n  </div>\r\n    </>\r\n  );\r\n}\r\n"],"names":["DocumentNumbering","_localStorage","_user$user3","DocumentPermissionModalVisible","setDocumentPermissionModalVisible","useState","mdrOptions","setMdrData","userOptions","setUserData","permissionUser","setpermissionUser","permissionModalVisible","setPermissionModalVisible","user","setUser","JSON","parse","localStorage","getItem","data","setData","DocumentPermissionOptions","setDocumentPermissions","checked","setChecked","DocumentPermissionId","setDocumentPermissionId","firstField","setFirstField","secondField","setSecondField","thirdField","setThirdField","fourthField","setFourthField","first","setFirst","second","setSecond","third","setThird","fourth","setFourth","fetchData","async","_user$user","response","axios","concat","companyId","headers","Authorization","accessToken","console","log","documentNumberFormat","split","splitDocumentNumberFormat","error","useEffect","_localStorage2","_jsx","_Fragment","children","style","display","justifyContent","_jsxs","textAlign","marginBottom","color","fontSize","name","Form","layout","Item","label","rules","required","message","Select","width","options","value","onChange","e","Row","justify","Col","md","span","className","Button","block","type","htmlType","onClick","_user$user2","_response$data","success","handleSubmit","disabled","roleId"],"sourceRoot":""}