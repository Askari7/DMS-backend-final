{"version":3,"file":"static/js/310.4844e590.chunk.js","mappings":"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","sources":["view/pages/config_document_number/index.jsx"],"sourcesContent":["\r\nimport React, { useState } from 'react';\r\nimport { Select, Input, Divider, Button, Form,message } from 'antd';\r\nimport { useHistory } from 'react-router-dom';\r\nimport axios from \"axios\";\r\n\r\nconst { Option } = Select;\r\n\r\nconst DocumentNumberingForm = () => {\r\n  const [form] = Form.useForm();\r\n  var docNumber='';\r\n  const [user, setUser] = useState(JSON.parse(localStorage?.getItem(\"user\")));\r\n\r\n  const [prefixes, setPrefixes] = useState([\r\n    { prefix: '', length: '', type: '' },\r\n    { prefix: '', length: '', type: '' },\r\n    { prefix: '', length: '', type: '' },\r\n    { prefix: '', length: '', type: '' },\r\n  ]);\r\n\r\n  const handlePrefixChange = (index, field, value) => {\r\n    const newPrefixes = [...prefixes];\r\n    newPrefixes[index][field] = value;\r\n  \r\n    setPrefixes(newPrefixes);\r\n  };\r\n\r\n  const generateDocumentNumber = () => {\r\n    const generatedNumber = prefixes\r\n      .filter(({ prefix, length }) => prefix && length)\r\n      .map(({ prefix, length }) => {\r\n        const firstCharacter = prefix.charAt(0).toUpperCase();\r\n        return firstCharacter.repeat(parseInt(length, 6));\r\n      })\r\n      .join('-');\r\n      docNumber= generatedNumber;\r\n       console.log(docNumber);\r\n    return generatedNumber;\r\n  };\r\n  const history = useHistory();\r\n  const navigateToMdrTemplate = async() => {\r\n   await handleSubmit();\r\n    history.push('/pages/analytics'); // Replace '/path-to-mdr-template' with the actual route path to the MDR Template component\r\n  };\r\n  const handleSubmit = async () => {\r\n    try {\r\n      const response = await axios.post(\r\n        `http://127.0.0.1:8083/api/documents/format?companyId=${user?.user?.companyId}`,\r\n        {\r\n          documentNumberFormat: `${docNumber}`,\r\n        },\r\n        {\r\n          headers: {\r\n            Authorization: user?.accessToken,\r\n            // Add other headers if needed\r\n          },\r\n        }\r\n      );\r\n      // Handle the response as needed\r\n      console.log(response);\r\n      message.success(response?.data?.message);\r\n    } catch (error) {\r\n      // Handle errors\r\n\r\n      message.error(\"Some Error Occured\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ textAlign: 'center', maxWidth: '800px', margin: '0 auto' }}>\r\n      <div style={{ textAlign: 'center', marginTop: 20 }}>\r\n        <h1>Company Environment Setup</h1>\r\n      </div>\r\n      <h2>Document Numbering Configuration</h2>\r\n\r\n      <Form form={form} layout=\"vertical\">\r\n        {prefixes.map((prefix, index) => (\r\n          <div key={index} style={{ marginBottom: 16 }}>\r\n            <Form.Item label={`Select ${index + 1} Prefix:`}>\r\n              <Select\r\n                style={{ width: 200 }}\r\n                value={prefix.prefix}\r\n                onChange={(value) => handlePrefixChange(index, 'prefix', value)}\r\n              >\r\n                <Option value=\"Project Code\">Project Code</Option>\r\n                <Option value=\"Area Code\">Area Code</Option>\r\n                <Option value=\"Department Code\">Department Code</Option>\r\n                <Option value=\"MDR Code\">MDR Code</Option>\r\n                <Option value=\"Document Number\">Document Number</Option>\r\n              </Select>\r\n            </Form.Item>\r\n\r\n            {prefix.prefix && (\r\n              <>\r\n                <Form.Item label={`Length of ${index + 1} Prefix:`}>\r\n                  <Input\r\n                    type=\"number\"\r\n                    style={{ width: 200 }}\r\n                    value={prefix.length}\r\n                    onChange={(e) => handlePrefixChange(index, 'length', e.target.value)}\r\n                  />\r\n                </Form.Item>\r\n\r\n                <Form.Item label={`Type of ${index + 1} Prefix:`}>\r\n                  <Select\r\n                    style={{ width: 200 }}\r\n                    value={prefix.type}\r\n                    onChange={(value) => handlePrefixChange(index, 'type', value)}\r\n                  >\r\n                    <Option value=\"Numeric\">Numeric</Option>\r\n                    <Option value=\"Alphanumeric\">Alphanumeric</Option>\r\n                  </Select>\r\n                </Form.Item>\r\n              </>\r\n            )}\r\n\r\n            {index < prefixes.length - 1 && <Divider />}\r\n          </div>\r\n        ))}\r\n\r\n        {prefixes.length < 10 && (\r\n          <Form.Item>\r\n            <Button\r\n              type=\"primary\"\r\n              htmlType=\"submit\"\r\n              onClick={() => setPrefixes([...prefixes, { prefix: '', length: '', type: '' }])}\r\n            >\r\n              Add Prefix\r\n            </Button>\r\n          </Form.Item>\r\n        )}\r\n\r\n        <div style={{ marginTop: 16 }}>\r\n          <h3>Generated Document Number:</h3>\r\n          <p>{generateDocumentNumber()}</p>\r\n        </div>\r\n\r\n        <Form.Item>\r\n          <Button type=\"primary\" htmlType=\"submit\" onClick={navigateToMdrTemplate}>\r\n            Proceed\r\n          </Button>\r\n        </Form.Item>\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DocumentNumberingForm;\r\n"],"names":["Option","Select","DocumentNumberingForm","_localStorage","form","Form","useForm","docNumber","user","setUser","useState","JSON","parse","localStorage","getItem","prefixes","setPrefixes","prefix","length","type","handlePrefixChange","index","field","value","newPrefixes","history","useHistory","handleSubmit","async","_user$user","_response$data","response","axios","concat","companyId","documentNumberFormat","headers","Authorization","accessToken","console","log","message","success","data","error","_jsxs","style","textAlign","maxWidth","margin","children","_jsx","marginTop","layout","map","marginBottom","Item","label","width","onChange","_Fragment","Input","e","target","Divider","Button","htmlType","onClick","generateDocumentNumber","generatedNumber","filter","_ref","_ref2","charAt","toUpperCase","repeat","parseInt","join","push"],"sourceRoot":""}