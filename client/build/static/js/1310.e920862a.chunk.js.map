{"version":3,"file":"static/js/1310.e920862a.chunk.js","mappings":"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","sources":["view/pages/config_document_number/index.jsx"],"sourcesContent":["\nimport React, { useState } from 'react';\nimport { Select, Input, Divider, Button, Form,message } from 'antd';\nimport { useHistory } from 'react-router-dom';\nimport axios from \"axios\";\n\nconst { Option } = Select;\n\nconst DocumentNumberingForm = () => {\n  const [form] = Form.useForm();\n  var docNumber='';\n  const [user, setUser] = useState(JSON.parse(localStorage?.getItem(\"user\")));\n\n  const [prefixes, setPrefixes] = useState([\n    { prefix: '', length: '', type: '' },\n    { prefix: '', length: '', type: '' },\n    { prefix: '', length: '', type: '' },\n    { prefix: '', length: '', type: '' },\n  ]);\n\n  const handlePrefixChange = (index, field, value) => {\n    const newPrefixes = [...prefixes];\n    if (field === 'length' && parseInt(value) < 0) {\n      // If length becomes negative, set it to 0\n      newPrefixes[index][field] = 0;\n    } else {\n      newPrefixes[index][field] = value;\n    }\n    setPrefixes(newPrefixes);\n  };\n\n  const generateDocumentNumber = () => {\n    const generatedNumber = prefixes\n      .filter(({ prefix, length }) => prefix && length)\n      .map(({ prefix, length }) => {\n        const firstCharacter = prefix.charAt(0).toUpperCase();\n        return firstCharacter.repeat(parseInt(length, 10));\n      })\n      .join('-');\n      docNumber= generatedNumber;\n       console.log(docNumber);\n    return generatedNumber;\n  };\n\n  const history = useHistory();\n  const navigateToMdrTemplate = async() => {\n   await handleSubmit();\n    history.push('/pages/analytics'); // Replace '/path-to-mdr-template' with the actual route path to the MDR Template component\n  };\n  const handleSubmit = async () => {\n    try {\n      const response = await axios.post(\n        `http://54.81.250.98:8083/api/documents/format?companyId=${user?.user?.companyId}`,\n        {\n          documentNumberFormat: `${docNumber}`,\n        },\n        {\n          headers: {\n            Authorization: user?.accessToken,\n            // Add other headers if needed\n          },\n        }\n      );\n      // Handle the response as needed\n      console.log(response);\n      message.success(response?.data?.message);\n    } catch (error) {\n      // Handle errors\n\n      message.error(\"Some Error Occured\");\n    }\n  };\n\n  return (\n    <div style={{ textAlign: 'center', maxWidth: '800px', margin: '0 auto' }}>\n      <div style={{ textAlign: 'center', marginTop: 20 }}>\n        <h1>Company Environment Setup</h1>\n      </div>\n      <h2>Document Numbering Configuration</h2>\n\n      <Form form={form} layout=\"vertical\">\n        {prefixes.map((prefix, index) => (\n          <div key={index} style={{ marginBottom: 16 }}>\n            <Form.Item label={`Select ${index + 1} Prefix:`}>\n              <Select\n                style={{ width: 200 }}\n                value={prefix.prefix}\n                onChange={(value) => handlePrefixChange(index, 'prefix', value)}\n              >\n                <Option value=\"Project Code\">Project Code</Option>\n                <Option value=\"Area Code\">Area Code</Option>\n                <Option value=\"Department Code\">Department Code</Option>\n                <Option value=\"MDR Code\">MDR Code</Option>\n                <Option value=\"Document Number\">Document Number</Option>\n              </Select>\n            </Form.Item>\n\n            {prefix.prefix && (\n              <>\n                <Form.Item label={`Length of ${index + 1} Prefix:`}>\n                  <Input\n                    type=\"number\"\n                    style={{ width: 200 }}\n                    value={prefix.length}\n                    onChange={(e) => handlePrefixChange(index, 'length', e.target.value)}\n                  />\n                </Form.Item>\n\n                <Form.Item label={`Type of ${index + 1} Prefix:`}>\n                  <Select\n                    style={{ width: 200 }}\n                    value={prefix.type}\n                    onChange={(value) => handlePrefixChange(index, 'type', value)}\n                  >\n                    <Option value=\"Numeric\">Numeric</Option>\n                    <Option value=\"Alphanumeric\">Alphanumeric</Option>\n                  </Select>\n                </Form.Item>\n              </>\n            )}\n\n            {index < prefixes.length - 1 && <Divider />}\n          </div>\n        ))}\n\n        {prefixes.length < 10 && (\n          <Form.Item>\n            <Button\n              type=\"primary\"\n              htmlType=\"submit\"\n              onClick={() => setPrefixes([...prefixes, { prefix: '', length: '', type: '' }])}\n            >\n              Add Prefix\n            </Button>\n          </Form.Item>\n        )}\n\n        <div style={{ marginTop: 16 }}>\n          <h3>Generated Document Number:</h3>\n          <p>{generateDocumentNumber()}</p>\n        </div>\n\n        <Form.Item>\n          <Button type=\"primary\" htmlType=\"submit\" onClick={navigateToMdrTemplate}>\n            Proceed\n          </Button>\n        </Form.Item>\n      </Form>\n    </div>\n  );\n};\n\nexport default DocumentNumberingForm;\n"],"names":["Option","Select","DocumentNumberingForm","_localStorage","form","Form","useForm","docNumber","user","setUser","useState","JSON","parse","localStorage","getItem","prefixes","setPrefixes","prefix","length","type","handlePrefixChange","index","field","value","newPrefixes","parseInt","history","useHistory","handleSubmit","async","_user$user","_response$data","response","axios","concat","companyId","documentNumberFormat","headers","Authorization","accessToken","console","log","message","success","data","error","_jsxs","style","textAlign","maxWidth","margin","children","_jsx","marginTop","layout","map","marginBottom","Item","label","width","onChange","_Fragment","Input","e","target","Divider","Button","htmlType","onClick","generateDocumentNumber","generatedNumber","filter","_ref","_ref2","charAt","toUpperCase","repeat","join","push"],"sourceRoot":""}