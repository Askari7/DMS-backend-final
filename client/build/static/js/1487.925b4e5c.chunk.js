"use strict";(self.webpackChunkyoda_admin_react=self.webpackChunkyoda_admin_react||[]).push([[1487],{15364:(e,o,t)=>{t.r(o),t.d(o,{default:()=>Q});var n=t(65043),a=t(94376),s=t(60521),r=t(64435),c=t(89421),i=t(75932),l=t(15627),d=t(21261),u=t(47419),m=t(11645),p=t(70610),v=t(43886),h=t(73754),g=t(40854),y=t.n(g),A=t(78186),x=t(69223),f=t.n(x);const j="data:image/png;base64,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",S=t.p+"static/media/novacon.a515b904ac897e82b975.png";var w=t(62058),I=t(16854),b=t.n(I),N=t(91688),R=t(39816),C=t(58168),O=t(64467),k=t(98139),q=t.n(k),T=t(40164),E=t(25055),D=function(e,o){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&o.indexOf(n)<0&&(t[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)o.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(t[n[a]]=e[n[a]])}return t};const X=function(e){var o,t,a=e.prefixCls,s=e.className,r=e.color,c=void 0===r?"blue":r,i=e.dot,l=e.pending,d=void 0!==l&&l,u=(e.position,e.label),m=e.children,p=D(e,["prefixCls","className","color","dot","pending","position","label","children"]),v=(0,n.useContext(E.QO).getPrefixCls)("timeline",a),h=q()((o={},(0,O.A)(o,"".concat(v,"-item"),!0),(0,O.A)(o,"".concat(v,"-item-pending"),d),o),s),g=q()((t={},(0,O.A)(t,"".concat(v,"-item-head"),!0),(0,O.A)(t,"".concat(v,"-item-head-custom"),!!i),(0,O.A)(t,"".concat(v,"-item-head-").concat(c),!0),t));return n.createElement("li",(0,C.A)({},p,{className:h}),u&&n.createElement("div",{className:"".concat(v,"-item-label")},u),n.createElement("div",{className:"".concat(v,"-item-tail")}),n.createElement("div",{className:g,style:{borderColor:/blue|red|green|gray/.test(c||"")?void 0:c}},i),n.createElement("div",{className:"".concat(v,"-item-content")},m))};var z=t(12701),P=function(e,o){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&o.indexOf(n)<0&&(t[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)o.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(t[n[a]]=e[n[a]])}return t},U=function(e){var o,t=n.useContext(E.QO),a=t.getPrefixCls,s=t.direction,r=e.prefixCls,c=e.pending,i=void 0===c?null:c,l=e.pendingDot,d=e.children,u=e.className,m=e.reverse,p=void 0!==m&&m,v=e.mode,h=void 0===v?"":v,g=P(e,["prefixCls","pending","pendingDot","children","className","reverse","mode"]),y=a("timeline",r),A="boolean"===typeof i?null:i,x=i?n.createElement(X,{pending:!!i,dot:l||n.createElement(T.A,null)},A):null,f=n.Children.toArray(d);f.push(x),p&&f.reverse();var j=function(e,o){return"alternate"===h?"right"===e.props.position?"".concat(y,"-item-right"):"left"===e.props.position?"".concat(y,"-item-left"):"".concat(y,o%2===0?"-item-left":"-item-right"):"left"===h?"".concat(y,"-item-left"):"right"===h||"right"===e.props.position?"".concat(y,"-item-right"):""},S=f.filter((function(e){return!!e})),w=n.Children.count(S),I="".concat(y,"-item-last"),b=n.Children.map(S,(function(e,o){var t=o===w-2?I:"",n=o===w-1?I:"";return(0,z.Ob)(e,{className:q()([e.props.className,!p&&i?t:n,j(e,o)])})})),N=f.some((function(e){var o;return!!(null===(o=null===e||void 0===e?void 0:e.props)||void 0===o?void 0:o.label)})),R=q()(y,(o={},(0,O.A)(o,"".concat(y,"-pending"),!!i),(0,O.A)(o,"".concat(y,"-reverse"),!!p),(0,O.A)(o,"".concat(y,"-").concat(h),!!h&&!N),(0,O.A)(o,"".concat(y,"-label"),N),(0,O.A)(o,"".concat(y,"-rtl"),"rtl"===s),o),u);return n.createElement("ul",(0,C.A)({},g,{className:R}),b)};U.Item=X;const L=U;var F=t(70579);function M(e){let{data:o,thisOne:t,user:n}=e;const a=t?{[t]:o[t]}:{};return(0,F.jsx)(R.A,{style:{justifyContent:"center",alignItems:"center",border:"5px solid #e8e8e8",borderRadius:"10px",padding:"32px",marginBottom:"20px"},children:(0,F.jsx)(u.A,{children:(0,F.jsxs)(m.A,{span:32,children:[(0,F.jsx)("h5",{style:{fontSize:"18px",fontWeight:"bold",marginBottom:"10px"},children:"Document History"}),(0,F.jsx)(L,{style:{marginTop:"20px"},children:Object.entries(a).map((e=>{let[o,t]=e;return(0,F.jsxs)(L.Item,{children:[(0,F.jsx)("h4",{style:{fontSize:"16px",marginBottom:"10px"},children:o}),(0,F.jsx)(L,{children:t.map(((e,t)=>(0,F.jsxs)(L.Item,{style:{borderLeft:"2px solid #1890ff",paddingLeft:"10px",marginBottom:"10px"},children:[(0,F.jsxs)("p",{children:["Version: ",e.version]}),(0,F.jsxs)("p",{children:[(0,F.jsx)("span",{style:{color:"black"},children:new Date(e.createdAt).toLocaleDateString()})," ",(0,F.jsx)("span",{style:{color:"blue"},children:new Date(e.createdAt).toLocaleTimeString()})]}),e.reviewerComment&&(0,F.jsxs)("p",{style:{marginBottom:"5px",color:"#666"},children:["Reviewer Comments: ",e.reviewerComment]}),e.approverComment&&(0,F.jsxs)("p",{style:{marginBottom:"5px",color:"#666"},children:["Approver Comments: ",e.approverComment]}),(0,F.jsx)(c.A,{type:"primary",style:{marginTop:"10px"},onClick:()=>((e,o)=>{const{version:t}=e,{roleId:a,firstName:s}=n.user,r="".concat("http://54.81.250.98:8083","/uploads/").concat(o,"-").concat(t,".pdf");window.location.href="http://54.81.250.98:3001/react-pdf-highlighter/?docName=".concat(o,".pdf&url=").concat(r,"&allowed=").concat(!0,"&user=").concat(a," ").concat(s)})(e,o),children:"Open"})]},"".concat(o,"-").concat(t))))})]},o)}))})]})})})}t(14556);t.p;t.p;var V=t(40862),B=t(59662);const J=(0,B.A)((0,F.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"AddSharp");var Z=t(59893);const Y=(0,B.A)((0,F.jsx)("path",{d:"M23 8c0 1.1-.9 2-2 2-.18 0-.35-.02-.51-.07l-3.56 3.55c.05.16.07.34.07.52 0 1.1-.9 2-2 2s-2-.9-2-2c0-.18.02-.36.07-.52l-2.55-2.55c-.16.05-.34.07-.52.07s-.36-.02-.52-.07l-4.55 4.56c.05.16.07.33.07.51 0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2c.18 0 .35.02.51.07l4.56-4.55C8.02 9.36 8 9.18 8 9c0-1.1.9-2 2-2s2 .9 2 2c0 .18-.02.36-.07.52l2.55 2.55c.16-.05.34-.07.52-.07s.36.02.52.07l3.55-3.56C19.02 8.35 19 8.18 19 8c0-1.1.9-2 2-2s2 .9 2 2"}),"TimelineOutlined");var H=t(79625);function Q(){var e,o;(0,N.useHistory)();const[t,g]=(0,n.useState)(""),[x,I]=(0,n.useState)(""),R=(0,n.useRef)(null),[C]=a.A.useForm(),O=(e,o,t)=>{o(),g(e[0]),I(t)},k=e=>({filterDropdown:o=>{let{setSelectedKeys:t,selectedKeys:n,confirm:a,clearFilters:i,close:l}=o;return(0,F.jsxs)("div",{style:{padding:8},children:[(0,F.jsx)(s.A,{ref:R,placeholder:"Search ".concat(e),value:n[0],onChange:e=>t(e.target.value?[e.target.value]:[]),onPressEnter:()=>O(n,a,e),style:{marginBottom:8,display:"block"}}),(0,F.jsxs)(r.A,{children:[(0,F.jsx)(c.A,{type:"primary",onClick:()=>O(n,a,e),icon:(0,F.jsx)(w.A,{}),size:"small",style:{width:90},children:"Search"}),(0,F.jsx)(c.A,{onClick:()=>i&&(e=>{e(),g("")})(i),size:"small",style:{width:90},children:"Reset"})]})]})},filterIcon:e=>(0,F.jsx)(w.A,{style:{color:e?"#1677ff":void 0}}),onFilter:(o,t)=>t[e].toString().toLowerCase().includes(o.toLowerCase()),onFilterDropdownOpenChange:e=>{e&&setTimeout((()=>{var e;return null===(e=R.current)||void 0===e?void 0:e.select()}),100)},render:o=>x===e?(0,F.jsx)(b(),{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[t],autoEscape:!0,textToHighlight:o?o.toString():""}):o}),q="http://54.81.250.98:8083",T=[{title:"Document Name",dataIndex:"docName",key:"docName",...k("docName")},{title:"MDR Code",dataIndex:"masterDocumentCode",key:"masterDocumentCode",...k("masterDocumentCode")},{title:"Approver",dataIndex:"approver",key:"approver",...k("approver")},{title:"Reviewer",dataIndex:"reviewer",key:"reviewer",...k("reviewer")},{title:"Your Role",dataIndex:"yourRole",key:"yourRole",...k("yourRole")},{title:"Your Status",dataIndex:"yourStatus",key:"yourStatus",...k("yourStatus")},{title:"Overall Approver Status",dataIndex:"approverStatuss",key:"approverStatuss",...k("approverStatuss")},{title:"Overall Reviewer Status",dataIndex:"reviewerStatuss",key:"reviewerStatuss",...k("reviewerStatuss")},{title:"Client Status",dataIndex:"clientStatus",key:"clientStatus",...k("clientStatus")},{title:"Version",dataIndex:"version",key:"version",...k("version")},{title:"Action",key:"action",render:(e,o)=>{var t;return(0,F.jsxs)(r.A,{size:"middle",children:[(0,F.jsx)(i.A,{title:"Open",children:(0,F.jsx)(c.A,{size:"middle",icon:(0,F.jsx)(V.A,{}),onClick:()=>go(o)})}),(0,F.jsx)(i.A,{title:"Add Status",children:(0,F.jsx)(c.A,{size:"middle",icon:(0,F.jsx)(J,{}),disabled:""==(null===o||void 0===o?void 0:o.yourRole),onClick:()=>oo(o)})}),(0,F.jsx)(i.A,{title:"Send To Client",children:(0,F.jsx)(c.A,{size:"middle",icon:(0,F.jsx)(Z.A,{}),disabled:1!==(null===xe||void 0===xe||null===(t=xe.user)||void 0===t?void 0:t.roleId),onClick:()=>ao(o)})}),(0,F.jsx)(i.A,{title:"View Timeline",children:(0,F.jsx)(c.A,{size:"middle",icon:(0,F.jsx)(Y,{}),onClick:()=>no(o)})}),(0,F.jsx)(i.A,{title:"Export CSV",children:(0,F.jsx)(c.A,{size:"middle",icon:(0,F.jsx)(H.A,{}),onClick:()=>io(o)})})]})}}],E=[{title:"Document Name",dataIndex:"docName",key:"docName",...k("docName")},{title:"Your Role",dataIndex:"yourRole",key:"yourRole"},{title:"Your Status",dataIndex:"clientStatus",key:"clientStatus"},{title:"Version",dataIndex:"version",key:"version"},{title:"Action",key:"action",render:(e,o)=>(0,F.jsxs)(r.A,{size:"middle",children:[(0,F.jsx)("a",{onClick:()=>go(o),children:"Open"}),(0,F.jsx)("a",{onClick:()=>oo(o),children:"Add Status"})]})}],[D,X]=(0,n.useState)(""),[z,P]=(0,n.useState)(""),[U,L]=(0,n.useState)(null),[B,Q]=(0,n.useState)(!1),[W,G]=(0,n.useState)(!1),[K,_]=(0,n.useState)([]),[$,ee]=(0,n.useState)(),[oe,te]=(0,n.useState)(!1),[ne,ae]=(0,n.useState)([]),[se,re]=(0,n.useState)(!1),[ce,ie]=(0,n.useState)([]),[le,de]=(0,n.useState)([]),[ue,me]=(0,n.useState)(""),[pe,ve]=(0,n.useState)([]),[he,ge]=(0,n.useState)(""),[ye,Ae]=(0,n.useState)(!1),[xe,fe]=(0,n.useState)(JSON.parse(null===(e=localStorage)||void 0===e?void 0:e.getItem("user"))),[je,Se]=(0,n.useState)([]),[we,Ie]=(0,n.useState)([]),[be,Ne]=(0,n.useState)([]),[Re,Ce]=(0,n.useState)([]),[Oe,ke]=(0,n.useState)([]),[qe,Te]=(0,n.useState)([]),[Ee,De]=(0,n.useState)([]),[Xe,ze]=(0,n.useState)([]),[Pe,Ue]=(0,n.useState)(),[Le,Fe]=(0,n.useState)(),[Me,Ve]=(0,n.useState)([]),[Be,Je]=(0,n.useState)([]),[Ze,Ye]=(0,n.useState)([]),[He,Qe]=(0,n.useState)([]),[We,Ge]=(0,n.useState)(!1),[Ke,_e]=(0,n.useState)(""),[$e,eo]=(0,n.useState)(""),oo=e=>{L(e),Q(!0)},to=()=>{X(""),Q(!1)},no=e=>{eo(e.docName),te(!0)},ao=e=>{console.log(e,"record");const o=JSON.stringify(e);console.log(o,"record"),ee(o),vo(),G(!0)},so=()=>{G(!1)},ro=async e=>{console.log(e,"record dekhS");e.clientId;const o=D,t=z||"",n=e.version,a=e.id,s=He.find((e=>e.id===a)),r=Ze.find((e=>e.id===a)),c=s.status,i=r.status;console.log(c,i,"REVIEWAPPROVE"),console.log(c,i,"ids");const d=Xe.find((e=>e.id===a)),u=Ee.find((e=>e.id===a));try{if(z&&"Reject"===o||"Reject"===o){const o=await y().put("http://54.81.250.98:8083/api/documents/review?yourRole=".concat("client","&myrecord=",e,"\n          &version=").concat(e.version,"&userName=").concat(e.userName,"\n          &companyId=").concat(e.companyId,"&rev=").concat(s,"&app=").concat(r,"\n          "),{version:n,clientStatus:"Reject",clientComment:t,docName:e.docName,rev:d,app:u,myrecord:e},{headers:{Authorization:null===xe||void 0===xe?void 0:xe.accessToken}});console.log(o.data,"data aya"),l.Ay.success(o.data.message)}else{const o=await y().put("http://54.81.250.98:8083/api/documents/review?yourRole=".concat("client","&record=",$,"&rev=").concat(s,"&app=").concat(r),{version:n,clientComment:z,clientStatus:"Accept",myrecord:e,docName:e.docName},{headers:{Authorization:null===xe||void 0===xe?void 0:xe.accessToken}});l.Ay.success(o.data.message),console.log(o.data,"data aya")}await Ao()}catch(m){console.error(m)}},co=e=>new Promise(((o,t)=>{const n=new Image;n.crossOrigin="Anonymous",n.onload=()=>{const e=document.createElement("canvas");e.width=n.width,e.height=n.height;e.getContext("2d").drawImage(n,0,0);const t=e.toDataURL("image/png");o(t)},n.onerror=e=>{t(e)},n.src=e})),io=async(e,o)=>{await lo(e),console.log(pe,"comments");const t=pe.map((e=>{const{id:o,...t}=e;return t})),n=e=>{if(!e)return"";return new Date(e).toISOString().split("T")[0]};console.log(t,"modified");const a=Object.keys(t[0]).map((e=>({header:e.toUpperCase(),key:e,width:10})));console.log(a,"resultresult");const s=new(f().Workbook),r=s.addWorksheet("MDR Data");r.properties.defaultRowHeight=75,r.columns=a,r.getRow(1).font={bold:!0,size:14};try{const e=await co(j);console.log(e,"logoBase64");const o=s.addImage({base64:e,extension:"png"});r.addImage(o,{tl:{col:0,row:0},ext:{width:150,height:50}})}catch(u){console.error("Error loading image:",u)}t.forEach((e=>{r.addRow({docName:e.docName,version:e.version,Inhouse:e.Inhouse,Resolved:e.Resolved,Approved:e.Approved,createdAt:n(e.createdAt),reply:e.reply,replyBy:e.replyBy,text:e.text,commentBy:e.commentBy,pageNumber:e.pageNumber})}));const c=await co(S),i=r.addRow(["Powered by Novacon"]);r.mergeCells("A".concat(i.number,":J").concat(i.number)),i.getCell(1).alignment={horizontal:"center"},i.getCell(1).font={bold:!0,size:12};const l=s.addImage({base64:c,extension:"png"}),d=1.4*r.getColumn(1).width;r.addImage(l,{tl:{col:5.5,row:i.number-1,offsetX:d,offsetY:10},ext:{width:50,height:50}}),s.xlsx.writeBuffer().then((e=>{const o=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),t=window.URL.createObjectURL(o),n=document.createElement("a");n.href=t,n.download="download.xlsx",n.click(),window.URL.revokeObjectURL(t)}))},lo=async e=>{try{const o=await y().get("http://54.81.250.98:8083/api/documents/exportComments?docName=".concat(e.docName,"&version=").concat(e.version),{headers:{Authorization:null===xe||void 0===xe?void 0:xe.accessToken}});console.log(o.data,"data");o.data;const t=o.data.map((e=>{const{id:o,updatedAt:t,comment:n,emoji:a,...s}=e;return s}));console.log(t,"datawithout"),ve(t)}catch(o){console.error("Error fetching documents:",null===o||void 0===o?void 0:o.message)}},uo=async e=>{console.log(e,"status bhi aya"),U&&(console.log(U,"document"),console.log(e,"status"),console.log(He,Ze,"ye bhi dekh"),console.log(Xe,Ee,"ye bhi"),6==xe.user.roleId?await ro(U):await xo(U),to())},[mo,po]=(0,n.useState)(""),vo=async()=>{try{var e;console.log($,"coddd");const o=await y().get("http://54.81.250.98:8083/api/clients?companyId=".concat(null===xe||void 0===xe||null===(e=xe.user)||void 0===e?void 0:e.companyId,"&recordId=").concat($),{headers:{Authorization:null===xe||void 0===xe?void 0:xe.accessToken}});console.log(o.data,"received");const t=o.data.map((e=>({value:e.Email,label:e.Email})));console.log("clients",t),Ne(t)}catch(o){console.error("Error fetching clients:",null===o||void 0===o?void 0:o.message)}},ho=async e=>{try{var o;const t=await y().get("http://54.81.250.98:8083/api/documents/establishment?companyId=".concat(null===xe||void 0===xe||null===(o=xe.user)||void 0===o?void 0:o.companyId,"&userId=").concat(xe.user.id,"&docName=").concat(e),{headers:{Authorization:null===xe||void 0===xe?void 0:xe.accessToken}});return console.log(t.data,"received"),t.data}catch(t){console.error("Error fetching documents:",null===t||void 0===t?void 0:t.message)}},go=async e=>{console.log(e,"record");const o=await ho(e.title);console.log("helllooo",o);e.title;const t="".concat(q,"/uploads/").concat(e.docName,"-").concat(e.version,".pdf");console.log(xe.user.roleId,xe.user.firstName,xe);let n="false";o&&(n="true"),console.log(e.version,"version");e.version;try{var a;(await y().get("http://54.81.250.98:8083/api/documents/checkDocuments?companyId=".concat(null===xe||void 0===xe||null===(a=xe.user)||void 0===a?void 0:a.companyId,"&docName=").concat(e.docName,"&masterDocumentCode=").concat(e.masterDocumentCode,"&version=").concat(e.version,"&roleId=").concat(null===xe||void 0===xe?void 0:xe.user.roleId),{headers:{Authorization:null===xe||void 0===xe?void 0:xe.accessToken}})).data.status?window.location.href="http://54.81.250.98:3001/react-pdf-highlighter/?docName=".concat(e.docName,".pdf&url=").concat(t,"&allowed=").concat(n,"&user=").concat(xe.user.roleId," ").concat(xe.user.firstName):l.Ay.warning("Document not uploaded yet.")}catch(s){console.error("Error checking document:",s),alert("An error occurred while checking the document.")}},yo=()=>{ge(""),re(!1)},Ao=async()=>{try{var e,o;const t=await y().get("http://54.81.250.98:8083/api/documents/establishment?companyId=".concat(null===xe||void 0===xe||null===(e=xe.user)||void 0===e?void 0:e.companyId,"&userId=").concat(null===xe||void 0===xe||null===(o=xe.user)||void 0===o?void 0:o.id,"&roleId=").concat(xe.user.roleId),{headers:{Authorization:null===xe||void 0===xe?void 0:xe.accessToken}});console.log("response",t.data);const n=[],a=[],s=[],r=[];for(let e of t.data){console.log(e,"response.data",e.id);const o=e.approverStatus.split(",").map((e=>parseInt(e.trim(),10)));console.log(o,"AppStatusArray");const t=e.reviewerStatus.split(",").map((e=>parseInt(e.trim(),10)));console.log(t,"RevStatusArray");const c=e.reviewerId.split(",").map((e=>parseInt(e.trim(),10))),i=e.approverId.split(",").map((e=>parseInt(e.trim(),10)));console.log(c,i,"ID Arrays");const l=e.approverComment.split(","),d=e.reviewerComment.split(",");console.log(l,d,"Comments"),n.push({id:e.id,status:o,comment:l}),a.push({id:e.id,status:t,comment:d}),s.push({id:e.id,status:c}),r.push({id:e.id,status:i}),Qe(s),Ye(r),ze(a),De(n),e.approverId.includes(xe.user.id)&&e.reviewerId.includes(xe.user.id)?(e.yourRole="Approver and Reviewer",1==o[i.indexOf(xe.user.id)]?e.yourStatus="Rejected":2==o[i.indexOf(xe.user.id)]?e.yourStatus="Accepted":0==o[i.indexOf(xe.user.id)]&&(e.yourStatus="Pending")):i.includes(xe.user.id)?(console.log(i.includes(xe.user.id),"approver ha"),e.yourRole="Approver",_e(i.indexOf(xe.user.id)),console.log(i.indexOf(xe.user.id),"jjjjj"),console.log(i,xe.user.id,o[i.indexOf(xe.user.id)],"ssss"+typeof o),1==o[i.indexOf(xe.user.id)]?e.yourStatus="Rejected":2==o[i.indexOf(xe.user.id)]?e.yourStatus="Accepted":0==o[i.indexOf(xe.user.id)]&&(e.yourStatus="Pending")):c.includes(xe.user.id)?(console.log(c.includes(xe.user.id),"reviewer ha"),e.yourRole="Reviewer",_e(c.indexOf(xe.user.id)),console.log(c.indexOf(xe.user.id),"jjjjj"),console.log(c,xe.user.id,t[c.indexOf(xe.user.id)],"ssss"+typeof t),1==t[c.indexOf(xe.user.id)]?e.yourStatus="Rejected":2==t[c.indexOf(xe.user.id)]?e.yourStatus="Accepted":0==t[c.indexOf(xe.user.id)]&&(e.yourStatus="Pending")):6==(null===xe||void 0===xe?void 0:xe.user.roleId)?e.yourRole="Client":e.yourRole="",o.every((e=>0===e))?e.approverStatuss="Pending":o.some((e=>0!==e&&2!==e))?e.approverStatuss="Rejected":o.every((e=>2===e))?e.approverStatuss="Approved(in-house)":e.approverStatuss="Pending",t.every((e=>0===e))?e.reviewerStatuss="Pending":t.every((e=>1===e))?e.reviewerStatuss="Rejected":t.every((e=>2===e))?e.reviewerStatuss="All Reviews Done":e.reviewerStatuss="Pending"}console.log(n,a,s,r,"arrays hain ye "),Se(t.data)}catch(t){console.error("Error fetching departments:",null===t||void 0===t?void 0:t.message)}},xo=async e=>{const o=e.id,t=He.find((e=>e.id===o)),n=Ze.find((e=>e.id===o));console.log(t,n,"APPREV");const a=t.status,s=n.status;console.log(a,s,"REVIEWAPPROVE"),console.log(a,s,"ids");const r=Xe.find((e=>e.id===o)),c=Ee.find((e=>e.id===o));console.log(r,c,"STATUS OBJ");const i=r.status,d=c.status;console.log(i,d,"STATUS FOR ");const u=r.comment,m=c.comment;if(console.log(u,m,"COmment For"),console.log(d,i,"obj"),"Approver and Reviewer"===e.yourRole&&"Accept"===D){d[s.indexOf(xe.user.id)]=2,i[a.indexOf(xe.user.id)]=2;const e=s.indexOf(xe.user.id),o=a.indexOf(xe.user.id);m[e]=z,u[o]=z}else if("Approver and Reviewer"===e.yourRole&&"Reject"===D){d[s.indexOf(xe.user.id)]=1,i[a.indexOf(xe.user.id)]=1;const e=s.indexOf(xe.user.id),o=a.indexOf(xe.user.id);m[e]=z,u[o]=z}else if("Approver"===e.yourRole&&"Accept"===D){const e=s.indexOf(xe.user.id);a.indexOf(xe.user.id);m[e]=z,d[s.indexOf(xe.user.id)]=2}else if("Reviewer"===e.yourRole&&"Accept"===D){s.indexOf(xe.user.id);const e=a.indexOf(xe.user.id);i[a.indexOf(xe.user.id)]=2,u[e]=z}else if("Approver"===e.yourRole&&"Reject"===D){d[s.indexOf(xe.user.id)]=1;m[s.indexOf(xe.user.id)]=z}else if("Reviewer"===e.yourRole&&"Reject"===D){i[a.indexOf(xe.user.id)]=1;u[a.indexOf(xe.user.id)]=z}console.log(i,"changed Rev"),console.log(d,"changed App"),Fe(i),Ue(d);const p=JSON.stringify(e);console.log(p,"record bhej rha hun");try{if(z&&"Reject"===D||"Reject"===D){const o=await y().put("http://54.81.250.98:8083/api/documents/establishment?yourRole=".concat(e.yourRole,"\n          &version=").concat(e.version,"&userName=").concat(e.userName,"&approver=").concat(e.approver,"&reviewer=").concat(e.reviewer,"\n          &reviewerId=").concat(e.reviewerId,"&approverId=").concat(e.approverId,"\n          &docDepartmentId=").concat(e.docDepartmentId,"&masterDocumentCode=").concat(e.masterDocumentCode,"&masterDocumentName=").concat(e.masterDocumentName,"\n          &companyId=").concat(e.companyId,"\n\n          "),{revStatusArr:i.join(","),appStatusArr:d.join(","),reviewerComment:u.join(","),approverComment:m.join(","),docName:e.docName},{headers:{Authorization:null===xe||void 0===xe?void 0:xe.accessToken}});console.log(o.data,"data aya"),l.Ay.success(o.data.message)}else{const o=await y().post("http://54.81.250.98:8083/api/documents/review?yourRole=".concat(e.yourRole,"&version=").concat(e.version),{revStatusArr:i.join(","),app:s.join(","),rev:a.join(","),appStatusArr:d.join(","),docName:e.docName,companyId:null===xe||void 0===xe?void 0:xe.user.companyId,reviewerComment:u.join(","),approverComment:m.join(",")},{headers:{Authorization:null===xe||void 0===xe?void 0:xe.accessToken}});l.Ay.success(o.data.message),console.log(o.data,"data aya")}X(""),await Ao()}catch(v){console.error(v)}};return(0,n.useEffect)((async()=>{var e;fe(JSON.parse(null===(e=localStorage)||void 0===e?void 0:e.getItem("user"))),Ao(),(async()=>{try{var e;const o=await y().get("http://54.81.250.98:8083/api/users?companyId=".concat(null===xe||void 0===xe||null===(e=xe.user)||void 0===e?void 0:e.companyId,"&roleId=2"),{headers:{Authorization:null===xe||void 0===xe?void 0:xe.accessToken}});console.log(null===o||void 0===o?void 0:o.data,"UUUAUA");const t=[],n=[];for(const e of null===o||void 0===o?void 0:o.data)n[e.id]="".concat(e.firstName," ").concat(e.lastName),t.push({value:null===e||void 0===e?void 0:e.id,label:"".concat(null===e||void 0===e?void 0:e.firstName," ").concat(null===e||void 0===e?void 0:e.lastName)});ae(n),de(t)}catch(o){console.error("Error fetching departments:",null===o||void 0===o?void 0:o.message)}})(),(async()=>{try{var e;const o=await y().get("http://54.81.250.98:8083/api/documents/mdr?companyId=".concat(null===xe||void 0===xe||null===(e=xe.user)||void 0===e?void 0:e.companyId),{headers:{Authorization:null===xe||void 0===xe?void 0:xe.accessToken}}),t=[];for(const e of null===o||void 0===o?void 0:o.data)t.push({value:null===e||void 0===e?void 0:e.id,label:null===e||void 0===e?void 0:e.title,DocumentPermissionId:null===e||void 0===e?void 0:e.DocumentPermissionId,departmentId:null===e||void 0===e?void 0:e.departmentId});ie(t)}catch(o){console.error("Error fetching departments:",null===o||void 0===o?void 0:o.message)}})(),(async()=>{try{const e=await y().post("http://54.81.250.98:8083/api/documents/establishment",{companyId:null===xe||void 0===xe?void 0:xe.user.companyId},{headers:{Authorization:null===xe||void 0===xe?void 0:xe.accessToken}});Ie(e.data);const o=e=>{const o={};return e.forEach((e=>{const{docName:t,version:n,createdAt:a,reviewerComment:s,approverComment:r}=e;o[t]||(o[t]=[]),o[t].push({version:n,createdAt:a,reviewerComment:s,approverComment:r})})),o},t=o(e.data);console.log(t,"organizedData"),Ie(t)}catch(e){console.error(e)}})()}),[]),(0,n.useEffect)((async()=>{}),[$]),(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(d.A,{title:"Change Status",width:400,centered:!0,visible:B,onCancel:to,footer:null,closeIcon:(0,F.jsx)(h.dCQ,{className:"remix-icon text-color-black-100",size:24}),children:(0,F.jsx)(u.A,{justify:"space-between",align:"center",children:(0,F.jsx)(m.A,{span:20,children:(0,F.jsxs)(a.A,{form:C,onFinish:()=>{C.validateFields().then((e=>{uo(D),C.resetFields(),P("")}))},layout:"vertical",name:"basic",children:[(0,F.jsx)(a.A.Item,{label:"Select Status",name:"selectedStatus",rules:[{required:!0,message:"Please select a status"}],children:(0,F.jsx)(p.A,{options:[{label:"Accept",value:"Accept"},{label:"Reject",value:"Reject"}],value:D,onChange:e=>{return X(o=e),void("Reject"!==o&&"Accept"!==o||Ge(!0));var o}})}),We&&(0,F.jsx)(a.A.Item,{label:"Remarks",name:"remarks",children:(0,F.jsx)(s.A.TextArea,{rows:4,placeholder:"Enter remarks",value:z,onChange:e=>P(e.target.value)})}),(0,F.jsxs)(u.A,{children:[(0,F.jsx)(m.A,{md:12,span:24,className:"hp-pr-sm-0 hp-pr-12",children:(0,F.jsx)(c.A,{block:!0,type:"primary",htmlType:"submit",children:"Submit"})}),(0,F.jsx)(m.A,{md:12,span:24,className:"hp-mt-sm-12 hp-pl-sm-0 hp-pl-12",children:(0,F.jsx)(c.A,{block:!0,onClick:to,children:"Cancel"})})]})]})})})}),(0,F.jsx)(d.A,{title:"Timeline",width:400,centered:!0,visible:oe,onCancel:()=>{te(!1)},footer:null,closeIcon:(0,F.jsx)(h.dCQ,{className:"remix-icon text-color-black-100",size:24}),children:(0,F.jsx)(u.A,{justify:"space-between",align:"center",children:(0,F.jsx)(m.A,{span:20,children:(0,F.jsx)(M,{data:we,thisOne:$e,user:xe})})})}),(0,F.jsx)(d.A,{title:"Send To Client",width:400,centered:!0,visible:W,onCancel:so,footer:null,closeIcon:(0,F.jsx)(h.dCQ,{className:"remix-icon text-color-black-100",size:24}),children:(0,F.jsx)(u.A,{justify:"space-between",align:"center",children:(0,F.jsx)(m.A,{span:20,children:(0,F.jsxs)(a.A,{layout:"vertical",name:"basic",children:[(0,F.jsx)(a.A.Item,{label:"Select Emails",name:"selectedEmails",rules:[{required:!0,message:"Please select a Email"}],children:(0,F.jsx)(p.A,{options:be,value:K,onChange:e=>_(e)})}),(0,F.jsxs)(u.A,{children:[(0,F.jsx)(m.A,{md:12,span:24,className:"hp-pr-sm-0 hp-pr-12",children:(0,F.jsx)(c.A,{block:!0,type:"primary",htmlType:"submit",onClick:()=>(async()=>{const e=JSON.parse($);console.log("Record:",e.docName);const o=await ho(e.docName);console.log("helllooo",o);const t=e.docName,n=e.version,a="".concat(q,"/uploads/").concat(t,"-").concat(e.version,".pdf");console.log(xe.user.roleId,xe.user.firstName,xe);let s="false";o&&(s="true");const r="http://54.81.250.98:3001/react-pdf-highlighter/?docName=".concat(t,".pdf&url=").concat(a,"&allowed=").concat(s,"&user=").concat(xe.user.roleId," ").concat(xe.user.firstName);try{var c,i;const o=await y().post("http://54.81.250.98:8083/api/clients/send-email-client",{parsedRecord:e,docVersion:n,docName:t,roleId:xe.user.roleId,companyId:null===xe||void 0===xe||null===(c=xe.user)||void 0===c?void 0:c.companyId,url:r,clientName:K},{headers:{Authorization:null===xe||void 0===xe?void 0:xe.accessToken}});console.log(o),l.Ay.success(null===o||void 0===o||null===(i=o.data)||void 0===i?void 0:i.message)}catch(d){console.error("Error Sending Email:",null===d||void 0===d?void 0:d.message)}})(),children:"Send"})}),(0,F.jsx)(m.A,{md:12,span:24,className:"hp-mt-sm-12 hp-pl-sm-0 hp-pl-12",children:(0,F.jsx)(c.A,{block:!0,onClick:so,children:"Cancel"})})]})]})})})}),(0,F.jsx)(d.A,{title:"Create Permissions",width:416,centered:!0,visible:se,onCancel:yo,footer:null,closeIcon:(0,F.jsx)(h.dCQ,{className:"remix-icon text-color-black-100",size:24}),children:(0,F.jsxs)(a.A,{layout:"vertical",name:"basic",children:[(0,F.jsx)(a.A.Item,{label:"MDR",name:"mdr",rules:[{required:!0,message:"Please select MDR"}],children:(0,F.jsx)(p.A,{options:ce,value:he,onChange:e=>ge(e)})}),(0,F.jsx)(a.A.Item,{label:"Users",name:"users",rules:[{required:!0,message:"Please select MDR"}],children:(0,F.jsx)(p.A,{options:le,value:ue,onChange:e=>me(e)})}),(0,F.jsx)(a.A.Item,{label:"Permissions",name:"permissions",children:(0,F.jsx)(A.A.Group,{options:[{label:"Reviewer",value:"Reviewer"},{label:"Approver",value:"Approver"},{label:"Creator",value:"Creator"}],defaultValue:0,onChange:e=>{console.log("checked = ",e),ke(e)}})}),(0,F.jsxs)(u.A,{children:[(0,F.jsx)(m.A,{md:12,span:24,className:"hp-pr-sm-0 hp-pr-12",children:(0,F.jsx)(c.A,{block:!0,type:"primary",htmlType:"submit",onClick:()=>(async()=>{try{var e,o;const t=await y().post("http://54.81.250.98:8083/api/documents/permissions",{masterDocumentId:he,userId:ue,companyId:null===xe||void 0===xe||null===(e=xe.user)||void 0===e?void 0:e.companyId,createDocument:null===Oe||void 0===Oe?void 0:Oe.includes("Creator"),reviewDocument:null===Oe||void 0===Oe?void 0:Oe.includes("Reviewer"),approveDocument:null===Oe||void 0===Oe?void 0:Oe.includes("Approver")},{headers:{Authorization:null===xe||void 0===xe?void 0:xe.accessToken}});console.log(t),l.Ay.success(null===t||void 0===t||null===(o=t.data)||void 0===o?void 0:o.message),ge(""),me(""),ke([]),await Ao(),re(!1)}catch(t){"Request failed with status code 403"==(null===t||void 0===t?void 0:t.message)&&l.Ay.error("Permission Denied to create document on this MDR")}})(),children:"Add"})}),(0,F.jsx)(m.A,{md:12,span:24,className:"hp-mt-sm-12 hp-pl-sm-0 hp-pl-12",children:(0,F.jsx)(c.A,{block:!0,onClick:yo,children:"Cancel"})})]})]})}),(0,F.jsx)("div",{style:{textAlign:"right",marginBottom:"16px"},children:(0,F.jsx)(c.A,{type:"primary",onClick:()=>{re(!0)},disabled:1!=(null===xe||void 0===xe||null===(o=xe.user)||void 0===o?void 0:o.roleId),children:"Add Permissions"})}),(0,F.jsx)("div",{style:{overflowX:"auto"},children:(0,F.jsx)(v.A,{columns:6==xe.user.roleId?E:T,dataSource:je,bordered:!0,scroll:{overflowX:"auto"},size:"medium",title:()=>"All Documents Assessments",footer:()=>"You may filter Documents"})})]})}},40862:(e,o,t)=>{t.d(o,{A:()=>s});var n=t(59662),a=t(70579);const s=(0,n.A)((0,a.jsx)("path",{d:"M21 11V3h-8l3.29 3.29-10 10L3 13v8h8l-3.29-3.29 10-10z"}),"OpenInFull")},59893:(e,o,t)=>{t.d(o,{A:()=>s});var n=t(59662),a=t(70579);const s=(0,n.A)((0,a.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person")}}]);
//# sourceMappingURL=1487.925b4e5c.chunk.js.map