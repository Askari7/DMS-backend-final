"use strict";(self.webpackChunkyoda_admin_react=self.webpackChunkyoda_admin_react||[]).push([[924],{16744:(e,s,a)=>{a.r(s),a.d(s,{default:()=>w});var t=a(69060),c=a(98880),i=a(57156),l=a(29512);const r=a.p+"static/media/novacon.31bee1bb2bdb5fb91f00.jpg";var n=a(82496);const o=()=>(0,n.jsx)(i.c,{style:{height:"100vh",display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center"},children:(0,n.jsxs)(l.c,{children:[(0,n.jsx)("img",{src:r,alt:"Logo",style:{width:"200px",height:"auto"}}),(0,n.jsx)("h1",{style:{marginTop:"16px"},children:"Project Prosperity, Simplified."})]})});var d=a(38088),h=a(26701),m=a(9992),p=a(48004),u=a(74421),x=a(26536),g=a.n(x),j=a(19164),b=a(98616),f=(a(73372),a(33280)),v=a(51724),y=a(67980);function w(){(0,f.OY)();const e=(0,f.w1)((e=>e));console.log(e);const[s]=d.c.useForm(),a=(0,v.Uz)(),r=(0,f.w1)((e=>e.auth.loading)),x=(0,f.w1)((e=>e.auth.isLoggedIn)),[w,N]=(0,t.useState)(!0);(0,t.useEffect)((()=>{x&&a.push("/")}),[x,a]),(0,t.useEffect)((()=>{const e=setTimeout((()=>{N(!1)}),3e3);return()=>clearTimeout(e)}),[]);const[k,S]=(0,t.useState)(""),[I,E]=(0,t.useState)("");return(0,n.jsx)(n.Fragment,{children:w?(0,n.jsx)(o,{}):(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(i.c,{gutter:[32,0],className:"hp-authentication-page",children:[(0,n.jsx)(j.c,{}),(0,n.jsx)(l.c,{lg:12,span:24,className:"hp-py-sm-0 hp-py-md-64",children:(0,n.jsx)(i.c,{className:"hp-h-100",align:"middle",justify:"center",children:(0,n.jsxs)(l.c,{xxl:11,xl:15,lg:20,md:20,sm:24,className:"hp-px-sm-8 hp-pt-24 hp-pb-48",children:[(0,n.jsx)("h1",{className:"hp-mb-sm-0",children:"Login"}),(0,n.jsx)("p",{className:"hp-mt-sm-0 hp-mt-8 hp-text-color-black-60",children:(0,n.jsx)(y.c,{id:"login-welcome-back"})}),(0,n.jsxs)(d.c,{layout:"vertical",name:"basic",initialValues:{remember:!0},className:"hp-mt-sm-16 hp-mt-32",onFinish:async()=>{try{const e=await g().post("http://54.81.250.98:8083/api/auth/signin",{email:k,password:I});console.log("Response:",e),null!==e&&void 0!==e&&e.data&&(console.log(null===e||void 0===e?void 0:e.data),localStorage.setItem("user",JSON.stringify(null===e||void 0===e?void 0:e.data)),h.cp.success("Signed In Successfully "),a.push("/pages/analytics"))}catch(e){"Request failed with status code 404"==(null===e||void 0===e?void 0:e.message)?h.cp.error("User Not found."):"Request failed with status code 401"==(null===e||void 0===e?void 0:e.message)?h.cp.error("Invalid Password."):h.cp.error("Some Error Occured."),console.error("Error:",null===e||void 0===e?void 0:e.message)}},form:s,onFinishFailed:()=>{h.cp.error("Submit failed!")},children:[(0,n.jsx)(d.c.Item,{label:"Email :",className:"hp-mb-16",name:"email",rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}],children:(0,n.jsx)(m.c,{id:"email",value:k,onChange:e=>S(e.target.value)})}),(0,n.jsx)(d.c.Item,{label:"Password :",className:"hp-mb-8",name:"password",rules:[{required:!0}],children:(0,n.jsx)(m.c.Password,{id:"password",value:I,onChange:e=>E(e.target.value)})}),(0,n.jsxs)(i.c,{align:"middle",justify:"space-between",children:[(0,n.jsx)(d.c.Item,{className:"hp-mb-0",children:(0,n.jsx)(p.c,{name:"remember",children:(0,n.jsx)(y.c,{id:"remember-me"})})}),(0,n.jsx)(c.cH,{className:"hp-button hp-text-color-black-80 hp-text-color-dark-40",to:"/pages/authentication/recover-password",children:(0,n.jsx)(y.c,{id:"forgot-password"})})]}),(0,n.jsx)(d.c.Item,{className:"hp-mt-16 hp-mb-8",children:(0,n.jsx)(u.c,{loading:r,block:!0,type:"primary",htmlType:"submit",children:"Sign in"})})]}),(0,n.jsxs)(l.c,{className:"hp-form-info hp-text-center",children:[(0,n.jsx)("span",{className:"hp-text-color-black-80 hp-text-color-dark-40 hp-caption hp-font-weight-400 hp-mr-4",children:(0,n.jsx)(y.c,{id:"login-have-account"})}),(0,n.jsx)(c.cH,{className:"hp-text-color-primary-1 hp-text-color-dark-primary-2 hp-caption",to:"/pages/authentication/register",children:(0,n.jsx)(y.c,{id:"create-an-account"})})]}),(0,n.jsx)(b.c,{})]})})})]})})})}}}]);
//# sourceMappingURL=924.e4b5a053.chunk.js.map