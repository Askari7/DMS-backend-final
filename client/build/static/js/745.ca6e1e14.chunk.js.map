{"version":3,"file":"static/js/745.ca6e1e14.chunk.js","mappings":"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","sources":["view/pages/document-permission/index.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\n\r\nimport {\r\n  Button,\r\n  Form,\r\n  Row,\r\n  Col,\r\n  Space,\r\n  Table,\r\n  Select,\r\n  Input,\r\n  DatePicker,\r\n  TimePicker,\r\n  Modal,\r\n  message,\r\n  Upload,\r\n} from \"antd\";\r\nimport { RiCloseFill, RiCalendarLine } from \"react-icons/ri\";\r\nimport axios from \"axios\";\r\nimport { Checkbox } from \"antd\";\r\n\r\nconst columns = [\r\n  {\r\n    title: \"Project\",\r\n    dataIndex: \"project\",\r\n    key: \"project\",\r\n  },\r\n  {\r\n    title: \"MDR ID\",\r\n    dataIndex: \"masterDocumentId\",\r\n    key: \"masterDocumentId\",\r\n  },\r\n  {\r\n    title: \"User ID\",\r\n    dataIndex: \"userId\",\r\n    key: \"userId\",\r\n  },\r\n  {\r\n    title: \"Reviewer\",\r\n    dataIndex: \"allowReview\",\r\n    key: \"allowReview\",\r\n  },\r\n\r\n  {\r\n    title: \"Approver\",\r\n    dataIndex: \"allowApprove\",\r\n    key: \"allowApprove\",\r\n  },\r\n\r\n  {\r\n    title: \"Uploader/Creator\",\r\n    dataIndex: \"allowCreate\",\r\n    key: \"allowCreate\",\r\n  },\r\n];\r\nconst permissionsOptions = [\r\n  {\r\n    label: \"Reviewer\",\r\n    value: \"Reviewer\",\r\n  },\r\n  {\r\n    label: \"Approver\",\r\n    value: \"Approver\",\r\n  },\r\n  {\r\n    label: \"Creator\",\r\n    value: \"Creator\",\r\n  },\r\n];\r\n\r\nexport default function DocumentPermissions() {\r\n  const [DocumentPermissionModalVisible, setDocumentPermissionModalVisible] =useState(false);\r\n  const [mdrOptions, setMdrData] = useState([]);\r\n  const [projectOptions, setProjectData] = useState([]);\r\n  const [docsData, setDocsData] = useState([]);\r\n\r\n  const [userOptions, setUserData] = useState([]);\r\n  const [permissionUser, setpermissionUser] = useState(\"\");\r\n\r\n  const [mdr, setMDR] = useState(\"\");\r\n  const [permissionDoc, setpermissionDoc] = useState(\"\");\r\n\r\n  \r\n  const [permissionForm] = Form.useForm();\r\n\r\n  const [project, setProject] = useState(\"\");\r\n\r\n  const [permissionModalVisible, setPermissionModalVisible] = useState(false);\r\n\r\n  const [user, setUser] = useState(JSON.parse(localStorage?.getItem(\"user\")));\r\n  const [data, setData] = useState([]);\r\n  const [DocumentPermissionOptions, setDocumentPermissions] = useState([]);\r\n  const [checked, setChecked] = useState([]);\r\n\r\n  const [DocumentPermissionId, setDocumentPermissionId] = useState(\"\");\r\n\r\n  const DocumentPermissionModalShow = () => {\r\n\r\n    setDocumentPermissionModalVisible(true);\r\n  };\r\n  // useEffect(()=>{\r\n  //   fetchDocs()\r\n  // },[mdr])\r\n\r\n  const addPermission = async () => {\r\n    try {\r\n      const response = await axios.post(\r\n        \"https://novacon.live/api/documents/permissions\",\r\n        {\r\n          // project:project,\r\n          masterDocumentId: mdr,\r\n          doc:permissionDoc,\r\n          userId: permissionUser,\r\n          companyId: user?.user?.companyId,\r\n          createDocument: checked?.includes(\"Creator\"),\r\n          reviewDocument: checked?.includes(\"Reviewer\"),\r\n          approveDocument: checked?.includes(\"Approver\"),\r\n        },\r\n        {\r\n          headers: {\r\n            Authorization: user?.accessToken,\r\n            // Add other headers if needed\r\n          },\r\n        }\r\n      );\r\n      // Handle the response as needed\r\n      console.log(response);\r\n      message.success(response?.data?.message);\r\n      setMDR(\"\");\r\n      setProject(\"\");\r\n      setpermissionUser(\"\");\r\n      setChecked([]);\r\n      fetchData();\r\n      setDocumentPermissionModalVisible(false);\r\n    } catch (error) {\r\n      // Handle errors\r\n      if (error?.message == \"Request failed with status code 403\") {\r\n        message.error(\"Permission Denied to create document on this MDR\");\r\n      }\r\n    }\r\n  };\r\n  const handleSubmit = () => {\r\n    permissionForm.validateFields().then((values) => {\r\n        addPermission()\r\n      // onSubmit(values);\r\n      permissionForm.resetFields();\r\n    });\r\n  };\r\n  const fetchMDR = async () => {\r\n    try {\r\n      const response = await axios.get(\r\n        `https://novacon.live/api/documents/mdr?companyId=${user?.user?.companyId}`,\r\n        {\r\n          headers: {\r\n            Authorization: user?.accessToken,\r\n            // Add other headers if needed\r\n          },\r\n        }\r\n      );\r\n      const options = [];\r\n      for (const item of response?.data) {\r\n        options.push({\r\n          value: item?.id,\r\n          label: item?.title,\r\n        });\r\n      }\r\n      setMdrData(options); // Assuming the response.data is an array of DocumentPermissions\r\n    } catch (error) {\r\n      console.error(\"Error fetching departments:\", error?.message);\r\n    }\r\n  };\r\n  // useEffect(()=>{\r\n  // fetchDocs(mdr)\r\n  // },[mdr])\r\n  const fetchProjects= async () => {\r\n    try {\r\n      const response = await axios.get(\r\n        `https://novacon.live/api/projects?companyId=${user?.user?.companyId}&roleId=${user?.user?.roleId}`,\r\n        {\r\n          headers: {\r\n            Authorization: user?.accessToken,\r\n          },\r\n        }\r\n      );\r\n      const options = [];\r\n      for (const item of response?.data) {\r\n        options.push({\r\n          value: item?.id,\r\n          label: item?.title,\r\n        });\r\n      }\r\n\r\n      setProjectData(options); // Assuming the response.data is an array of DocumentPermissions\r\n    } catch (error) {\r\n      console.error(\"Error fetching departments:\", error?.message);\r\n    }\r\n  };\r\n\r\n  const fetchDocs= async (mdr) => {\r\n    try {\r\n      const response = await axios.get(\r\n        `https://novacon.live/api/projects/fetchdocs?companyId=${user?.user?.companyId}&roleId=${user?.user?.roleId}&mdrId=${mdr}&departmentId=${user?.user.departmentId}`,\r\n        {\r\n          headers: {\r\n            Authorization: user?.accessToken,\r\n          },\r\n        }\r\n      );\r\n      console.log(response.data,'response.data');\r\n      \r\n      const options = [];\r\n      for (const item of response?.data) {\r\n        options.push({\r\n          value: item?.title,\r\n          label: item?.title,\r\n        });\r\n      }\r\n      console.log(options,'options');\r\n      \r\n      setDocsData(options);\r\n    } catch (error) {\r\n      console.error(\"Error fetching departments:\", error?.message);\r\n    }\r\n  };\r\n\r\n  const onChange = (checkedValues) => {\r\n    console.log(\"checked = \", checkedValues);\r\n    setChecked(checkedValues);\r\n  };\r\n  const fetchUsers = async () => {\r\n    try {\r\n      const response = await axios.get(\r\n        `https://novacon.live/api/users?companyId=${user?.user?.companyId}&roleId=2`,\r\n        {\r\n          headers: {\r\n            Authorization: user?.accessToken,\r\n            // Add other headers if needed\r\n          },\r\n        }\r\n      );\r\n      console.log(response?.data, \"UUUAUA\");\r\n      const options = [];\r\n      for (const item of response?.data) {\r\n        options.push({\r\n          value: item?.id,\r\n          label: `${item?.firstName} ${item?.lastName}`,\r\n        });\r\n      }\r\n\r\n      setUserData(options); // Assuming the response.data is an array of DocumentPermissions\r\n    } catch (error) {\r\n      console.error(\"Error fetching departments:\", error?.message);\r\n    }\r\n  };\r\n  const DocumentPermissionModalCancel = () => {\r\n    setMDR(\"\");\r\n    setProject(\"\")\r\n    setDocumentPermissionModalVisible(false);\r\n  };\r\n\r\n  const permissionModalShow = () => {\r\n    setPermissionModalVisible(true);\r\n  };\r\n  const permissionModalCancel = () => {\r\n    setPermissionModalVisible(false);\r\n  };\r\n  const addDocumentPermission = async () => {};\r\n\r\n  const fetchData = async () => {\r\n    try {\r\n      const response = await axios.get(\r\n        `https://novacon.live/api/documents/permissions?companyId=${user?.user?.companyId}`,\r\n        {\r\n          headers: {\r\n            Authorization: user?.accessToken,\r\n            // Add other headers if needed\r\n          },\r\n        }\r\n      );\r\n      console.log(response.data);\r\n      \r\n      setData(response.data); // Assuming the response.data is an array of departments\r\n    } catch (error) {\r\n      console.error(\"Error fetching departments:\", error?.message);\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    setUser(JSON.parse(localStorage?.getItem(\"user\")));\r\n    // Fetch data when the component mounts\r\n    fetchData();\r\n    fetchUsers();\r\n    fetchMDR();\r\n    fetchProjects();\r\n\r\n  }, []);\r\n  const handleMDRset=(rec)=>{\r\n    fetchDocs(rec)\r\n    setMDR(rec)\r\n  }\r\n  return (\r\n    <>\r\n      <Modal\r\n        title=\"Create Permissions\"\r\n        width={416}\r\n        centered\r\n        visible={DocumentPermissionModalVisible}\r\n        onCancel={DocumentPermissionModalCancel}\r\n        footer={null}\r\n        closeIcon={\r\n          <RiCloseFill className=\"remix-icon text-color-black-100\" size={24} />\r\n        }\r\n      >\r\n          \r\n\r\n        <Form layout=\"vertical\" name=\"basic\" form={permissionForm} onFinish={handleSubmit}>\r\n        {/* <Form.Item\r\n            label=\"Project\"\r\n            name=\"Project\"\r\n            rules={[\r\n              {\r\n                required: true,\r\n                message: \"Please select Project\",\r\n              },\r\n            ]}\r\n          >\r\n            <Select\r\n              options={projectOptions}\r\n              value={project}\r\n              onChange={(value) => setProject(value)}\r\n            />\r\n          </Form.Item> */}\r\n          <Form.Item\r\n            label=\"MDR\"\r\n            name=\"mdr\"\r\n            rules={[\r\n              {\r\n                required: true,\r\n                message: \"Please select MDR\",\r\n              },\r\n            ]}\r\n          >\r\n            <Select\r\n              options={mdrOptions}\r\n              value={mdr}\r\n              onChange={(value) =>handleMDRset(value)}\r\n            />\r\n          </Form.Item>\r\n            {mdr&& <Form.Item\r\n            label=\"Doc\"\r\n            name=\"doc\"\r\n            rules={[\r\n              {\r\n                required: true,\r\n                message: \"Please select Doc\",\r\n              },\r\n            ]}\r\n          >\r\n            <Select\r\n              options={docsData}\r\n              value={permissionDoc}\r\n              onChange={(value) => setpermissionDoc(value)}\r\n            />\r\n          </Form.Item>}\r\n\r\n          <Form.Item\r\n            label=\"Users\"\r\n            name=\"users\"\r\n            rules={[\r\n              {\r\n                required: true,\r\n                message: \"Please select MDR\",\r\n              },\r\n            ]}\r\n          >\r\n            <Select\r\n              options={userOptions}\r\n              value={permissionUser}\r\n              onChange={(value) => setpermissionUser(value)}\r\n            />\r\n          </Form.Item>\r\n          <Form.Item label=\"Permissions\" name=\"permissions\">\r\n            <Checkbox.Group\r\n              options={permissionsOptions}\r\n              defaultValue={0}\r\n              onChange={onChange}\r\n            />\r\n          </Form.Item>\r\n\r\n          <Row>\r\n            <Col md={12} span={24} className=\"hp-pr-sm-0 hp-pr-12\">\r\n              <Button\r\n                block\r\n                type=\"primary\"\r\n                htmlType=\"submit\"\r\n                // onClick={() => addPermission()}\r\n              >\r\n                Add\r\n              </Button>\r\n            </Col>\r\n\r\n            <Col md={12} span={24} className=\"hp-mt-sm-12 hp-pl-sm-0 hp-pl-12\">\r\n              <Button block onClick={DocumentPermissionModalCancel}>\r\n                Cancel\r\n              </Button>\r\n            </Col>\r\n          </Row>\r\n        </Form>\r\n      </Modal>\r\n\r\n      <div style={{ textAlign: \"right\", marginBottom: \"16px\" }}>\r\n        <Button\r\n          type=\"primary\"\r\n          onClick={DocumentPermissionModalShow}\r\n          disabled={user?.user?.roleId != 1}\r\n        >\r\n          Add Permissions\r\n        </Button>\r\n      </div>\r\n      <Table columns={columns} dataSource={data} bordered\r\n      title={() => 'All Documents Permissions'}\r\n      footer={() => 'You may filter Documents'}/>\r\n    </>\r\n  );\r\n}\r\n"],"names":["columns","title","dataIndex","key","permissionsOptions","label","value","DocumentPermissions","_localStorage","_user$user9","DocumentPermissionModalVisible","setDocumentPermissionModalVisible","useState","mdrOptions","setMdrData","projectOptions","setProjectData","docsData","setDocsData","userOptions","setUserData","permissionUser","setpermissionUser","mdr","setMDR","permissionDoc","setpermissionDoc","permissionForm","Form","useForm","project","setProject","permissionModalVisible","setPermissionModalVisible","user","setUser","JSON","parse","localStorage","getItem","data","setData","DocumentPermissionOptions","setDocumentPermissions","checked","setChecked","DocumentPermissionId","setDocumentPermissionId","DocumentPermissionModalCancel","fetchData","async","_user$user8","response","axios","companyId","headers","Authorization","accessToken","console","log","error","message","useEffect","_localStorage2","_user$user7","options","item","push","id","firstName","lastName","fetchUsers","_user$user2","fetchMDR","_user$user3","_user$user4","roleId","fetchProjects","handleMDRset","rec","_user$user5","_user$user6","departmentId","fetchDocs","_jsxs","_Fragment","children","_jsx","Modal","width","centered","visible","onCancel","footer","closeIcon","RiCloseFill","className","size","layout","name","form","onFinish","handleSubmit","validateFields","then","values","_user$user","_response$data","masterDocumentId","doc","userId","createDocument","includes","reviewDocument","approveDocument","success","addPermission","resetFields","Item","rules","required","Select","onChange","Checkbox","Group","defaultValue","checkedValues","Row","Col","md","span","Button","block","type","htmlType","onClick","style","textAlign","marginBottom","DocumentPermissionModalShow","disabled","Table","dataSource","bordered"],"sourceRoot":""}