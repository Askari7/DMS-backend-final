"use strict";(self.webpackChunkyoda_admin_react=self.webpackChunkyoda_admin_react||[]).push([[8360],{70877:(e,l,a)=>{a.d(l,{A:()=>i});var s=a(62582),n=a(11645),o=a(97775),t=a(70579);const i=e=>{const{breadCrumbParent:l,breadCrumbParent2:a,breadCrumbParent3:i,breadCrumbActive:c}=e;return(0,t.jsx)(n.A,{children:(0,t.jsxs)(o.A,{className:"hp-d-flex hp-flex-wrap",children:[(0,t.jsx)(o.A.Item,{children:(0,t.jsx)(s.N_,{to:"/",children:"Home"})}),"Components"===l?(0,t.jsx)(o.A.Item,{children:(0,t.jsx)(s.N_,{to:"/components/components-page",children:"Components"})}):(0,t.jsx)(o.A.Item,{children:l}),a&&(0,t.jsx)(o.A.Item,{children:a}),i&&(0,t.jsx)(o.A.Item,{children:i}),(0,t.jsx)(o.A.Item,{children:c})]})})}},58360:(e,l,a)=>{a.r(l),a.d(l,{default:()=>g});var s=a(65043),n=a(40854),o=a.n(n),t=a(64435),i=a(15627),c=a(21261),r=a(47419),d=a(11645),m=a(94376),u=a(89421),p=a(60521),h=a(70610),v=a(26412),x=a(39998),A=a(22285),y=(a(70877),a(4689),a(77717)),j=a(70579);function g(){var e,l,a,n;const[g,C]=(0,s.useState)(JSON.parse(null===(e=localStorage)||void 0===e?void 0:e.getItem("user"))),[b,I]=(0,s.useState)([]),k=[{title:"Company Name",dataIndex:"companyName",key:"companyName",render:e=>(0,j.jsx)("a",{children:e})},{title:"Company Address",dataIndex:"companyAddress",key:"companyAddress",render:e=>(0,j.jsx)("a",{children:e})},{title:"Action",key:"action",render:(e,l)=>(0,j.jsx)(t.A,{size:"middle",children:(0,j.jsx)("a",{onClick:()=>ee(l),children:"Show Employees"})})}],[N,f]=(0,s.useState)(!1),[S,w]=(0,s.useState)(!1),[E,z]=(0,s.useState)([]),[P,T]=(0,s.useState)(""),[_,q]=(0,s.useState)(!1),[O,Q]=(0,s.useState)(""),[J,B]=(0,s.useState)(""),[F,H]=(0,s.useState)(""),[R,Y]=(0,s.useState)(""),[D,G]=(0,s.useState)(""),[K,L]=(0,s.useState)(""),[M,U]=(0,s.useState)([]),[V,W]=(0,s.useState)([]),X=async()=>{try{var e;const l=await o().get("http://54.81.250.98:8083/api/clients?companyId=".concat(null===g||void 0===g||null===(e=g.user)||void 0===e?void 0:e.companyId),{headers:{Authorization:null===g||void 0===g?void 0:g.accessToken}});console.log(l.data,"data");const a=l.data.map((e=>({value:e.id,label:e.companyName})));console.log("Options",a),I(a),W(l.data)}catch(l){console.error("Error fetching clients:",null===l||void 0===l?void 0:l.message)}};(0,s.useEffect)((()=>{var e;C(JSON.parse(null===(e=localStorage)||void 0===e?void 0:e.getItem("user"))),(async()=>{try{var e;const l=await o().get("http://54.81.250.98:8083/api/projects?companyId=".concat(null===g||void 0===g||null===(e=g.user)||void 0===e?void 0:e.companyId),{headers:{Authorization:null===g||void 0===g?void 0:g.accessToken}});console.log(l);const a=new Set,s=null===l||void 0===l?void 0:l.data.reduce(((e,l)=>(a.has(l.title)||(a.add(l.title),e.push({value:l.id,label:l.title,code:l.code})),e)),[]);U(s)}catch(l){console.error("Error fetching departments:",null===l||void 0===l?void 0:l.message)}})(),X()}),[]);const Z=()=>{q(!1)},$=()=>{w(!1)},ee=e=>{console.log("record",e),console.log(e,"recordingggg"),(async e=>{try{console.log(e,"id");const l=await o().get("http://54.81.250.98:8083/api/clients/official?companyId=".concat(e.id),{headers:{Authorization:null===g||void 0===g?void 0:g.accessToken}});console.log(l.data,"data"),z(l.data)}catch(l){console.error("Error fetching employees:",null===l||void 0===l?void 0:l.message)}})(e),f(!0)},le=()=>{T(""),f(!1)};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(c.A,{title:"Employees",width:400,centered:!0,visible:N,onCancel:le,footer:null,closeIcon:(0,j.jsx)(A.dCQ,{className:"remix-icon text-color-black-100",size:24}),children:(0,j.jsx)(r.A,{justify:"space-between",align:"center",children:(0,j.jsx)(d.A,{span:30,children:(0,j.jsxs)(m.A,{layout:"vertical",name:"basic",children:[(0,j.jsxs)(y.A,{children:[(0,j.jsx)("h3",{children:"Our Employees"}),(0,j.jsx)("ul",{children:E.map(((e,l)=>(0,j.jsxs)("li",{children:[(0,j.jsx)("strong",{children:e.clientName})," - ",(0,j.jsx)("span",{style:{color:"blue"},children:e.Email})]},l)))})]}),(0,j.jsx)(r.A,{children:(0,j.jsx)(d.A,{md:12,span:24,className:"hp-mt-sm-12 hp-pl-sm-0 hp-pl-12",children:(0,j.jsx)(u.A,{block:!0,onClick:le,children:"Cancel"})})})]})})})}),(0,j.jsx)(c.A,{title:"Add Company",width:416,centered:!0,visible:_,onCancel:Z,footer:null,closeIcon:(0,j.jsx)(A.dCQ,{className:"remix-icon text-color-black-100",size:24}),children:(0,j.jsxs)(m.A,{layout:"vertical",name:"basic",children:[(0,j.jsx)(m.A.Item,{label:"Company Name:",name:"firstName",rules:[{required:!0,message:"Please input your firstName!"}],children:(0,j.jsx)(p.A,{value:O,onChange:e=>Q(e.target.value)})}),(0,j.jsx)(m.A.Item,{label:"Address :",name:"companyAddress",children:(0,j.jsx)(p.A,{id:"companyAddress",value:D,onChange:e=>G(e.target.value)})}),(0,j.jsx)(m.A.Item,{label:"Contact :",name:"companyContact",children:(0,j.jsx)(p.A,{id:"companyContact",value:K,onChange:e=>L(e.target.value)})}),(0,j.jsxs)(r.A,{children:[(0,j.jsx)(d.A,{md:12,span:24,className:"hp-pr-sm-0 hp-pr-12",children:(0,j.jsx)(u.A,{block:!0,type:"primary",htmlType:"submit",onClick:()=>(async()=>{try{var e,l;const a=await o().post("http://54.81.250.98:8083/api/clients",{companyName:O,companyId:null===g||void 0===g||null===(e=g.user)||void 0===e?void 0:e.companyId,companyAddress:D,companyContact:K},{headers:{Authorization:null===g||void 0===g?void 0:g.accessToken}});console.log(a),i.Ay.success(null===a||void 0===a||null===(l=a.data)||void 0===l?void 0:l.message),X(),Z()}catch(a){console.error("Error adding client:",a)}})(),children:"Add Company"})}),(0,j.jsx)(d.A,{md:12,span:24,className:"hp-mt-sm-12 hp-pl-sm-0 hp-pl-12",children:(0,j.jsx)(u.A,{block:!0,onClick:Z,children:"Cancel"})})]})]})}),(0,j.jsx)(c.A,{title:"Add Client",width:416,centered:!0,visible:S,onCancel:$,footer:null,closeIcon:(0,j.jsx)(A.dCQ,{className:"remix-icon text-color-black-100",size:24}),children:(0,j.jsxs)(m.A,{layout:"vertical",name:"basic",children:[(0,j.jsx)(m.A.Item,{label:"Client Name:",name:"clientName",rules:[{required:!0,message:"Please input your Name!"}],children:(0,j.jsx)(p.A,{value:J,onChange:e=>B(e.target.value)})}),(0,j.jsx)(m.A.Item,{label:"Email :",name:"email",rules:[{required:!0,message:"Please input your Email!"}],children:(0,j.jsx)(p.A,{id:"email",value:F,onChange:e=>H(e.target.value)})}),(0,j.jsx)(m.A.Item,{label:"Company",name:"company",rules:[{required:!0,message:"Please select Company"}],children:(0,j.jsx)(h.A,{options:b,value:R,onChange:e=>Y(e)})}),(0,j.jsxs)(r.A,{children:[(0,j.jsx)(d.A,{md:12,span:24,className:"hp-pr-sm-0 hp-pr-12",children:(0,j.jsx)(u.A,{block:!0,type:"primary",htmlType:"submit",onClick:()=>(async()=>{try{var e;const l=await o().post("http://54.81.250.98:8083/api/clients",{clientName:J,companyId:R,Email:F},{headers:{Authorization:null===g||void 0===g?void 0:g.accessToken}});console.log(l),i.Ay.success(null===l||void 0===l||null===(e=l.data)||void 0===e?void 0:e.message),X(),$()}catch(l){console.error("Error adding client official:",l)}})(),children:"Add Client"})}),(0,j.jsx)(d.A,{md:12,span:24,className:"hp-mt-sm-12 hp-pl-sm-0 hp-pl-12",children:(0,j.jsx)(u.A,{block:!0,onClick:$,children:"Cancel"})})]})]})}),(0,j.jsxs)("div",{style:{textAlign:"right",marginBottom:"16px"},children:[(0,j.jsx)(u.A,{type:"primary",onClick:()=>{q(!0)},style:{marginRight:"10px"},disabled:1!=(null===g||void 0===g||null===(l=g.user)||void 0===l?void 0:l.roleId),children:"Add Company"}),(0,j.jsx)(u.A,{type:"primary",onClick:()=>{w(!0)},disabled:1!=(null===g||void 0===g||null===(a=g.user)||void 0===a?void 0:a.roleId),children:"Add Client"})]}),1===(null===g||void 0===g||null===(n=g.user)||void 0===n?void 0:n.roleId)?(0,j.jsx)(v.A,{columns:k,dataSource:V,bordered:!0,size:"middle",title:()=>"All Clients Information"}):(0,j.jsxs)("div",{children:[(0,j.jsx)(x.A,{}),(0,j.jsx)("p",{children:"You do not have permissions to view."})]})]})}}}]);
//# sourceMappingURL=8360.759eb36a.chunk.js.map