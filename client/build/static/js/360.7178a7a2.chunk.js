"use strict";(self.webpackChunkyoda_admin_react=self.webpackChunkyoda_admin_react||[]).push([[360],{70877:(e,a,l)=>{l.d(a,{A:()=>o});var s=l(62582),n=l(11645),t=l(97775),i=l(70579);const o=e=>{const{breadCrumbParent:a,breadCrumbParent2:l,breadCrumbParent3:o,breadCrumbActive:d}=e;return(0,i.jsx)(n.A,{children:(0,i.jsxs)(t.A,{className:"hp-d-flex hp-flex-wrap",children:[(0,i.jsx)(t.A.Item,{children:(0,i.jsx)(s.N_,{to:"/",children:"Home"})}),"Components"===a?(0,i.jsx)(t.A.Item,{children:(0,i.jsx)(s.N_,{to:"/components/components-page",children:"Components"})}):(0,i.jsx)(t.A.Item,{children:a}),l&&(0,i.jsx)(t.A.Item,{children:l}),o&&(0,i.jsx)(t.A.Item,{children:o}),(0,i.jsx)(t.A.Item,{children:d})]})})}},58360:(e,a,l)=>{l.r(a),l.d(a,{default:()=>j});var s=l(65043),n=l(40854),t=l.n(n),i=l(64435),o=l(15627),d=l(21261),r=l(47419),c=l(11645),m=l(94376),u=l(33733),p=l(89421),h=l(62967),x=l(26412),v=l(39998),A=l(73754),y=(l(70877),l(4689),l(70579));function j(){var e,a,l,n;const[j,g]=(0,s.useState)(JSON.parse(null===(e=localStorage)||void 0===e?void 0:e.getItem("user"))),[C,b]=(0,s.useState)([]),I=[{title:"Client Id",dataIndex:"id",key:"id",render:e=>(0,y.jsx)("a",{children:e})},{title:"Company Name",dataIndex:"companyName",key:"companyName",render:e=>(0,y.jsx)("a",{children:e})},{title:"Company Address",dataIndex:"companyAddress",key:"companyAddress",render:e=>(0,y.jsx)("a",{children:e})},{title:"Action",key:"action",render:(e,a)=>(0,y.jsxs)(i.A,{size:"middle",children:[(0,y.jsx)("a",{children:"Change Actions"}),(0,y.jsx)("a",{onClick:()=>X(a),children:"Add Status"}),(0,y.jsx)("a",{children:"Delete"})]})}],[k,N]=(0,s.useState)(!1),[S,f]=(0,s.useState)(!1),[w,P]=(0,s.useState)(""),[z,E]=(0,s.useState)(!1),[q,T]=(0,s.useState)(""),[_,O]=(0,s.useState)(""),[Q,J]=(0,s.useState)(""),[B,D]=(0,s.useState)(""),[F,H]=(0,s.useState)(""),[R,Y]=(0,s.useState)(""),[G,K]=(0,s.useState)([]),[L,M]=(0,s.useState)([]),U=async()=>{try{var e;const a=await t().get("http://127.0.0.1:8083/api/clients?companyId=".concat(null===j||void 0===j||null===(e=j.user)||void 0===e?void 0:e.companyId),{headers:{Authorization:null===j||void 0===j?void 0:j.accessToken}});console.log(a.data,"data");const l=a.data.map((e=>({value:e.id,label:e.companyName})));console.log("Options",l),b(l),M(a.data)}catch(a){console.error("Error fetching clients:",null===a||void 0===a?void 0:a.message)}};(0,s.useEffect)((()=>{var e;g(JSON.parse(null===(e=localStorage)||void 0===e?void 0:e.getItem("user"))),(async()=>{try{var e;const a=await t().get("http://127.0.0.1:8083/api/projects?companyId=".concat(null===j||void 0===j||null===(e=j.user)||void 0===e?void 0:e.companyId),{headers:{Authorization:null===j||void 0===j?void 0:j.accessToken}});console.log(a);const l=new Set,s=null===a||void 0===a?void 0:a.data.reduce(((e,a)=>(l.has(a.title)||(l.add(a.title),e.push({value:a.id,label:a.title,code:a.code})),e)),[]);K(s)}catch(a){console.error("Error fetching departments:",null===a||void 0===a?void 0:a.message)}})(),U()}),[]);const V=()=>{E(!1)},W=()=>{f(!1)},X=()=>{N(!0)},Z=()=>{P(""),N(!1)};return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(d.A,{title:"Change Status",width:400,centered:!0,visible:k,onCancel:Z,footer:null,closeIcon:(0,y.jsx)(A.dCQ,{className:"remix-icon text-color-black-100",size:24}),children:(0,y.jsx)(r.A,{justify:"space-between",align:"center",children:(0,y.jsx)(c.A,{span:20,children:(0,y.jsxs)(m.A,{layout:"vertical",name:"basic",children:[(0,y.jsx)(m.A.Item,{label:"Select Status",name:"selectedStatus",rules:[{required:!0,message:"Please select a status"}],children:(0,y.jsx)(u.A,{options:[{label:"On-going",value:"on-going"},{label:"Completed",value:"completed"},{label:"Pending",value:"pending"}],value:w,onChange:e=>P(e)})}),(0,y.jsxs)(r.A,{children:[(0,y.jsx)(c.A,{md:12,span:24,className:"hp-pr-sm-0 hp-pr-12",children:(0,y.jsx)(p.A,{block:!0,type:"primary",htmlType:"submit",onClick:()=>{Z()},children:"Submit"})}),(0,y.jsx)(c.A,{md:12,span:24,className:"hp-mt-sm-12 hp-pl-sm-0 hp-pl-12",children:(0,y.jsx)(p.A,{block:!0,onClick:Z,children:"Cancel"})})]})]})})})}),(0,y.jsx)(d.A,{title:"Add Company",width:416,centered:!0,visible:z,onCancel:V,footer:null,closeIcon:(0,y.jsx)(A.dCQ,{className:"remix-icon text-color-black-100",size:24}),children:(0,y.jsxs)(m.A,{layout:"vertical",name:"basic",children:[(0,y.jsx)(m.A.Item,{label:"Company Name:",name:"firstName",rules:[{required:!0,message:"Please input your firstName!"}],children:(0,y.jsx)(h.A,{value:q,onChange:e=>T(e.target.value)})}),(0,y.jsx)(m.A.Item,{label:"Address :",name:"companyAddress",rules:[{required:!0,message:"Please input your Address!"}],children:(0,y.jsx)(h.A,{id:"companyAddress",value:F,onChange:e=>H(e.target.value)})}),(0,y.jsx)(m.A.Item,{label:"Contact :",name:"companyContact",rules:[{required:!0,message:"Please input your -Contact!"}],children:(0,y.jsx)(h.A,{id:"companyContact",value:R,onChange:e=>Y(e.target.value)})}),(0,y.jsxs)(r.A,{children:[(0,y.jsx)(c.A,{md:12,span:24,className:"hp-pr-sm-0 hp-pr-12",children:(0,y.jsx)(p.A,{block:!0,type:"primary",htmlType:"submit",onClick:()=>(async()=>{try{var e,a;const l=await t().post("http://127.0.0.1:8083/api/clients",{companyName:q,companyId:null===j||void 0===j||null===(e=j.user)||void 0===e?void 0:e.companyId,companyAddress:F,companyContact:R},{headers:{Authorization:null===j||void 0===j?void 0:j.accessToken}});console.log(l),o.Ay.success(null===l||void 0===l||null===(a=l.data)||void 0===a?void 0:a.message),U(),V()}catch(l){console.error("Error adding client:",l)}})(),children:"Add Company"})}),(0,y.jsx)(c.A,{md:12,span:24,className:"hp-mt-sm-12 hp-pl-sm-0 hp-pl-12",children:(0,y.jsx)(p.A,{block:!0,onClick:V,children:"Cancel"})})]})]})}),(0,y.jsx)(d.A,{title:"Add Client",width:416,centered:!0,visible:S,onCancel:W,footer:null,closeIcon:(0,y.jsx)(A.dCQ,{className:"remix-icon text-color-black-100",size:24}),children:(0,y.jsxs)(m.A,{layout:"vertical",name:"basic",children:[(0,y.jsx)(m.A.Item,{label:"Client Name:",name:"clientName",rules:[{required:!0,message:"Please input your Name!"}],children:(0,y.jsx)(h.A,{value:_,onChange:e=>O(e.target.value)})}),(0,y.jsx)(m.A.Item,{label:"Email :",name:"email",rules:[{required:!0,message:"Please input your Email!"}],children:(0,y.jsx)(h.A,{id:"email",value:Q,onChange:e=>J(e.target.value)})}),(0,y.jsx)(m.A.Item,{label:"Company",name:"company",rules:[{required:!0,message:"Please select Company"}],children:(0,y.jsx)(u.A,{options:C,value:B,onChange:e=>D(e)})}),(0,y.jsxs)(r.A,{children:[(0,y.jsx)(c.A,{md:12,span:24,className:"hp-pr-sm-0 hp-pr-12",children:(0,y.jsx)(p.A,{block:!0,type:"primary",htmlType:"submit",onClick:()=>(async()=>{try{var e;const a=await t().post("http://127.0.0.1:8083/api/clients",{clientName:_,companyId:B,Email:Q},{headers:{Authorization:null===j||void 0===j?void 0:j.accessToken}});console.log(a),o.Ay.success(null===a||void 0===a||null===(e=a.data)||void 0===e?void 0:e.message),U(),W()}catch(a){console.error("Error adding client official:",a)}})(),children:"Add Client"})}),(0,y.jsx)(c.A,{md:12,span:24,className:"hp-mt-sm-12 hp-pl-sm-0 hp-pl-12",children:(0,y.jsx)(p.A,{block:!0,onClick:W,children:"Cancel"})})]})]})}),(0,y.jsxs)("div",{style:{textAlign:"right",marginBottom:"16px"},children:[(0,y.jsx)(p.A,{type:"primary",onClick:()=>{E(!0)},style:{marginRight:"10px"},disabled:1!=(null===j||void 0===j||null===(a=j.user)||void 0===a?void 0:a.roleId),children:"Add Company"}),(0,y.jsx)(p.A,{type:"primary",onClick:()=>{f(!0)},disabled:1!=(null===j||void 0===j||null===(l=j.user)||void 0===l?void 0:l.roleId),children:"Add Client"})]}),1===(null===j||void 0===j||null===(n=j.user)||void 0===n?void 0:n.roleId)?(0,y.jsx)(x.A,{columns:I,dataSource:L}):(0,y.jsxs)("div",{children:[(0,y.jsx)(v.A,{}),(0,y.jsx)("p",{children:"You do not have permissions to view."})]})]})}}}]);
//# sourceMappingURL=360.7178a7a2.chunk.js.map