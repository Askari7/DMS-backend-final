{"version":3,"file":"static/js/9491.1612699a.chunk.js","mappings":"gXAw1DE,MA8oCF,EA9oCsBA,IAA+B,IAADC,EAAA,IAA7B,YAAEC,EAAW,QAAEC,GAASH,EAC3C,MAAOI,EAAoBC,IAAyBC,EAAAA,EAAAA,WAAS,IACtDC,EAAYC,IAAiBF,EAAAA,EAAAA,UAAS,CAAC,IAExC,OAAEG,IAAWC,EAAAA,EAAAA,eACbC,EAAS,IAAIC,gBAAgBH,GAC7BI,EAAcF,EAAOG,IAAI,eACzBC,EAAaJ,EAAOG,IAAI,WACxBE,EAAYL,EAAOG,IAAI,aACvBG,EAAaN,EAAOG,IAAI,SACxBI,EAAeP,EAAOG,IAAI,gBAEhC,IAAIK,EAA0BR,EAAOG,IAAI,qBACrCM,EAAyBT,EAAOG,IAAI,oBAExC,MAAMO,EAAiBV,EAAOG,IAAI,kBAC5BQ,EAAWX,EAAOG,IAAI,YACtBS,EAAWZ,EAAOG,IAAI,YACtBU,EAASb,EAAOG,IAAI,UAE1BW,QAAQC,IAAI,gCAAgCb,EAAYE,EAAWC,EAAUC,EAAYC,EACzFE,EAAuBD,EAAwBE,EAAeC,EAASC,EAASC,GAEhF,MAAOG,EAAmBC,IAAwBtB,EAAAA,EAAAA,UAAS,CAAC,IACrDuB,EAAqBC,IAA2BxB,EAAAA,EAAAA,WAAS,IACzDyB,EAAqBC,IAA4B1B,EAAAA,EAAAA,WAAS,IAC1D2B,EAAMC,IAAY5B,EAAAA,EAAAA,UAAS,KAC3B6B,EAAiBC,IAAsB9B,EAAAA,EAAAA,UAAS,OAChD+B,EAAgBC,IAAqBhC,EAAAA,EAAAA,WAAS,IAG9CiC,EAASC,IAAclC,EAAAA,EAAAA,WAAS,IAChCmC,GAAcC,KAAmBpC,EAAAA,EAAAA,UAAS,KAC1CqC,GAAoBC,KAAyBtC,EAAAA,EAAAA,UAAS,OACtDuC,GAAMC,KAAYxC,EAAAA,EAAAA,UAAS,KAC3ByC,GAAcC,KAAmB1C,EAAAA,EAAAA,UAAS,KAC1C2C,GAAMC,KAAW5C,EAAAA,EAAAA,UAAS6C,KAAKC,MAAkB,QAAbnD,EAACoD,oBAAY,IAAApD,OAAA,EAAZA,EAAcqD,QAAQ,WAC3DC,GAAKC,KAAWlD,EAAAA,EAAAA,aAChBmD,GAAWC,KAAiBpD,EAAAA,EAAAA,aAE5BqD,GAAaC,KAAmBtD,EAAAA,EAAAA,aAChCuD,GAAoBC,KAA0BxD,EAAAA,EAAAA,aAC9CyD,GAAgBC,KAAsB1D,EAAAA,EAAAA,YAGvC2D,GAA2Bd,KAAKC,MAAMhC,GAEtC8C,GAAoBf,KAAKC,MAAMjC,GAE/BgD,GAAuB,IAAIC,IAAIF,GAAkBG,KAAIC,GAAU,CAACA,EAAOC,MAAOD,EAAOE,UAKrFC,GAHgBvD,EAAawD,MAAM,KAAKL,IAAIM,QACXN,KAAIO,GAAMT,GAAqBrD,IAAI8D,KAE1BC,KAAK,MAG/CC,GAAuBC,OAAOC,QAAQC,GAAUZ,KAAIa,IAAA,IAAEC,EAAOZ,GAAMW,EAAA,MAAM,IAAMX,EAAOY,MAAOC,SAASD,GAAQE,SAAS,EAAO,KAG7HC,GAAMC,KAAWjF,EAAAA,EAAAA,UAASyE,OAAOS,OAAOV,MACxCW,GAAUC,KAAgBpF,EAAAA,EAAAA,UAASyE,OAAOS,OAAOV,KAOxD,MAAOa,GAAgBC,KAAqBtF,EAAAA,EAAAA,UAAS,CAAC,IAC/CuF,GAAgBC,KAAqBxF,EAAAA,EAAAA,UAAS,CAAC,IAC/CyF,GAAYC,KAAkB1F,EAAAA,EAAAA,UAAS,KACvC2F,GAAkBC,KAAwB5F,EAAAA,EAAAA,UAAS,KAEnD6F,GAAOC,KAAa9F,EAAAA,EAAAA,UAAS,KAE7B+F,GAAcC,KAAmBhG,EAAAA,EAAAA,UAAS,IAE3CiG,GAAU,CACd,CACEtE,MAAO,OACPuE,UAAW,OACXC,IAAK,QAEP,CACExE,MAAO,WACPuE,UAAW,gBACXC,IAAK,iBAEP,CACExE,MAAO,kBACPuE,UAAW,iBACXC,IAAK,iBACLC,QAAS,CACP,CACEC,KAAM,qBACNpC,MAAO,MAET,CACEoC,KAAM,UACNpC,MAAO,OAET,CACEoC,KAAM,SACNpC,MAAO,OAET,CACEoC,KAAM,aACNpC,MAAO,MAET,CACEoC,KAAM,kBACNpC,MAAO,OAET,CACEoC,KAAM,aACNpC,MAAO,OAET,CACEoC,KAAM,kBACNpC,MAAO,QAGXqC,WAAY,OACZC,cAAc,EACdC,SAAWA,CAACvC,EAAO/C,IAAWA,EAAOuF,iBAAmBxC,GAE1D,CACEtC,MAAO,wBACPuE,UAAW,sBACXC,IAAK,uBAEP,CACExE,MAAO,kBACPuE,UAAW,WACXC,IAAK,YAEP,CACExE,MAAO,kBACPwE,IAAK,gBACLO,OAAQA,CAACC,EAAGzF,KACV0F,EAAAA,EAAAA,MAACC,EAAAA,EAAK,CAACC,KAAK,SAASC,MAAM,SAAQC,SAAA,EACjCC,EAAAA,EAAAA,KAACC,EAAAA,EAAG,CAACC,MAAO,CAAEC,MAAO,QAASC,gBAAiB,QAAUC,QAASA,IAAMC,GAAYrG,EAAO,OAAO8F,SAAC,OACnGC,EAAAA,EAAAA,KAACC,EAAAA,EAAG,CAACC,MAAO,CAAEC,MAAO,QAASC,gBAAiB,QAASL,SAAE3B,GAAenE,EAAOsG,WAAa,KAC7FP,EAAAA,EAAAA,KAACC,EAAAA,EAAG,CAACC,MAAO,CAAEC,MAAO,QAASC,gBAAiB,QAAUC,QAASA,IAAMC,GAAYrG,EAAO,OAAO8F,SAAC,YAM3GS,EAAAA,EAAAA,YAAU,KACR,MAAMC,EAAUC,YAAW,KACzBvF,GAAgBwB,GAAkBG,KAAIC,GAAUA,EAAOE,SACvDhC,GAAW,EAAM,GAChB,KAEH,MAAO,IAAM0F,aAAaF,EAAQ,GACjC,IAEH,MAAMH,GAAcA,CAACrG,EAAO2G,KAC1BvC,IAAkBwC,IAChB,MAAMC,EAAgB,IAAKD,GACrBE,EAAeD,EAAc7G,EAAOsG,WAAa,EASvD,OAPEO,EAAc7G,EAAOsG,UADjB,OAAHK,EACgCG,EAAe,EAGfA,EAAc,EAI1CD,CAAa,GACpB,EAiJEE,GAAuBA,KAC3BjG,GAAkB,EAAM,EA2RpBkG,GAAc7F,IAGlB,MAAM8F,EAAkBhD,GACvBiD,QAAOC,GAAQA,EAAKC,SAASC,gBAAkBlG,EAAmBkG,gBAE7DC,EAAkBrD,GACvBiD,QAAO,CAACK,EAAK5D,IAAUpC,GAAaiG,SAAS7D,IAAU4D,EAAI1D,UAC3DhB,KAAI0E,GAAOA,EAAI5D,QAGhBnC,GAAgB8F,GAOhBvD,GAAQkD,EAAgB,EAmGpBQ,GAAsBA,KAC1BnH,GAAwB,EAAM,EAQ1BoH,GAAsBA,KAC1BlH,GAAwB,EAAM,GA2BhC+F,EAAAA,EAAAA,YAAU,KAnBUoB,WAGlB,IAAK,IAADC,EASEC,SARmBC,IAAAA,IACrB,yDAA6D,OAAJrG,SAAI,IAAJA,IAAU,QAANmG,EAAJnG,GAAMA,YAAI,IAAAmG,OAAN,EAAJA,EAAYG,YACrE,CACEC,QAAS,CACPC,cAAmB,OAAJxG,SAAI,IAAJA,QAAI,EAAJA,GAAMyG,gBAIFpE,KAAKqE,qBAAqBjF,MAAM,KACzD5B,GAASjC,EAAY,IAAIwI,EAAY,GAAG,IAAIA,EAAY,GAAG,IAAItI,EAAtDF,OAEX,CAAE,MAAO+I,GACPnI,QAAQmI,MAAM,2BAAiC,OAALA,QAAK,IAALA,OAAK,EAALA,EAAOC,QACnD,GAGAC,EAAa,GACb,KAEF/B,EAAAA,EAAAA,YAAU,QAGP,CAAChC,KAEJ,MAIMgE,GAAoBA,KACxB1J,GAAsB,EAAM,EAgDhC,OACE6G,EAAAA,EAAAA,MAAA8C,EAAAA,SAAA,CAAA1C,SAAA,EACIJ,EAAAA,EAAAA,MAAC+C,EAAAA,EAAK,CACRhI,MAAM,cACNiI,MAAO,IACPC,UAAQ,EACRC,QAASrI,EACTsI,SAAUnB,GACVoB,OAAQ,KACRC,WAAWhD,EAAAA,EAAAA,KAACiD,EAAAA,IAAW,CAACC,UAAU,kCAAkCrD,KAAM,KAAOE,SAAA,EAEjFC,EAAAA,EAAAA,KAACmD,EAAAA,EAAG,CAACC,QAAQ,gBAAgBtD,MAAM,SAAQC,UAC3CC,EAAAA,EAAAA,KAACqD,EAAAA,EAAG,CAACC,KAAM,GAAGvD,UACRC,EAAAA,EAAAA,KAACuD,EAAAA,EAAI,CAACC,OAAO,WAAWC,KAAK,QAAO1D,UAClCC,EAAAA,EAAAA,KAACuD,EAAAA,EAAKG,KAAI,CACRzG,MAAM,cACNwG,KAAK,aACLE,MAAO,CACL,CACEC,UAAU,EACVtB,QAAS,uBAEXvC,UAEFC,EAAAA,EAAAA,KAAC6D,EAAAA,EAAK,CACJ7G,MAAOhB,GACP8H,SAAWC,IAAOpJ,EAASoJ,EAAEC,OAAOhH,MAAM,aAQtDgD,EAAAA,EAAAA,KAACiE,EAAAA,EAAM,CACHC,KAAK,UACL7D,QA7EQrD,IACZ,GAAIpC,EAAiB,CACnB,MAAMuJ,EAAc,IAAIpG,IAClBH,EAAQhD,EAAgBsE,IACxBkF,EAAc,GAAG9K,KAAeoB,KAASlB,QAE/C2K,EAAYvG,GAAS,IAChBhD,EACH2F,SAAU6D,GAGZpG,GAAQmG,GACRtJ,EAAmB,MACnB8G,IACF,GAgEI5B,SACD,gBAKLJ,EAAAA,EAAAA,MAAC+C,EAAAA,EAAK,CACJhI,MAAM,kBACNiI,MAAO,IACPE,QAASvI,EACTwI,SAAUpB,GACVqB,OAAQ,KACRC,WAAWhD,EAAAA,EAAAA,KAACiD,EAAAA,IAAW,CAACC,UAAU,kCAAkCrD,KAAM,KAAOE,SAAA,EAEjFC,EAAAA,EAAAA,KAACmD,EAAAA,EAAG,CAACC,QAAQ,gBAAgBtD,MAAM,SAAQC,UACzCJ,EAAAA,EAAAA,MAAA,OAAAI,SAAA,EACEC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,yBACJC,EAAAA,EAAAA,KAAA,MAAIE,MAAO,CAAEmE,OAAQ,MAAOC,QAAQ,OAAOvE,SAC1CvE,GAAasB,KAAKc,IAC3BoC,EAAAA,EAAAA,KAACuE,EAAAA,SAAc,CAAAxE,SACdyE,MAAMC,KAAK,CAAEC,OAAQ3G,GAAKH,GAAO+G,OAAS,IAAK,CAACjF,EAAGkF,KAAC,IAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,OACnDxF,EAAAA,EAAAA,MAAA,MAAYO,MAAO,CAAEmE,OAAQ,MAAOC,QAAS,OAAQvE,SAAA,EACnDC,EAAAA,EAAAA,KAAA,UAAQE,MAAO,CAAEC,MAAO,QAASJ,SAAC,cAAkB,IAAEhC,GAAKH,GAAOyD,SAAS,KAACrB,EAAAA,EAAAA,KAAA,UAC5EA,EAAAA,EAAAA,KAAA,UAAQE,MAAO,CAAEC,MAAO,QAASJ,SAAC,UAAc,IAAEhC,GAAKH,GAAO5B,KAAK,KAACgE,EAAAA,EAAAA,KAAA,UACpEA,EAAAA,EAAAA,KAAA,UAAQE,MAAO,CAAEC,MAAO,QAASJ,SAAC,qBAAyB,KAAoB,QAAlB8E,EAAArG,GAAYZ,UAAM,IAAAiH,OAAA,EAAlBA,EAAqBD,KAAM,GAAG,KAAC5E,EAAAA,EAAAA,KAAA,UAC5FA,EAAAA,EAAAA,KAAA,UACAA,EAAAA,EAAAA,KAACuD,EAAAA,EAAKG,KAAI,CAACzG,MAAM,aAAawG,KAAM,eAAe7F,MAAUgH,KAAK7E,UAChEC,EAAAA,EAAAA,KAACoF,EAAAA,EAAU,CACTlF,MAAO,CAAEyC,MAAO,QAChBmB,SAAWuB,GA3nBWC,EAACD,EAAM9E,EAAU3C,EAAOgH,KACpD7F,IAAiBwG,IACf,MAAMC,EAAkB,IAAID,GAM5B,OALAC,EAAgB5H,GAAS4H,EAAgB5H,IAAU,GACnD4H,EAAgB5H,GAAOgH,GAAK,IACvBY,EAAgB5H,GAAOgH,GAC1Ba,UAAWJ,EAAOA,EAAKK,SAAW,MAE7BF,CAAe,GACtB,EAknBwBF,CAAsBD,EAAMtH,GAAKH,GAAO2C,SAAU3C,EAAOgH,GAC7Ee,SAA6B,QAArBb,EAAEhG,GAAalB,UAAM,IAAAkH,GAAK,QAALC,EAAnBD,EAAsBF,UAAE,IAAAG,OAAL,EAAnBA,EAA0Ba,UACpChC,UAAQ,OAIZ5D,EAAAA,EAAAA,KAACuD,EAAAA,EAAKG,KAAI,CAACzG,MAAM,WAAWwG,KAAM,aAAa7F,MAAUgH,KAAK7E,UAC5DC,EAAAA,EAAAA,KAACoF,EAAAA,EAAU,CACTlF,MAAO,CAAEyC,MAAO,QAChBmB,SAAWuB,GAxnBSQ,EAACR,EAAM9E,EAAU3C,EAAOgH,KAClD7F,IAAiBwG,IACf,MAAMC,EAAkB,IAAID,GAM5B,OALAC,EAAgB5H,GAAS4H,EAAgB5H,IAAU,GACnD4H,EAAgB5H,GAAOgH,GAAK,IACvBY,EAAgB5H,GAAOgH,GAC1BkB,QAAST,EAAOA,EAAKK,SAAW,MAE3BF,CAAe,GACtB,EA+mBwBK,CAAoBR,EAAMtH,GAAKH,GAAO2C,SAAU3C,EAAOgH,GAC3Ee,SAA6B,QAArBX,EAAElG,GAAalB,UAAM,IAAAoH,GAAK,QAALC,EAAnBD,EAAsBJ,UAAE,IAAAK,OAAL,EAAnBA,EAA0BW,UACpChC,UAAQ,OAIZ5D,EAAAA,EAAAA,KAACuD,EAAAA,EAAKG,KAAI,CAACzG,MAAM,QAAQwG,KAAM,SAAS7F,MAAUgH,KAAK7E,UACrDC,EAAAA,EAAAA,KAAC6D,EAAAA,EAAK,CACJ3D,MAAO,CAAEmE,OAAQ,OACjB0B,YAAY,uBACZ/I,OAA0B,QAAnBkI,EAAApG,GAAalB,UAAM,IAAAsH,GAAK,QAALC,EAAnBD,EAAsBN,UAAE,IAAAO,OAAL,EAAnBA,EAA0BzK,QAAS,GAC1CoJ,SAAWC,GA7pBSiC,EAACtL,EAAO6F,EAAU3C,EAAOgH,KACnD7F,IAAiBwG,IACf,MAAMC,EAAkB,IAAID,GAQ5B,OAPAC,EAAgB5H,GAAS4H,EAAgB5H,IAAU,GACnD4H,EAAgB5H,GAAOgH,GAAK,IACvBY,EAAgB5H,GAAOgH,GAC1BlK,SAIK8K,CAAe,GACtB,EAkpBqBQ,CAAoBjC,EAAEC,OAAOhH,MAAOe,GAAKH,GAAO2C,SAAU3C,EAAOgH,GAClFhB,UAAQ,QA7BLgB,EAgCJ,KAlCchH,OA4CO,MAAnB5E,EAAW2L,OAAe,SA2C/B3E,EAAAA,EAAAA,KAAA,OAAKE,MAAO,CAAE+F,QAAS,OAAQC,eAAgB,SAAUC,WAAY,UAAWpG,UACpFC,EAAAA,EAAAA,KAACiE,EAAAA,EAAM,CACLC,KAAK,UACL7D,QA9TwBuB,UAEtB,IAAIwE,GAAmB,EAIvB5K,GAAa6K,SAAQzE,UACnB,IAAI+C,EAAQ5G,GAAKH,GAAO+G,OAAO,EACjC,MAAO2B,EAAgBxH,GAAaqC,QAAOC,QAAiBmF,IAATnF,IACnDlH,QAAQC,IAAI,QAAQwK,GAEpBzK,QAAQC,IAAI,YAAYmM,GAEtB,IAAK,IAAI1B,EAAI,EAAGA,EAAI0B,EAAc5B,OAAQE,IAAK,CAC7C1K,QAAQC,IAAI,eAAeyK,GAMrC1K,QAAQC,IAAImM,EAAc1B,GAAG,aAE7B,IAAK,IAAI4B,EAAS,EAAGA,EAASF,EAAc1B,GAAGF,OAAQ8B,IAAU,CAIvD,GAHRtM,QAAQC,IAAI,oBAAoBqM,KAKvBF,EAAc1B,GAAG4B,GAAQC,eAAe,UACxCH,EAAc1B,GAAG4B,GAAQC,eAAe,cACxCH,EAAc1B,GAAG4B,GAAQC,eAAe,YACH,OAAtCH,EAAc1B,GAAG4B,GAAe,OACU,OAA1CF,EAAc1B,GAAG4B,GAAmB,WACI,OAAxCF,EAAc1B,GAAG4B,GAAiB,SAClC,CACAtM,QAAQC,IAAI,gBAGZiM,GAAmB,EACnB9D,EAAAA,GAAQD,MAAM,6BACd,KAEF,CAEAnI,QAAQC,IAAI,kBAEZiM,GAAmB,CAMpB,CAGC,KAKmB,GAApBA,QAjYiBxE,iBAGchG,KAAKC,MAAMjC,GAC3C,IACE,IAAIc,EAAMhB,EAENd,EAAQY,EAEZZ,EAAQA,EAAQ8N,QAAQ,MAAO,IAE/B,IAAI/B,EAAQnJ,GAAakJ,OAEzB,GAAGzK,EACD,IAAK,IAAD0M,EAAAC,EAAAC,EAAAC,EACF,MAAMC,QAAiBhF,IAAAA,IACrB,yCACA,CACE9H,SACAS,QACAf,eACAF,YACAuN,cAAcrC,EACdsC,OAAO,UACPjF,UAAe,OAAJtG,SAAI,IAAJA,IAAU,QAANiL,EAAJjL,GAAMA,YAAI,IAAAiL,OAAN,EAAJA,EAAY3E,UACvBkF,SAAc,OAAJxL,SAAI,IAAJA,IAAU,QAANkL,EAAJlL,GAAMA,YAAI,IAAAkL,OAAN,EAAJA,EAAYvJ,GACtB8J,WAAY,GAAO,OAAJzL,SAAI,IAAJA,IAAU,QAANmL,EAAJnL,GAAMA,YAAI,IAAAmL,OAAN,EAAJA,EAAYO,aAAiB,OAAJ1L,SAAI,IAAJA,IAAU,QAANoL,EAAJpL,GAAMA,YAAI,IAAAoL,OAAN,EAAJA,EAAYO,WACpDzO,UACAD,YAAaW,EACbgO,eAAgBpK,IAElB,CACE+E,QAAS,CACPC,cAAmB,OAAJxG,SAAI,IAAJA,QAAI,EAAJA,GAAMyG,eAI3BoF,EAAAA,EAAaC,QAAQ,CACnBlF,QAAS,uBACTmF,YAAa,GAAGV,EAAShJ,KAAKuE,UAC9BpC,MAAO,CACLE,gBAAiB,UACjBD,MAAO,SAGb,CAAE,MAAOkC,GAAQ,IAADqF,EACd,GAA+B,OAAb,QAAdA,EAAArF,EAAM0E,gBAAQ,IAAAW,OAAA,EAAdA,EAAgBT,QAYlB,OAVAM,EAAAA,EAAalF,MAAM,CACjBC,QAAS,iBACTmF,YAAa,uFACbvH,MAAO,CACLE,gBAAiB,UACjBD,MAAO,eAIXwH,QAAQC,KAAK,cAIbL,EAAAA,EAAaC,QAAQ,CACnBlF,QAAS,uBACTmF,YAAa,GAAGV,SAAShJ,KAAKuE,UAC9BpC,MAAO,CACLE,gBAAiB,UACjBD,MAAO,SAKf,MAGA,IAAK,IAAD0H,EAAAC,EAAAC,EAAAC,EACF,MAAMjB,QAAiBhF,IAAAA,KACrB,yCACA,CACErH,QACAf,eACAF,YACAuN,cAAcrC,EACdsC,OAAO,UACPjF,UAAe,OAAJtG,SAAI,IAAJA,IAAU,QAANmM,EAAJnM,GAAMA,YAAI,IAAAmM,OAAN,EAAJA,EAAY7F,UACvBkF,SAAc,OAAJxL,SAAI,IAAJA,IAAU,QAANoM,EAAJpM,GAAMA,YAAI,IAAAoM,OAAN,EAAJA,EAAYzK,GACtB8J,WAAY,GAAO,OAAJzL,SAAI,IAAJA,IAAU,QAANqM,EAAJrM,GAAMA,YAAI,IAAAqM,OAAN,EAAJA,EAAYX,aAAiB,OAAJ1L,SAAI,IAAJA,IAAU,QAANsM,EAAJtM,GAAMA,YAAI,IAAAsM,OAAN,EAAJA,EAAYX,WACpDzO,UACAD,YAAaW,EACbgO,eAAgBpK,IAElB,CACE+E,QAAS,CACPC,cAAmB,OAAJxG,SAAI,IAAJA,QAAI,EAAJA,GAAMyG,eAM3BoF,EAAAA,EAAaC,QAAQ,CACnBlF,QAAS,uBACTmF,YAAa,GAAGV,EAAShJ,KAAKuE,UAC9BpC,MAAO,CACLE,gBAAiB,UACjBD,MAAO,SAGb,CAAE,MAAOkC,GAAQ,IAAD4F,EACZ,GAA+B,OAAb,QAAdA,EAAA5F,EAAM0E,gBAAQ,IAAAkB,OAAA,EAAdA,EAAgBhB,QAWlB,OATAM,EAAAA,EAAalF,MAAM,CACjBC,QAAS,iBACTmF,YAAa,uFACbvH,MAAO,CACLE,gBAAiB,UACjBD,MAAO,eAGXwH,QAAQC,KAAK,cAGbL,EAAAA,EAAalF,MAAM,CACjBC,QAAS,QACTmF,YAAa,4DACbvH,MAAO,CACLE,gBAAiB,UACjBD,MAAO,SAIf,CAiEF,GA/DF3E,GAAa6K,SAAQzE,UACC7D,GAAKH,GAAO2C,SAAhC,IACIoE,EAAQ5G,GAAKH,GAAO+G,OAAO,EAC/B,MAAMuD,EAAmBxN,EACnByN,EAAWzM,GAAKA,KAAK0M,OACrBC,EAAa3M,GAAKA,KAAK2B,GAE7B,IAAK,IAAIuH,EAAI,EAAGA,EAAID,EAAOC,IACzB,IAAK,IAAD0D,EAAAC,EAAAC,EAAAC,EACEC,EAAW5J,GAAalB,GAAOgH,GAAGlK,MAClCiO,EAAc7J,GAAalB,GAAOgH,GAAGa,UACrCmD,EAAoB9J,GAAalB,GAAOgH,GAAGkB,QAC3CpL,EAAM8D,GAAYZ,GAAOgH,SAIH7C,IAAAA,KACxB,sCACA,CACErH,QACAiO,cACAC,oBACAF,WACA/O,eACAF,YACAuI,UAAe,OAAJtG,SAAI,IAAJA,IAAU,QAAN4M,EAAJ5M,GAAMA,YAAI,IAAA4M,OAAN,EAAJA,EAAYtG,UACvB6G,OAAY,OAAJnN,SAAI,IAAJA,IAAU,QAAN6M,EAAJ7M,GAAMA,YAAI,IAAA6M,OAAN,EAAJA,EAAYlL,GACpByL,SAAU,GAAO,OAAJpN,SAAI,IAAJA,IAAU,QAAN8M,EAAJ9M,GAAMA,YAAI,IAAA8M,OAAN,EAAJA,EAAYpB,aAAiB,OAAJ1L,SAAI,IAAJA,IAAU,QAAN+M,EAAJ/M,GAAMA,YAAI,IAAA+M,OAAN,EAAJA,EAAYpB,WAClD0B,iBAAkBnQ,EAClBsP,qBACAvP,cACA2O,eAAepK,GACf+J,OAAS,cACTkB,aACAE,eACAtO,WACAC,WACAgP,QAxBQ,OA0BV,CACE/G,QAAS,CACPC,cAAmB,OAAJxG,SAAI,IAAJA,QAAI,EAAJA,GAAMyG,eAI3BoF,EAAAA,EAAaC,QAAQ,CACnBlF,QAAS,+BACTpC,MAAO,CACLE,gBAAiB,UACjBD,MAAO,SAIb,CAAE,MAAOkC,GAET,CACF,IAOsB,MAAnBrJ,EAAW2L,MAAkB,CAC9B,IAAIsE,EAAcjQ,EAAW2L,OAAO,EACtC,MAAMuD,EAAmBxN,EACnByN,EAAWzM,GAAKA,KAAK0M,OACrBC,EAAa3M,GAAKA,KAAK2B,GAE7B,IAAK,IAAIuH,EAAI,EAAGA,EAAIqE,EAAarE,IAC/B,IAAK,IAADsE,EAAAC,EAAAC,EAAAC,EACEX,EAAW5J,GAAa,GAAG8F,GAAGlK,MAC9BiO,EAAc7J,GAAa,GAAG8F,GAAGa,UACjCmD,EAAoB9J,GAAa,GAAG8F,GAAGkB,QACvCpL,EAAMgE,GAAkBkG,SAIF7C,IAAAA,KACxB,sCACA,CACErH,QACAiO,cACAC,oBACAF,WACA/O,eACAF,YACAuI,UAAe,OAAJtG,SAAI,IAAJA,IAAU,QAANwN,EAAJxN,GAAMA,YAAI,IAAAwN,OAAN,EAAJA,EAAYlH,UACvB6G,OAAY,OAAJnN,SAAI,IAAJA,IAAU,QAANyN,EAAJzN,GAAMA,YAAI,IAAAyN,OAAN,EAAJA,EAAY9L,GACpByL,SAAU,GAAO,OAAJpN,SAAI,IAAJA,IAAU,QAAN0N,EAAJ1N,GAAMA,YAAI,IAAA0N,OAAN,EAAJA,EAAYhC,aAAiB,OAAJ1L,SAAI,IAAJA,IAAU,QAAN2N,EAAJ3N,GAAMA,YAAI,IAAA2N,OAAN,EAAJA,EAAYhC,WAClD0B,iBAAkBnQ,EAClBsP,qBACAvP,cACA2O,eAAepK,GACf+J,OAAS,cACTkB,aACAE,eACCtO,WACAC,WACAgP,QAxBO,OA0BV,CACE/G,QAAS,CACPC,cAAmB,OAAJxG,SAAI,IAAJA,QAAI,EAAJA,GAAMyG,eAI3BoF,EAAAA,EAAaC,QAAQ,CACnBlF,QAAS,+BACTpC,MAAO,CACLE,gBAAiB,UACjBD,MAAO,SAIb,CAAE,MAAOkC,GAET,CAGF,CAEF,GAA4B,IAAxB7G,GAAakJ,OAEf,YADApC,EAAAA,GAAQD,MAAM,kCAGlB,CAAE,MAAOA,GACPnI,QAAQmI,MAAM,oBAAqBA,EACrC,GA+HMiH,GAQN5H,IAAqB,EA4PvBiE,SACqB,GAArB7G,GAAa4F,OAEbxE,MAAO,CAAC,EAAEH,SACX,eAOCJ,EAAAA,EAAAA,MAAC+C,EAAAA,EAAK,CACJhI,MAAM,cACNiI,MAAO,IACPC,UAAQ,EACRC,QAAS/H,EACTgI,SAAU9B,GACV+B,OAAQ,KACRC,WAAWhD,EAAAA,EAAAA,KAACiD,EAAAA,IAAW,CAACC,UAAU,kCAAkCrD,KAAM,KAAOE,SAAA,EAE3EC,EAAAA,EAAAA,KAACiE,EAAAA,EAAM,CACPpE,KAAK,UACLqE,KAAK,UACL7D,QAASA,KAnWfW,UACAhD,GAAQE,KAoWFgC,MAAO,CAAEmE,OAAQ,OAAQtE,SAC1B,kBAGJ/E,EAEC2B,GAAkBG,KAAIC,IACpBiD,EAAAA,EAAAA,KAACiE,EAAAA,EAAM,CAELjJ,SAAO,EACP6E,KAAK,UACLK,MAAO,CAAEmE,OAAQ,OAAQtE,SAExBhD,EAAOE,OALHF,EAAOE,SAShB/B,GAAa4B,KAAI2G,IACfzD,EAAAA,EAAAA,KAACiE,EAAAA,EAAM,CAELpE,KAAK,UACLK,MAAO,CAAEmE,OAAQ,OACjBhE,QAASA,IA/acoD,KAE7BpI,GAAsBoI,GACtBzC,KACAC,GAAWwC,EAAK,EA2aK8F,CAAsB9F,GACrCS,KAAM9I,KAAuBqI,EAAO,UAAY,UAAU1D,SAEzD0D,GANIA,SAYb9D,EAAAA,EAAAA,MAAA,OAAAI,SAAA,EACIC,EAAAA,EAAAA,KAAA,OAAKE,MAAO,CAAEsJ,UAAW,SAAUC,UAAW,IAAK1J,UACnDC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,gCAENC,EAAAA,EAAAA,KAAA,OAAKE,MAAO,CAAEwJ,aAAc,OAAQxD,eAAe,iBAAiBnG,UAClEC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,qBAGNC,EAAAA,EAAAA,KAAC2J,EAAAA,EAAK,CACJ3K,QAASA,GACT4K,WAAY7L,GAAKjB,KAAI,CAACsE,EAAMxD,KAAK,IAAWwD,EAAMlC,IAAKtB,MAKvDiM,aAAc,CACZC,gBAAiBtO,GACjBsI,SAASA,CAACtI,EAAasO,IA5vBlBC,EAACvO,EAAasO,KAEzB,MAEME,EAFyBF,EAAgBhN,KAAI0E,IAAG,IAAUA,EAAK1D,SAAS,MAEvChB,KAAI0E,GAAOA,EAAI5D,QAEtDnC,GAAgBuO,EAAQ,EAsvBwBD,CAAOvO,EAAasO,IAGhEG,UAAQ,EACRpK,KAAK,SACPnF,MAAOA,IAAM,2BACbqI,OAAQA,IAAM,sBAChBmH,WAAY,CACVC,kBAAoBlQ,IAAW+F,EAAAA,EAAAA,KAAA,KAAGE,MAAO,CAAEmE,OAAQ,GAAItE,SAAE9F,EAAOsG,WAChE6J,cAAgBnQ,GAAqC,mBAA1BA,EAAOuF,mBAGlCG,EAAAA,EAAAA,MAACC,EAAAA,EAAK,CAAAG,SAAA,EACNC,EAAAA,EAAAA,KAACiE,EAAAA,EAAM,CACLC,KAAK,UACL7D,QAlSoBgK,KACtBvR,GAAsB,EAAK,EAiSAiH,SAC1B,gBAGDC,EAAAA,EAAAA,KAACiE,EAAAA,EAAM,CACHC,KAAK,UACL7D,QAr3BoBiK,KAIxB/P,GAAwB,GACxB,MAAM4J,EAAc,IAAIpG,IAExB,IAAIwM,EAAW,GACXC,EAAiB,GAInB,MAAM7F,EAAQ3L,EAAW2L,MAGzB,IAAK,IAAIC,EAAI,EAAGA,EAAID,EAAOC,IAAK,CAC9B,IAAIR,EAAcpL,EAAWuH,SAASmG,QAAQ,OAAQ9B,EAAI,GAAG6F,WAAWC,SAAS,EAAG,MAAMhE,QAAQ,OAAOpN,GAGpGkR,EAAe5F,KAClB4F,EAAe5F,GAAK,CAAC,GAEvB4F,EAAe5F,GAAKR,CACtB,CAGF5I,GAAa6K,SAAQ,CAACzI,EAAO+M,KAC3B,MAAMhG,EAAQvG,GAAeL,GAAKH,GAAO2C,WAAa,EAEtD,IAAK,IAAIqE,EAAI,EAAGA,EAAID,EAAOC,IAAK,CAC9B,IAAIR,EAAcrG,GAAKH,GAAO2C,SAASmG,QAAQ,OAAQ9B,EAAI,GAAG6F,WAAWC,SAAS,EAAG,MAAMhE,QAAQ,OAAOpN,GAGrGiR,EAAS3M,KACZ2M,EAAS3M,GAAS,CAAC,GAErB2M,EAAS3M,GAAOgH,GAAKR,EAErBD,EAAYvG,GAAS,IAChBG,GAAKH,GACR+G,MAAOvG,GAAeL,GAAKH,GAAO2C,UAItC,KAKF5B,GAAqB6L,GACrB/L,GAAe8L,GAGfvM,GAAQmG,EAAY,EAi0BhBpE,SACD,gBAKHC,EAAAA,EAAAA,KAAC0C,EAAAA,EAAK,CACJhI,MAAM,mBACNiI,MAAO,IACPC,UAAQ,EACRC,QAAShK,EACTiK,SAAUN,GACVO,OAAQ,EACN/C,EAAAA,EAAAA,KAACiE,EAAAA,EAAM,CAAc5D,QAASmC,GAAkBzC,SAAC,UAArC,WAGZC,EAAAA,EAAAA,KAACiE,EAAAA,EAAM,CAAWC,KAAK,UAAU7D,QA5RfuK,KAEtB,MAAMvJ,EAAW3E,GAAyBmO,MAAKC,GAAQA,EAAK9N,OAASd,KAC/DqE,EAAW,WAAWrE,MAAcI,SACpCtD,EAAa,CACjB2L,MAAMnI,IAAiB,GACvBgD,eAAgBtD,IAAc,GAC9BI,oBAAqBA,IAAuB,GAC5CyO,cAAe3O,IAAgB,GAC/B4O,SAAS,KACT3J,SAASA,EAASpE,MAClB0N,eAAe,MACfpK,SAASA,GAIXtH,EAAcD,GAMdF,GAAsB,EAAM,EAsQkCiH,SAAC,OAA/C,QAIdiD,WAAWhD,EAAAA,EAAAA,KAACiD,EAAAA,IAAW,CAACC,UAAU,kCAAkCrD,KAAM,KAAOE,UAGjFJ,EAAAA,EAAAA,MAAC4D,EAAAA,EAAI,CAACC,OAAO,WAAWC,KAAK,aAAY1D,SAAA,EAoBnCC,EAAAA,EAAAA,KAACuD,EAAAA,EAAKG,KAAI,CACRzG,MAAM,aACNwG,KAAK,aACLE,MAAO,CACL,CACEC,UAAU,EACVtB,QAAS,+BAEXvC,UAEJC,EAAAA,EAAAA,KAACiL,EAAAA,EAAM,CACHC,QAASxO,GACTM,MAAOd,GACP4H,SAAW9G,GAAUb,GAAca,QAIrCgD,EAAAA,EAAAA,KAACuD,EAAAA,EAAKG,KAAI,CAACzG,MAAM,WAAWwG,KAAK,WAAWE,MAAO,CACjD,CACEC,UAAU,EACVtB,QAAS,wBAEXvC,UACNC,EAAAA,EAAAA,KAAC6D,EAAAA,EAAK,CACJ7G,MAAOZ,GACP0H,SAAWC,GAAM1H,GAAgB0H,EAAEC,OAAOhH,YAI9CgD,EAAAA,EAAAA,KAACuD,EAAAA,EAAKG,KAAI,CAACzG,MAAM,wBAAwBwG,KAAK,sBAAsBE,MAAO,CACnE,CACEC,UAAU,EACVtB,QAAS,qCAEXvC,UACNC,EAAAA,EAAAA,KAAC6D,EAAAA,EAAK,CACJ7G,MAAOV,GACPwH,SAAWC,GAAMxH,GAAuBwH,EAAEC,OAAOhH,YAIrDgD,EAAAA,EAAAA,KAACuD,EAAAA,EAAKG,KAAI,CAACzG,MAAM,sBAAsBwG,KAAK,gBAAgBE,MAAO,CAC3D,CACEC,UAAU,EACVtB,QAAS,mCAEXvC,UACNC,EAAAA,EAAAA,KAAC6D,EAAAA,EAAK,CACJ7G,MAAOR,GACPsH,SAAWC,GAAMtH,GAAmBsH,EAAEC,OAAOhH,qBASpD,C,oIC79FQ,SAAS0G,EAAKjL,GAC3B,IAAIyK,EAAYzK,EAAKyK,UACjBiI,EAAY1S,EAAK0S,UACjBvN,EAAQnF,EAAKmF,MACbwN,EAAkB3S,EAAK2S,gBACvBrL,EAAWtH,EAAKsH,SAChB5C,EAAQ1E,EAAK0E,MACbkO,EAAO5S,EAAK4S,KAEZC,EAAoB/G,EAAAA,WAAiBgH,GACrCC,EAAiBF,EAAkBE,eACnCC,EAAeH,EAAkBG,aACjCC,EAAcJ,EAAkBI,YAGhCxL,EAAQ,CAAC,EAgBb,OAlBqBoL,EAAkBK,iBAKnB,aAAdR,EACEvN,EAAQ8N,IACVxL,EAAQ,CACNwJ,aAAc8B,GAAkBrO,EAAQ,EAAI,KAIhD+C,GAAQ0L,EAAAA,EAAAA,IAASA,EAAAA,EAAAA,GAAS,CAAC,EAAGhO,EAAQ8N,IAAeG,EAAAA,EAAAA,GAAgB,CAAC,EAAGT,EAAiBI,GAAkBrO,EAAQ,EAAI,KAAMkO,GAAQ,CACpIS,cAAeL,KAKJ,OAAb1L,QAAkCwG,IAAbxG,EAChB,KAGWwE,EAAAA,cAAoBA,EAAAA,SAAgB,KAAmBA,EAAAA,cAAoB,MAAO,CACpGrB,UAAWA,EACXhD,MAAOA,GACNH,GAAWnC,EAAQ8N,GAAevO,GAAsBoH,EAAAA,cAAoB,OAAQ,CACrFrB,UAAW,GAAG6I,OAAO7I,EAAW,UAChChD,MAAOA,GACN/C,GACL,C,eC1CI6O,EAAgC,SAAUC,EAAGlI,GAC/C,IAAImI,EAAI,CAAC,EAET,IAAK,IAAIC,KAAKF,EACRzO,OAAO4O,UAAU3F,eAAe4F,KAAKJ,EAAGE,IAAMpI,EAAEuI,QAAQH,GAAK,IAAGD,EAAEC,GAAKF,EAAEE,IAG/E,GAAS,MAALF,GAAqD,oBAAjCzO,OAAO+O,sBAA2C,KAAI3H,EAAI,EAAb,IAAgBuH,EAAI3O,OAAO+O,sBAAsBN,GAAIrH,EAAIuH,EAAEzH,OAAQE,IAClIb,EAAEuI,QAAQH,EAAEvH,IAAM,GAAKpH,OAAO4O,UAAUI,qBAAqBH,KAAKJ,EAAGE,EAAEvH,MAAKsH,EAAEC,EAAEvH,IAAMqH,EAAEE,EAAEvH,IADuB,CAGvH,OAAOsH,CACT,EAQWX,EAA4BhH,EAAAA,cAAoB,CACzDmH,YAAa,EACbF,eAAgB,EAChBC,aAAc,EACdE,gBAAgB,IAEdc,EAAY,CACdC,MAAO,EACPC,OAAQ,GACRC,MAAO,IAwGT,QAjGY,SAAeC,GACzB,IAAIC,EAEAxB,EAAoB/G,EAAAA,WAAiBwI,EAAAA,IACrCC,EAAe1B,EAAkB0B,aACjCC,EAAQ3B,EAAkB2B,MAC1BC,EAAkB5B,EAAkBH,UAEpCgC,EAAcN,EAAMhN,KACpBA,OAAuB,IAAhBsN,GAAoC,OAAVF,QAA4B,IAAVA,OAAmB,EAASA,EAAMpN,OAAS,QAAUsN,EACxGrN,EAAQ+M,EAAM/M,MACdoD,EAAY2J,EAAM3J,UAClBnD,EAAW8M,EAAM9M,SACjBqN,EAAmBP,EAAM1B,UACzBA,OAAiC,IAArBiC,EAA8B,aAAeA,EACzDC,EAAqBR,EAAMS,UAC3BnQ,EAAQ0P,EAAM1P,MACd+C,EAAQ2M,EAAM3M,MACdqN,EAAcV,EAAMxB,KACpBA,OAAuB,IAAhBkC,GAAiCA,EACxCC,EAAaxB,EAAOa,EAAO,CAAC,OAAQ,QAAS,YAAa,WAAY,YAAa,YAAa,QAAS,QAAS,SAElHlB,GAAiB8B,EAAAA,EAAAA,KAEjBC,EAAiBnJ,EAAAA,SAAc,WACjC,OAAQC,MAAMmJ,QAAQ9N,GAAQA,EAAO,CAACA,EAAMA,IAAO/C,KAAI,SAAUsE,GAC/D,OA9BN,SAAuBvB,GACrB,MAAuB,kBAATA,EAAoB4M,EAAU5M,GAAQA,GAAQ,CAC9D,CA4Ba+N,CAAcxM,EACvB,GACF,GAAG,CAACvB,IACAgO,GAAkBC,EAAAA,EAAAA,GAAeJ,EAAgB,GACjDlC,EAAiBqC,EAAgB,GACjCpC,EAAeoC,EAAgB,GAE/BE,GAAaC,EAAAA,EAAAA,GAAQjO,EAAU,CACjCkO,WAAW,IAETC,OAAwB3H,IAAVzG,GAAqC,eAAdqL,EAA6B,SAAWrL,EAC7EwN,EAAYN,EAAa,QAASK,GAClCc,EAAKC,IAAWd,EAAW,GAAGvB,OAAOuB,EAAW,KAAKvB,OAAOZ,IAAa2B,EAAc,CAAC,GAAGjB,EAAAA,EAAAA,GAAgBiB,EAAa,GAAGf,OAAOuB,EAAW,QAA6B,QAApBJ,IAA4BrB,EAAAA,EAAAA,GAAgBiB,EAAa,GAAGf,OAAOuB,EAAW,WAAWvB,OAAOmC,GAAcA,GAAcpB,GAAc5J,GAChSmL,EAAgB,GAAGtC,OAAOuB,EAAW,SACrClC,EAAsC,QAApB8B,EAA4B,aAAe,cAE7DxB,EAAc,EACd4C,EAAQP,EAAWjR,KAAI,SAAUyR,EAAO3J,GAO1C,OANc,OAAV2J,QAA4BhI,IAAVgI,IACpB7C,EAAc9G,GAKIL,EAAAA,cAAoBb,EAAM,CAC5CR,UAAWmL,EACXnP,IAAK,GAAG6M,OAAOsC,EAAe,KAAKtC,OAAOnH,GAC1CuG,UAAWA,EACXvN,MAAOgH,EACPwG,gBAAiBA,EACjBjO,MAAOA,EACPkO,KAAMA,GACLkD,EAEL,IACIC,EAAejK,EAAAA,SAAc,WAC/B,MAAO,CACLiH,eAAgBA,EAChBC,aAAcA,EACdC,YAAaA,EACbC,eAAgBA,EAEpB,GAAG,CAACH,EAAgBC,EAAcC,EAAaC,IAE/C,GAA0B,IAAtBoC,EAAWrJ,OACb,OAAO,KAGT,IAAI+J,EAAW,CAAC,EAehB,OAbIpD,IACFoD,EAASC,SAAW,OAEf/C,IACH8C,EAAS/E,cAAgB+B,IAIzBE,IACF8C,EAASE,UAAYnD,EACrBiD,EAASG,OAASnD,GAGAlH,EAAAA,cAAoB,OAAOqH,EAAAA,EAAAA,GAAS,CACtD1I,UAAWiL,EACXjO,OAAO0L,EAAAA,EAAAA,IAASA,EAAAA,EAAAA,GAAS,CAAC,EAAG6C,GAAWvO,IACvCsN,GAA0BjJ,EAAAA,cAAoBgH,EAAasD,SAAU,CACtE7R,MAAOwR,GACNF,GACL,C","sources":["view/pages/initialMDR/index.jsx","../node_modules/antd/es/space/Item.js","../node_modules/antd/es/space/index.js"],"sourcesContent":["// import React, { useEffect, useState } from 'react';\r\n// import { notification, Row,  Col,  Divider,Checkbox,  Form,  Space,  Table,  Select,  Tag,  Input,  DatePicker,  TimePicker,  Button,  Modal,  message,} from 'antd';\r\n// import { RiCloseFill, RiCalendarLine } from \"react-icons/ri\";\r\n// import axios from 'axios'\r\n// import { useLocation } from 'react-router-dom';\r\n// import jsondata from './data.json';\r\n// import { saveData, loadData, getAllKeys } from '../../storage';\r\n// \r\n\r\n//   const MdrTemplate = ({ projectCode, mdrCode }) => {\r\n//     const [customModalVisible, setCustomModalVisible] = useState(false);\r\n//     const { search } = useLocation();\r\n//     const params = new URLSearchParams(search);\r\n//     const ProjectCode = params.get('projectCode');\r\n//     const getMdrCode = params.get('mdrCode');\r\n//     const projectId = params.get('projectId');\r\n//     const getMdrTitle= params.get('title');\r\n//     const departmentId = params.get('departmentId');\r\n\r\n//     let departmentOptionsString = params.get('departmentOptions');\r\n//     let departmentOptionSuffix = params.get('departmentOption');\r\n\r\n//     const projectOptions = params.get('projectOptions');\r\n//     const approver = params.get('approver');\r\n//     const reviewer = params.get('reviewer');\r\n//     const record = params.get('record');\r\n\r\n//     console.log(\"data from mdr to mdrtemplates\",ProjectCode,getMdrCode,projectId,getMdrTitle,departmentId,\r\n//     departmentOptionSuffix,departmentOptionsString,projectOptions,approver,reviewer,record);\r\n\r\n//     const [customFieldValues, setCustomFieldValues] = useState({});\r\n//     const [templateModalVisible,setTemplateModalVisible] = useState(false)\r\n//     const [selectedFieldVisible,setSelectedFieldVisible]  = useState(false)\r\n//     const [title,setTitle] = useState('')\r\n//     const [selectedRowData, setSelectedRowData] = useState(null);\r\n//     const [departmentWise, setDepartmentWise] = useState(false);\r\n//     const [loading, setLoading] = useState(true);\r\n//     const [displayNames, setDisplayNames] = useState([]);\r\n//     const [selectedDepartment, setSelectedDepartment] = useState(null);\r\n//     const [codes,setCodes] = useState([])\r\n//     const [selectedRows, setSelectedRows] = useState([]);\r\n//     const [user, setUser] = useState(JSON.parse(localStorage?.getItem(\"user\")));\r\n//     const [code,setCode] = useState()\r\n\r\n\r\n//     const departmentOptionSuffixes = JSON.parse(departmentOptionSuffix);\r\n//     // \r\n//     const departmentOptions = JSON.parse(departmentOptionsString);\r\n//     // \r\n//     const departmentOptionsMap = new Map(departmentOptions.map(option => [option.value, option.label]));\r\n//     // \r\n//     const departmentIds = departmentId.split(',').map(Number);\r\n//     const departmentLabels = departmentIds.map(id => departmentOptionsMap.get(id));\r\n//     // \r\n//     const departmentLabelsString = departmentLabels.join(', ');\r\n//     // \r\n\r\n//     const dataArrayWithIndexes = Object.entries(jsondata).map(([index, value]) => ({  ...value, index: parseInt(index), checked: false }));\r\n    \r\n\r\n//     const [data, setData] = useState(Object.values(dataArrayWithIndexes));\r\n//     const [dataArray,setDataArray] = useState(Object.values(dataArrayWithIndexes))\r\n//     let changing = data\r\n//     let changing2 = dataArray\r\n\r\n    \r\n    \r\n\r\n//     const [documentCounts, setDocumentCounts] = useState({});\r\n//     const [documentTitles, setDocumentTitles] = useState({});\r\n//     const [information,setInformation] = useState([])\r\n//     const [titles,setValues] = useState([])\r\n\r\n//     const [documentInfo, setDocumentInfo] = useState([]);\r\n    \r\n//     const columns = [\r\n//       {\r\n//         title: 'Sr.#',\r\n//         dataIndex: 'code', // Assuming 'code' is the appropriate field for 'Sr.#'\r\n//         key: 'code',\r\n//       },\r\n//       {\r\n//         title: 'Document',\r\n//         dataIndex: 'documentTitle',\r\n//         key: 'documentTitle',\r\n//       },\r\n//       {\r\n//         title: 'Department Code',\r\n//         dataIndex: 'departmentCode',\r\n//         key: 'departmentCode',\r\n//         filters: [\r\n//           {\r\n//             text: 'Project Management',\r\n//             value: 'PM',\r\n//           },\r\n//           {\r\n//             text: 'Process',\r\n//             value: 'PRO',\r\n//           },\r\n//           {\r\n//             text: 'Piping',\r\n//             value: 'PIP',\r\n//           },\r\n//           {\r\n//             text: 'Mechanical',\r\n//             value: 'TK',\r\n//           },\r\n//           {\r\n//             text: 'Civil/Structure',\r\n//             value: 'CIV',\r\n//           },\r\n//           {\r\n//             text: 'Electrical',\r\n//             value: 'ELE',\r\n//           },\r\n//           {\r\n//             text: 'Instrumentation',\r\n//             value: 'INS',\r\n//           },\r\n//         ],\r\n//         filterMode: 'tree',\r\n//         filterSearch: true,\r\n//         onFilter:  (value, record) => record.departmentCode === value,\r\n//       },\r\n//       {\r\n//         title: 'Document Content Code',\r\n//         dataIndex: 'documentContentCode',\r\n//         key: 'documentContentCode',\r\n//       },\r\n//       {\r\n//         title: 'DOCUMENT NUMBER',\r\n//         dataIndex: 'document', // Use 'documentNumber' as the dataIndex\r\n//         key: 'document',\r\n//       },\r\n//       {\r\n//         title: \"No Of Documents\",\r\n//         key: \"noOfDocuments\",\r\n//         render: (_, record) => (\r\n//           <Space size=\"middle\" align=\"center\">\r\n//             <Button onClick={() => handleCount(record)}>Add </Button>\r\n//             <Tag style={{ color: \"white\", backgroundColor: \"blue\" }}>{documentCounts[record.document] || 1}</Tag>\r\n//           </Space>\r\n//         ),\r\n//       },\r\n//     ];\r\n//     useEffect(() => {\r\n//       const timeout = setTimeout(() => {\r\n//         setDisplayNames(departmentOptions.map(option => option.label));\r\n//         setLoading(false);\r\n//       }, 1000);\r\n  \r\n//       return () => clearTimeout(timeout);\r\n//     }, [])\r\n\r\n//     const handleCount = (record) => {\r\n//       setDocumentCounts(prevCounts => {\r\n//         const updatedCounts = { ...prevCounts };\r\n//         const currentCount = updatedCounts[record.document] || 1;\r\n//         updatedCounts[record.document] = currentCount + 1;\r\n//         // \r\n//         return updatedCounts;\r\n//       });\r\n//     };\r\n\r\n//     const templateModalShow = () => {\r\n//       setTemplateModalVisible(true);  \r\n//       const updatedData = [...data];\r\n//       // \r\n//       let allInfos = [];\r\n//       selectedRows.forEach((index, sequenceNumber) => {\r\n//         const count = documentCounts[data[index].document] || 1;\r\n//         //         \r\n//         for (let i = 0; i < count; i++) {\r\n//           let newDocument = data[index].document.replace('00X', (i + 1).toString().padStart(3, '0')).replace(\"xxxx\",ProjectCode)\r\n//           // \r\n//           // Save the document name in allInfos array\r\n//           if (!allInfos[index]) {\r\n//             allInfos[index] = {};\r\n//           }\r\n//           allInfos[index][i] = newDocument;\r\n      \r\n//           updatedData[index] = {\r\n//             ...data[index],\r\n//             count: documentCounts[data[index].document]\r\n//           };\r\n//         // \r\n          \r\n//         }\r\n      \r\n//       });\r\n//       \r\n//       setInformation(allInfos)\r\n//       // \r\n//       // \r\n//       setData(updatedData);\r\n      \r\n//     };\r\n\r\n//   const handleChangingTitle = (title, document, index, i) => {\r\n//     setDocumentInfo((prevDocumentInfo) => {\r\n//       const newDocumentInfo = [...prevDocumentInfo];\r\n//       newDocumentInfo[index] = newDocumentInfo[index] || [];\r\n//       newDocumentInfo[index][i] = {\r\n//         ...newDocumentInfo[index][i],\r\n//         title,\r\n//       };\r\n//       // \r\n\r\n//       return newDocumentInfo;\r\n//     });\r\n//   };\r\n  \r\n//   const handleStartDateChange = (date, document, index, i) => {\r\n//     setDocumentInfo((prevDocumentInfo) => {\r\n//       const newDocumentInfo = [...prevDocumentInfo];\r\n//       newDocumentInfo[index] = newDocumentInfo[index] || [];\r\n//       newDocumentInfo[index][i] = {\r\n//         ...newDocumentInfo[index][i],\r\n//         startDate: date ? date.toDate() : null,\r\n//       };\r\n//       return newDocumentInfo;\r\n//     });\r\n//   };\r\n  \r\n//   const handleEndDateChange = (date, document, index, i) => {\r\n//     setDocumentInfo((prevDocumentInfo) => {\r\n//       const newDocumentInfo = [...prevDocumentInfo];\r\n//       newDocumentInfo[index] = newDocumentInfo[index] || [];\r\n//       newDocumentInfo[index][i] = {\r\n//         ...newDocumentInfo[index][i],\r\n//         endDate: date ? date.toDate() : null,\r\n//       };\r\n//       return newDocumentInfo;\r\n//     });\r\n//   };\r\n//   const onChange = (pagination, filters, sorter, extra) => {\r\n//     \r\n//   };\r\n  \r\n//   const change=(selectedRows,selectedRowKeys)=>{\r\n//     // \r\n//     const updatedSelectedRowKeys = selectedRowKeys.map(row => ({ ...row, checked: true }));\r\n//     \r\n//     const indexes = updatedSelectedRowKeys.map(row => row.index);\r\n//     // \r\n//     setSelectedRows(indexes)\r\n//   }\r\n  \r\n//   const handleCheckboxChange = (isCheckedValue, document, index, i) => {\r\n//     setDocumentInfo((prevDocumentInfo) => {\r\n//       const newDocumentInfo = [...prevDocumentInfo];\r\n//       newDocumentInfo[index] = newDocumentInfo[index] || [];\r\n  \r\n//       // If checkbox is unchecked, restore previous startDate and endDate values\r\n//       if (!isCheckedValue) {\r\n//         newDocumentInfo[index][i] = {\r\n//           title: newDocumentInfo[index]?.[i]?.title || '',\r\n//           isChecked: false,\r\n//           startDate: newDocumentInfo[index]?.[i]?.prevStartDate || '',\r\n//           endDate: newDocumentInfo[index]?.[i]?.prevEndDate || '',\r\n//           prevStartDate: undefined,\r\n//           prevEndDate: undefined,\r\n//         };\r\n//       } else {\r\n//         newDocumentInfo[index][i] = {\r\n//           title: newDocumentInfo[index]?.[i]?.title || '',\r\n//           isChecked: true,\r\n//           prevStartDate: newDocumentInfo[index]?.[i]?.startDate,\r\n//           prevEndDate: newDocumentInfo[index]?.[i]?.endDate,\r\n//         };\r\n//       }\r\n  \r\n//       return newDocumentInfo;\r\n//     });  \r\n//   };\r\n  \r\n  \r\n//     const departmentWiseShow = () => {\r\n//       setDepartmentWise(true);\r\n//     };\r\n  \r\n//     const departmentWiseCancel = () => {\r\n//       setDepartmentWise(false);\r\n//     };\r\n//     const addDocument = async () => {\r\n      \r\n//       const departmentOptions = await JSON.parse(departmentOptionsString);\r\n//       try {\r\n//         var title=getMdrTitle;\r\n//         // \r\n//         var mdrCode=getMdrCode;\r\n//         // \r\n//         mdrCode=mdrCode.replace(/\\s/g, '');\r\n//         // \r\n//         var count = selectedRows.length\r\n//         // \r\n//         selectedRows.forEach(async (index) => {\r\n\r\n//           let documentValue = data[index].document;\r\n//           let count = data[index].count||1\r\n//           // \r\n//           const masterDocumentName=title;\r\n//           const assignedBy=user.user.roleId;\r\n//           const assignedFrom=user.user.id;\r\n//           \r\n//           for (let i = 0; i < count; i++) {\r\n//             try {\r\n//               var docTitle = documentInfo[index][i].title;\r\n//               var startedDate = documentInfo[index][i].startDate\r\n//               var expectedEndedDate = documentInfo[index][i].endDate\r\n//               var title=information[index][i];\r\n//               var version='000';\r\n\r\n//               \r\n//               const responseDoc = await axios.post(\r\n//                 \"https://novacon.live/api/documents/\",\r\n//                 {\r\n//                   title,\r\n//                   startedDate,\r\n//                   expectedEndedDate,\r\n//                   docTitle,\r\n//                   departmentId,\r\n//                   projectId,\r\n//                   companyId: user?.user?.companyId,\r\n//                   userId: user?.user?.id,\r\n//                   userName: `${user?.user?.firstName} ${user?.user?.lastName}`,\r\n//                   masterDocumentId: mdrCode,\r\n//                   masterDocumentName,\r\n//                   projectCode,\r\n//                   departmentName:departmentLabelsString,\r\n//                   status : \"Initialized\",\r\n//                   assignedBy,\r\n//                   assignedFrom,\r\n//                    approver,\r\n//                    reviewer,\r\n//                    version\r\n//                 },\r\n//                 {\r\n//                   headers: {\r\n//                     Authorization: user?.accessToken,\r\n//                   },\r\n//                 }\r\n//               );\r\n//             } catch (error) {\r\n//               \r\n//             }  \r\n//           }\r\n          \r\n//         });\r\n\r\n//         if(record){\r\n          \r\n//           const response = await axios.put(\r\n//             \"https://novacon.live/api/documents/mdr\",\r\n//             {\r\n//               record,\r\n//               title,\r\n//               departmentId,\r\n//               projectId,\r\n//               noOfDocuments:count,\r\n//               status:\"Ongoing\",\r\n//               companyId: user?.user?.companyId,\r\n//               authorId: user?.user?.id,\r\n//               authorName: `${user?.user?.firstName} ${user?.user?.lastName}`,\r\n//               mdrCode,\r\n//               projectCode: ProjectCode,\r\n//               departmentName: departmentLabelsString,\r\n//             },\r\n//             {\r\n//               headers: {\r\n//                 Authorization: user?.accessToken,\r\n//               },\r\n//             }\r\n//           );     \r\n//         }else{\r\n\r\n//           \r\n//           const response = await axios.post(\r\n//             \"https://novacon.live/api/documents/mdr\",\r\n//             {\r\n//               title,\r\n//               departmentId,\r\n//               projectId,\r\n//               noOfDocuments:count,\r\n//               status:\"Ongoing\",\r\n//               companyId: user?.user?.companyId,\r\n//               authorId: user?.user?.id,\r\n//               authorName: `${user?.user?.firstName} ${user?.user?.lastName}`,\r\n//               mdrCode,\r\n//               projectCode: ProjectCode,\r\n//               departmentName: departmentLabelsString,\r\n//             },\r\n//             {\r\n//               headers: {\r\n//                 Authorization: user?.accessToken,\r\n//               },\r\n//             }\r\n            \r\n//           );\r\n//         }\r\n//         notification.success({\r\n//                 message: `${response?.data?.message}`,\r\n//                 style: {\r\n//                   backgroundColor: '#52c41a', // Red color background\r\n//                   color: '#fff', // White text color\r\n//                 },\r\n//               }\r\n//             )\r\n//             if (selectedRows.length === 0) {\r\n//           message.error('Please select at least one row.');\r\n//           return;\r\n//         }\r\n//       } catch (error) {\r\n//         // Handle errors\r\n//         console.error(\"Error adding MDR:\", error);\r\n//       }\r\n//     };\r\n\r\n//     const handleDepartmentClick = (name) => {\r\n//       \r\n//       setSelectedDepartment(name);\r\n//       departmentWiseCancel();\r\n//       filterData(name);\r\n//     };\r\n\r\n//     // const filterData = (selectedDepartment) => {\r\n\r\n//     //   const filteredData = [];\r\n//     //   for (const data of dataArray) {\r\n//     //     if (String(data.category).toUpperCase() === String(selectedDepartment).toUpperCase()) {\r\n//     //       filteredData.push(data);\r\n//     //     }\r\n//     //   }\r\n//     //   \r\n//     //   setData(filteredData);\r\n//     // };\r\n  \r\n//     const filterData = (selectedDepartment) => {\r\n//       \r\n//       \r\n//       const filteredIndexes = dataArray\r\n//       .filter(item => item.category.toUpperCase() === selectedDepartment.toUpperCase())\r\n    \r\n//       const filteredRowKeys = dataArray\r\n//       .filter((row, index) => selectedRows.includes(index) && row.checked)\r\n//       .map(row => row.index);\r\n//       \r\n//     // Call setSelectedRows to update the selected rows\r\n//       setSelectedRows(filteredRowKeys);\r\n  \r\n//       \r\n//         // const filteredDataWithIndexes = filteredIndexes.map(index => dataArrayWithIndexes[index]);\r\n//       // const filteredDataValues = filteredDataWithIndexes.map(({ value }) => value);\r\n      \r\n//       // \r\n//       setData(filteredIndexes);\r\n//       // setFilteredValues(filteredDataWithIndexes); // Assuming you have a state variable for storing filtered values\r\n//     };\r\n    \r\n\r\n//     // const filterData = (selectedDepartment) => {\r\n//     //   const filteredIndexes = dataArrayWithIndexes\r\n//     //     .filter(({ value }) => String(value.category).toUpperCase() === String(selectedDepartment).toUpperCase())\r\n//     //     .map(({ index }) => index);\r\n    \r\n      \r\n//     //   setData(filteredDataValues);\r\n//     // };\r\n\r\n//     const handleClick = () => {\r\n//       departmentWiseCancel();\r\n//       setData(dataArray)\r\n//     };\r\n    \r\n//     const mydocumentSaved = async() => {\r\n      \r\n//       \r\n//       await addDocument();\r\n//       notification.success({\r\n//         message: `Documents Successfully Added`,\r\n//         style: {\r\n//           backgroundColor: '#52c41a', // Red color background\r\n//           color: '#fff', // White text color\r\n//         },\r\n//       }\r\n//     )      // selectedRows.forEach((index) => {\r\n//       //   const savedData = loadData(`doc-${index}`);\r\n//       //   \r\n//       // });\r\n    \r\n//       templateModalCancel();\r\n\r\n//     };\r\n    \r\n//     const templateModalCancel = () => {\r\n//       setTemplateModalVisible(false);\r\n      \r\n//     };\r\n\r\n//     const selectedModalShow = () => {\r\n//       setSelectedFieldVisible(true);\r\n//     };\r\n  \r\n//     const selectedModalCancel = () => {\r\n//       setSelectedFieldVisible(false);\r\n//     };\r\n\r\n//     const handleUpdate = (record) => {\r\n//       setSelectedRowData(record);\r\n//       selectedModalShow();\r\n//     };\r\n    \r\n//     const getAllCodes = async () => {\r\n//       \r\n\r\n//       try {\r\n//         const response = await axios.get(\r\n//           `https://novacon.live/api/documents/getCodes?companyId=${user?.user?.companyId}`,\r\n//           {\r\n//             headers: {\r\n//               Authorization: user?.accessToken,\r\n//             },\r\n//           }\r\n//         );\r\n//         var newResponse=response.data.documentNumberFormat.split('-');\r\n//         setCodes(ProjectCode+'-'+newResponse[1]+'-'+newResponse[2]+'-'+getMdrCode+'-'+'00X')        \r\n\r\n//       } catch (error) {\r\n//         console.error(\"Error fetching projects:\", error?.message);\r\n//       }\r\n//     };\r\n//     useEffect(()=>{\r\n//       getAllCodes()\r\n//     },[])\r\n\r\n//     useEffect(() => {\r\n//       // This will be executed after the state is updated\r\n//       // \r\n//     }, [information]);\r\n\r\n//     const customModalShow = () => {\r\n//       setCustomModalVisible(true);\r\n//     };\r\n  \r\n//     const customModalCancel = () => {\r\n//       setCustomModalVisible(false);\r\n//     };\r\n  \r\n//     const handleCustomFieldChange = (fieldName, value) => {\r\n//       setCustomFieldValues({ ...customFieldValues, [fieldName]: value });\r\n//     };\r\n//     const handleDone = (value) => {\r\n//       if (selectedRowData) {\r\n//         const updatedData = [...data];\r\n//         const index = selectedRowData.key;\r\n//         const newDocument = `${ProjectCode}-${title}-${getMdrCode}-00X`;\r\n    \r\n//         updatedData[index] = {\r\n//           ...selectedRowData,\r\n//           document: newDocument,\r\n//         };\r\n    \r\n//         setData(updatedData);\r\n//         // setDataArray(updatedData);\r\n//         setSelectedRowData(null);\r\n//         selectedModalCancel();\r\n//       }\r\n//     };\r\n    \r\n//     const handleAddCustom = () => {\r\n//       // Create a new object with properties matching existing columns\r\n//       const customData = {\r\n//         category: customFieldValues.category || '',\r\n//         code: customFieldValues.code || '',\r\n//         documentTitle: customFieldValues.documentTitle || '',\r\n//         additionalAssigned: customFieldValues.additionalAssigned || '',\r\n//         areaCode: customFieldValues.areaCode || '',\r\n//         departmentCode: customFieldValues.departmentCode || '',\r\n//         documentContentCode: customFieldValues.documentContentCode || '',\r\n//         sequenceNumber: customFieldValues.sequenceNumber || '',\r\n//         document: customFieldValues.document || '',\r\n//       };\r\n  \r\n//       // Update the data array with the new custom data\r\n//       setData(prevData => [...prevData, customData]);\r\n  \r\n//       // Close the custom modal\r\n//       setCustomModalVisible(false);\r\n//     };\r\n//   return (\r\n//     <>\r\n//         <Modal\r\n//       title=\"Update Code\"\r\n//       width={400}\r\n//       centered\r\n//       visible={selectedFieldVisible}\r\n//       onCancel={selectedModalCancel}\r\n//       footer={null}\r\n//       closeIcon={<RiCloseFill className=\"remix-icon text-color-black-100\" size={24} />}\r\n//     >\r\n//       <Row justify=\"space-between\" align=\"center\">\r\n//       <Col span={20}>\r\n//             <Form layout=\"vertical\" name=\"basic\">\r\n//               <Form.Item\r\n//                 label=\"Update Code\"\r\n//                 name=\"UpdateCode\"\r\n//                 rules={[\r\n//                   {\r\n//                     required: true,\r\n//                     message: \"Please Update Code\",\r\n//                   },\r\n//                 ]}\r\n//               >\r\n//                 <Input\r\n//                   value={code}\r\n//                   onChange={(e) =>{ setTitle(e.target.value);\r\n//                     \r\n//                   }}\r\n//                 />\r\n//                 </Form.Item>\r\n//                 </Form>\r\n//                 </Col>\r\n//       </Row>\r\n//       <Button\r\n//           type=\"primary\"\r\n//           onClick={handleDone}\r\n//           // disabled={user?.user?.roleId != 1}\r\n//         >\r\n//           Confirm\r\n//         </Button>\r\n//     </Modal>\r\n\r\n//     <Modal\r\n//       title=\"Upload Document\"\r\n//       width={400}\r\n//       centered\r\n//       visible={templateModalVisible}\r\n//       onCancel={templateModalCancel}\r\n//       footer={null}\r\n//       closeIcon={<RiCloseFill className=\"remix-icon text-color-black-100\" size={24} />}\r\n//     >\r\n//       <Row justify=\"space-between\" align=\"center\">\r\n//         <div>\r\n//           <h3>Selected Documents:</h3>\r\n//           <ul style={{ margin: \"2px\" ,padding:\"2px\"}}>\r\n//           {selectedRows.map((index) => (\r\n//   <React.Fragment key={index}>\r\n//   {Array.from({ length: data[index].count || 1 }, (_, i) => (\r\n//     <li key={i} style={{ margin: \"2px\", padding: \"2px\" }}>\r\n//       <strong style={{ color: \"blue\" }}>Category:</strong> {data[index].category} <br />\r\n//       <strong style={{ color: \"blue\" }}>Code:</strong> {data[index].code} <br />\r\n//       <strong style={{ color: \"blue\" }}>Document Number:</strong> {information[index]?.[i] || ''} <br />\r\n//       <br />\r\n//       <Form.Item label=\"Start Date\" name={`startedDate[${index}][${i}]`}>\r\n//         <DatePicker\r\n//           style={{ width: '100%' }}\r\n//           onChange={(date) => handleStartDateChange(date, data[index].document, index, i)}\r\n//           disabled={documentInfo[index]?.[i]?.isChecked}\r\n//         />\r\n//       </Form.Item>\r\n\r\n//       <Form.Item label=\"End Date\" name={`endedDate[${index}][${i}]`}>\r\n//         <DatePicker\r\n//           style={{ width: '100%' }}\r\n//           onChange={(date) => handleEndDateChange(date, data[index].document, index, i)}\r\n//           disabled={documentInfo[index]?.[i]?.isChecked}\r\n//         />\r\n//       </Form.Item>\r\n\r\n//       <Form.Item label=\"Title\" name={`title[${index}][${i}]`}>\r\n//         <Input\r\n//           style={{ margin: \"6px\" }}\r\n//           placeholder=\"Enter Document Title\"\r\n//           value={documentInfo[index]?.[i]?.title || ''}\r\n//           onChange={(e) => handleChangingTitle(e.target.value, data[index].document, index, i)}\r\n//         />\r\n//       </Form.Item>\r\n\r\n//       <Form.Item>\r\n//         {/* <Checkbox\r\n//           checked={documentInfo[index]?.[i]?.isChecked || false}\r\n//           onChange={(e) => handleCheckboxChange(e.target.checked, data[index].document, index, i)}\r\n//           style={{ marginLeft: \"10px\" }}\r\n//         >\r\n//           Same as Project Dates\r\n//         </Checkbox> */}\r\n//       </Form.Item>\r\n//     </li>\r\n//   ))}\r\n// </React.Fragment>\r\n\r\n\r\n// ))}\r\n\r\n//           </ul>\r\n//         </div>\r\n//       </Row>\r\n//       <Button\r\n//         type=\"primary\"\r\n//         onClick={mydocumentSaved}\r\n//         // disabled={user?.user?.roleId != 1}\r\n//       >\r\n//         Done\r\n//       </Button>\r\n//     </Modal>\r\n\r\n//     <Modal\r\n//       title=\"Departments\"\r\n//       width={416}\r\n//       centered\r\n//       visible={departmentWise}\r\n//       onCancel={departmentWiseCancel}\r\n//       footer={null}\r\n//       closeIcon={<RiCloseFill className=\"remix-icon text-color-black-100\" size={24} />}\r\n//     >\r\n//             <Button\r\n//             size=\"default\"\r\n//             type=\"primary\"\r\n//             onClick={()=>handleClick()}\r\n\r\n//             style={{ margin: '8px' }}\r\n//           >\r\n//             All Documents\r\n//           </Button>\r\n//       {loading ? (\r\n        \r\n//         departmentOptions.map(option => (\r\n//           <Button\r\n//             key={option.label}\r\n//             loading\r\n//             size=\"default\"\r\n//             style={{ margin: '8px' }}\r\n//           >\r\n//             {option.label}\r\n//           </Button>\r\n//         ))\r\n//       ) : (\r\n//         displayNames.map(name => (\r\n//           <Button\r\n//             key={name}\r\n//             size=\"default\"\r\n//             style={{ margin: '8px' }}\r\n//             onClick={() => handleDepartmentClick(name)}\r\n//             type={selectedDepartment === name ? 'primary' : 'default'}\r\n//           >\r\n//             {name}\r\n//           </Button>\r\n//         ))\r\n//       )}\r\n//     </Modal>\r\n    \r\n//     <div>\r\n//         <div style={{ textAlign: 'center', marginTop: 20 }}>\r\n//         <h1>Select Documents For MDR</h1>\r\n//       </div>\r\n//       <div style={{ marginBottom: \"16px\" ,justifyContent:\"space-between\"}}>\r\n//         <h1>MDR Templates</h1>\r\n\r\n//       </div>\r\n//       <Table\r\n//         columns={columns}\r\n//         dataSource={data.map((item, index) => ({ ...item, key: index }))}\r\n//         // rowSelection={{\r\n//         //   selectedRowKeys: selectedRows,\r\n//         //   onChange: (selectedRowKeys,selectedRows) => setSelectedRows(selectedRows.includes(\"index\")),\r\n//         // }}\r\n//         rowSelection={{\r\n//           selectedRowKeys: selectedRows,\r\n//           onChange:(selectedRows,selectedRowKeys)=> change(selectedRows,selectedRowKeys),\r\n//         }}\r\n//         // onChange={onChange}\r\n//         bordered\r\n//         size='middle'\r\n//       title={() => 'All Department Documents'}\r\n//       footer={() => 'You may filter docs'}\r\n//     expandable={{\r\n//       expandedRowRender: (record) => <p style={{ margin: 0 }}>{record.document}</p>,\r\n//       rowExpandable: (record) => record.departmentCode !== 'Not Expandable',\r\n//     }}\r\n//       />\r\n//       <Space >\r\n//       <Button\r\n//         type=\"primary\"\r\n//         onClick={customModalShow}\r\n//       >\r\n//         Add Custom\r\n//       </Button>\r\n//       <Button\r\n//           type=\"primary\"\r\n//           onClick={templateModalShow}\r\n//           // disabled={user?.user?.roleId != 1}\r\n//         >\r\n//           Proceed\r\n//         </Button>\r\n//         </Space>\r\n//       {/* Custom Modal */}\r\n//       <Modal\r\n//         title=\"Add Custom Field\"\r\n//         width={400}\r\n//         centered\r\n//         visible={customModalVisible}\r\n//         onCancel={customModalCancel}\r\n//         footer={[\r\n//           <Button key=\"cancel\" onClick={customModalCancel}>\r\n//             Cancel\r\n//           </Button>,\r\n//           <Button key=\"add\" type=\"primary\" onClick={handleAddCustom}>\r\n//             Add\r\n//           </Button>,\r\n//         ]}\r\n//         closeIcon={<RiCloseFill className=\"remix-icon text-color-black-100\" size={24} />}\r\n//       >\r\n//         {/* Form fields for custom input */}\r\n//         <Form layout=\"vertical\" name=\"customForm\">\r\n//           {/* Dynamically generate form fields based on existing columns */}\r\n//           {columns.map((column) => (\r\n//             <Form.Item\r\n//               key={column.key}\r\n//               label={column.title}\r\n//               name={column.dataIndex}\r\n//               rules={[\r\n//                 {\r\n//                   required: true,\r\n//                   message: `Please enter ${column.title}`,\r\n//                 },\r\n//               ]}\r\n//             >\r\n//               <Input\r\n//                 onChange={(e) => handleCustomFieldChange(column.dataIndex, e.target.value)}\r\n//               />\r\n//             </Form.Item>\r\n//           ))}\r\n//         </Form>\r\n//       </Modal>\r\n//     </div>\r\n//     </>\r\n\r\n//   );\r\n// };\r\n\r\n// export default MdrTemplate;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// // import React, { useEffect, useState } from 'react';\r\n// // import { notification, Row,  Col,  Divider,Checkbox,  Form,  Space,  Table,  Select,  Tag,  Input,  DatePicker,  TimePicker,  Button,  Modal,  message,} from 'antd';\r\n// // import { RiCloseFill, RiCalendarLine } from \"react-icons/ri\";\r\n// // import axios from 'axios'\r\n// // import { useLocation } from 'react-router-dom';\r\n// import jsondata from './data.json';\r\n// // import { saveData, loadData, getAllKeys } from '../../storage';\r\n// // \r\n\r\n// //   const MdrTemplate = ({ projectCode, mdrCode }) => {\r\n// //     const [customModalVisible, setCustomModalVisible] = useState(false);\r\n// //     const [customData, setCustomData] = useState({});\r\n\r\n// //     const { search } = useLocation();\r\n// //     const params = new URLSearchParams(search);\r\n// //     const ProjectCode = params.get('projectCode');\r\n// //     const getMdrCode = params.get('mdrCode');\r\n// //     const projectId = params.get('projectId');\r\n// //     const getMdrTitle= params.get('title');\r\n// //     const departmentId = params.get('departmentId');\r\n\r\n// //     let departmentOptionsString = params.get('departmentOptions');\r\n// //     let departmentOptionSuffix = params.get('departmentOption');\r\n\r\n// //     const projectOptions = params.get('projectOptions');\r\n// //     const approver = params.get('approver');\r\n// //     const reviewer = params.get('reviewer');\r\n// //     const record = params.get('record');\r\n\r\n// //     console.log(\"data from mdr to mdrtemplates\",ProjectCode,getMdrCode,projectId,getMdrTitle,departmentId,\r\n// //     departmentOptionSuffix,departmentOptionsString,projectOptions,approver,reviewer,record);\r\n\r\n// //     const [customFieldValues, setCustomFieldValues] = useState({});\r\n// //     const [templateModalVisible,setTemplateModalVisible] = useState(false)\r\n// //     const [selectedFieldVisible,setSelectedFieldVisible]  = useState(false)\r\n// //     const [title,setTitle] = useState('')\r\n// //     const [selectedRowData, setSelectedRowData] = useState(null);\r\n// //     const [departmentWise, setDepartmentWise] = useState(false);\r\n// //     const [loading, setLoading] = useState(true);\r\n// //     const [displayNames, setDisplayNames] = useState([]);\r\n// //     const [selectedDepartment, setSelectedDepartment] = useState(null);\r\n// //     const [codes,setCodes] = useState([])\r\n// //     const [selectedRows, setSelectedRows] = useState([]);\r\n// //     const [user, setUser] = useState(JSON.parse(localStorage?.getItem(\"user\")));\r\n// //     const [code,setCode] = useState()\r\n// //     const [department,setDepartment] = useState()\r\n        \r\n// //     const [documentDesc,setDocumentDesc] = useState()\r\n// //     const [documentContentCode,setDocumentContentCode] = useState()\r\n// //     const [documentNumbers,setDocumentNumbers] = useState()\r\n\r\n    \r\n// //     const departmentOptionSuffixes = JSON.parse(departmentOptionSuffix);\r\n// //     // \r\n// //     const departmentOptions = JSON.parse(departmentOptionsString);\r\n// //     // \r\n// //     const departmentOptionsMap = new Map(departmentOptions.map(option => [option.value, option.label]));\r\n// //     // \r\n// //     const departmentIds = departmentId.split(',').map(Number);\r\n// //     const departmentLabels = departmentIds.map(id => departmentOptionsMap.get(id));\r\n// //     // \r\n// //     const departmentLabelsString = departmentLabels.join(', ');\r\n// //     // \r\n\r\n// //     const dataArrayWithIndexes = Object.entries(jsondata).map(([index, value]) => ({  ...value, index: parseInt(index), checked: false }));\r\n    \r\n\r\n// //     const [data, setData] = useState(Object.values(dataArrayWithIndexes));\r\n// //     const [dataArray,setDataArray] = useState(Object.values(dataArrayWithIndexes))\r\n// //     let changing = data\r\n// //     let changing2 = dataArray\r\n\r\n    \r\n    \r\n\r\n// //     const [documentCounts, setDocumentCounts] = useState({});\r\n// //     const [documentTitles, setDocumentTitles] = useState({});\r\n// //     const [information,setInformation] = useState([])\r\n// //     const [customInformation,setCustomInformation] = useState([])\r\n\r\n// //     const [titles,setValues] = useState([])\r\n\r\n// //     const [documentInfo, setDocumentInfo] = useState([]);\r\n    \r\n// //     const columns = [\r\n// //       {\r\n// //         title: 'Sr.#',\r\n// //         dataIndex: 'code', // Assuming 'code' is the appropriate field for 'Sr.#'\r\n// //         key: 'code',\r\n// //       },\r\n// //       {\r\n// //         title: 'Document',\r\n// //         dataIndex: 'documentTitle',\r\n// //         key: 'documentTitle',\r\n// //       },\r\n// //       {\r\n// //         title: 'Department Code',\r\n// //         dataIndex: 'departmentCode',\r\n// //         key: 'departmentCode',\r\n// //         filters: [\r\n// //           {\r\n// //             text: 'Project Management',\r\n// //             value: 'PM',\r\n// //           },\r\n// //           {\r\n// //             text: 'Process',\r\n// //             value: 'PRO',\r\n// //           },\r\n// //           {\r\n// //             text: 'Piping',\r\n// //             value: 'PIP',\r\n// //           },\r\n// //           {\r\n// //             text: 'Mechanical',\r\n// //             value: 'TK',\r\n// //           },\r\n// //           {\r\n// //             text: 'Civil/Structure',\r\n// //             value: 'CIV',\r\n// //           },\r\n// //           {\r\n// //             text: 'Electrical',\r\n// //             value: 'ELE',\r\n// //           },\r\n// //           {\r\n// //             text: 'Instrumentation',\r\n// //             value: 'INS',\r\n// //           },\r\n// //         ],\r\n// //         filterMode: 'tree',\r\n// //         filterSearch: true,\r\n// //         onFilter:  (value, record) => record.departmentCode === value,\r\n// //       },\r\n// //       {\r\n// //         title: 'Document Content Code',\r\n// //         dataIndex: 'documentContentCode',\r\n// //         key: 'documentContentCode',\r\n// //       },\r\n// //       {\r\n// //         title: 'DOCUMENT NUMBER',\r\n// //         dataIndex: 'document', // Use 'documentNumber' as the dataIndex\r\n// //         key: 'document',\r\n// //       },\r\n// //       {\r\n// //         title: \"No Of Documents\",\r\n// //         key: \"noOfDocuments\",\r\n// //         render: (_, record) => (\r\n// //           <Space size=\"middle\" align=\"center\">\r\n// //             <Button onClick={() => handleCount(record)}>Add </Button>\r\n// //             <Tag style={{ color: \"white\", backgroundColor: \"blue\" }}>{documentCounts[record.document] || 1}</Tag>\r\n// //           </Space>\r\n// //         ),\r\n// //       },\r\n// //     ];\r\n// //     useEffect(() => {\r\n// //       const timeout = setTimeout(() => {\r\n// //         setDisplayNames(departmentOptions.map(option => option.label));\r\n// //         setLoading(false);\r\n// //       }, 1000);\r\n  \r\n// //       return () => clearTimeout(timeout);\r\n// //     }, [])\r\n\r\n// //     const handleCount = (record) => {\r\n// //       setDocumentCounts(prevCounts => {\r\n// //         const updatedCounts = { ...prevCounts };\r\n// //         const currentCount = updatedCounts[record.document] || 1;\r\n// //         updatedCounts[record.document] = currentCount + 1;\r\n// //         // \r\n// //         return updatedCounts;\r\n// //       });\r\n// //     };\r\n\r\n// //     const templateModalShow = () => {\r\n// //       \r\n\r\n// //       setTemplateModalVisible(true);  \r\n// //       const updatedData = [...data];\r\n// //       // \r\n// //       let allInfos = [];\r\n// //       let allCustomInfos = [];\r\n\r\n// // // customData.forEach((index, sequenceNumber) => {\r\n// //     \r\n// //         const count = customData.count;\r\n// //         //         \r\n        \r\n// //         for (let i = 0; i < count; i++) {\r\n// //           let newDocument = customData.document.replace('00X', (i + 1).toString().padStart(3, '0')).replace(\"xxxx\",ProjectCode)\r\n// //           // \r\n// //           // Save the document name in allInfos array\r\n// //           if (!allCustomInfos[i]) {\r\n// //             allCustomInfos[i] = {};\r\n// //           }\r\n// //           allCustomInfos[i] = newDocument;        \r\n// //         }\r\n// //       \r\n\r\n// //       selectedRows.forEach((index, sequenceNumber) => {\r\n// //         const count = documentCounts[data[index].document] || 1;\r\n// //         //         \r\n// //         for (let i = 0; i < count; i++) {\r\n// //           let newDocument = data[index].document.replace('00X', (i + 1).toString().padStart(3, '0')).replace(\"xxxx\",ProjectCode)\r\n// //           // \r\n// //           // Save the document name in allInfos array\r\n// //           if (!allInfos[index]) {\r\n// //             allInfos[index] = {};\r\n// //           }\r\n// //           allInfos[index][i] = newDocument;\r\n      \r\n// //           updatedData[index] = {\r\n// //             ...data[index],\r\n// //             count: documentCounts[data[index].document]\r\n// //           };\r\n// //         // \r\n          \r\n// //         }\r\n      \r\n// //       });\r\n// //       \r\n// //       \r\n// //       setCustomInformation(allCustomInfos)\r\n\r\n// //       setInformation(allInfos)\r\n// //       // \r\n// //       // \r\n// //       setData(updatedData);\r\n// //       \r\n\r\n      \r\n// //     };\r\n\r\n// //   const handleChangingTitle = (title, document, index, i) => {\r\n// //     setDocumentInfo((prevDocumentInfo) => {\r\n// //       const newDocumentInfo = [...prevDocumentInfo];\r\n// //       newDocumentInfo[index] = newDocumentInfo[index] || [];\r\n// //       newDocumentInfo[index][i] = {\r\n// //         ...newDocumentInfo[index][i],\r\n// //         title,\r\n// //       };\r\n// //       // \r\n\r\n// //       return newDocumentInfo;\r\n// //     });\r\n// //   };\r\n  \r\n// //   const handleStartDateChange = (date, document, index, i) => {\r\n// //     setDocumentInfo((prevDocumentInfo) => {\r\n// //       const newDocumentInfo = [...prevDocumentInfo];\r\n// //       newDocumentInfo[index] = newDocumentInfo[index] || [];\r\n// //       newDocumentInfo[index][i] = {\r\n// //         ...newDocumentInfo[index][i],\r\n// //         startDate: date ? date.toDate() : null,\r\n// //       };\r\n// //       return newDocumentInfo;\r\n// //     });\r\n// //   };\r\n  \r\n// //   const handleEndDateChange = (date, document, index, i) => {\r\n// //     setDocumentInfo((prevDocumentInfo) => {\r\n// //       const newDocumentInfo = [...prevDocumentInfo];\r\n// //       newDocumentInfo[index] = newDocumentInfo[index] || [];\r\n// //       newDocumentInfo[index][i] = {\r\n// //         ...newDocumentInfo[index][i],\r\n// //         endDate: date ? date.toDate() : null,\r\n// //       };\r\n// //       return newDocumentInfo;\r\n// //     });\r\n// //   };\r\n// //   const onChange = (pagination, filters, sorter, extra) => {\r\n// //     \r\n// //   };\r\n  \r\n// //   const change=(selectedRows,selectedRowKeys)=>{\r\n// //     // \r\n// //     const updatedSelectedRowKeys = selectedRowKeys.map(row => ({ ...row, checked: true }));\r\n// //     \r\n// //     const indexes = updatedSelectedRowKeys.map(row => row.index);\r\n// //     // \r\n// //     setSelectedRows(indexes)\r\n// //   }\r\n  \r\n// //   const handleCheckboxChange = (isCheckedValue, document, index, i) => {\r\n// //     setDocumentInfo((prevDocumentInfo) => {\r\n// //       const newDocumentInfo = [...prevDocumentInfo];\r\n// //       newDocumentInfo[index] = newDocumentInfo[index] || [];\r\n  \r\n// //       // If checkbox is unchecked, restore previous startDate and endDate values\r\n// //       if (!isCheckedValue) {\r\n// //         newDocumentInfo[index][i] = {\r\n// //           title: newDocumentInfo[index]?.[i]?.title || '',\r\n// //           isChecked: false,\r\n// //           startDate: newDocumentInfo[index]?.[i]?.prevStartDate || '',\r\n// //           endDate: newDocumentInfo[index]?.[i]?.prevEndDate || '',\r\n// //           prevStartDate: undefined,\r\n// //           prevEndDate: undefined,\r\n// //         };\r\n// //       } else {\r\n// //         newDocumentInfo[index][i] = {\r\n// //           title: newDocumentInfo[index]?.[i]?.title || '',\r\n// //           isChecked: true,\r\n// //           prevStartDate: newDocumentInfo[index]?.[i]?.startDate,\r\n// //           prevEndDate: newDocumentInfo[index]?.[i]?.endDate,\r\n// //         };\r\n// //       }\r\n  \r\n// //       return newDocumentInfo;\r\n// //     });  \r\n// //   };\r\n  \r\n  \r\n// //     const departmentWiseShow = () => {\r\n// //       setDepartmentWise(true);\r\n// //     };\r\n  \r\n// //     const departmentWiseCancel = () => {\r\n// //       setDepartmentWise(false);\r\n// //     };\r\n// //     const addDocument = async () => {\r\n      \r\n// //       const departmentOptions = await JSON.parse(departmentOptionsString);\r\n// //       try {\r\n// //         var title=getMdrTitle;\r\n// //         // \r\n// //         var mdrCode=getMdrCode;\r\n// //         // \r\n// //         mdrCode=mdrCode.replace(/\\s/g, '');\r\n// //         // \r\n// //         var count = selectedRows.length\r\n// //         // \r\n        \r\n\r\n// //         selectedRows.forEach(async (index) => {\r\n// //           let documentValue = data[index].document;\r\n// //           let count = data[index].count||1\r\n// //           // \r\n// //           const masterDocumentName=title;\r\n// //           const assignedBy=user.user.roleId;\r\n// //           const assignedFrom=user.user.id;\r\n// //           \r\n// //           for (let i = 0; i < count; i++) {\r\n// //             try {\r\n// //               var docTitle = documentInfo[index][i].title;\r\n// //               var startedDate = documentInfo[index][i].startDate\r\n// //               var expectedEndedDate = documentInfo[index][i].endDate\r\n// //               var title=information[index][i];\r\n// //               var version='000';\r\n\r\n// //               \r\n// //               const responseDoc = await axios.post(\r\n// //                 \"https://novacon.live/api/documents/\",\r\n// //                 {\r\n// //                   title,\r\n// //                   startedDate,\r\n// //                   expectedEndedDate,\r\n// //                   docTitle,\r\n// //                   departmentId,\r\n// //                   projectId,\r\n// //                   companyId: user?.user?.companyId,\r\n// //                   userId: user?.user?.id,\r\n// //                   userName: `${user?.user?.firstName} ${user?.user?.lastName}`,\r\n// //                   masterDocumentId: mdrCode,\r\n// //                   masterDocumentName,\r\n// //                   projectCode,\r\n// //                   departmentName:departmentLabelsString,\r\n// //                   status : \"Initialized\",\r\n// //                   assignedBy,\r\n// //                   assignedFrom,\r\n// //                    approver,\r\n// //                    reviewer,\r\n// //                    version\r\n// //                 },\r\n// //                 {\r\n// //                   headers: {\r\n// //                     Authorization: user?.accessToken,\r\n// //                   },\r\n// //                 }\r\n// //               );\r\n// //             } catch (error) {\r\n// //               \r\n// //             }  \r\n// //           }\r\n// //         });\r\n\r\n// // \r\n// // \r\n// //         // selectedRows.forEach(async (index) => {\r\n// //           let countCustom = customData.count||1\r\n// //           const masterDocumentName=title;\r\n// //           const assignedBy=user.user.roleId;\r\n// //           const assignedFrom=user.user.id;\r\n// //           \r\n// //           for (let i = 0; i < countCustom; i++) {\r\n// //             try {\r\n// //               var docTitle = documentInfo[0][i].title;\r\n// //               var startedDate = documentInfo[0][i].startDate\r\n// //               var expectedEndedDate = documentInfo[0][i].endDate\r\n// //               var title=customInformation[i];\r\n// //               var version='000';\r\n\r\n// //               \r\n// //               const responseDoc = await axios.post(\r\n// //                 \"https://novacon.live/api/documents/\",\r\n// //                 {\r\n// //                   title,\r\n// //                   startedDate,\r\n// //                   expectedEndedDate,\r\n// //                   docTitle,\r\n// //                   departmentId,\r\n// //                   projectId,\r\n// //                   companyId: user?.user?.companyId,\r\n// //                   userId: user?.user?.id,\r\n// //                   userName: `${user?.user?.firstName} ${user?.user?.lastName}`,\r\n// //                   masterDocumentId: mdrCode,\r\n// //                   masterDocumentName,\r\n// //                   projectCode,\r\n// //                   departmentName:departmentLabelsString,\r\n// //                   status : \"Initialized\",\r\n// //                   assignedBy,\r\n// //                   assignedFrom,\r\n// //                    approver,\r\n// //                    reviewer,\r\n// //                    version\r\n// //                 },\r\n// //                 {\r\n// //                   headers: {\r\n// //                     Authorization: user?.accessToken,\r\n// //                   },\r\n// //                 }\r\n// //               );\r\n// //             } catch (error) {\r\n// //               \r\n// //             }  \r\n// //           }\r\n// //         // });\r\n\r\n// //         if(record){\r\n// //           const response = await axios.put(\r\n// //             \"https://novacon.live/api/documents/mdr\",\r\n// //             {\r\n// //               record,\r\n// //               title,\r\n// //               departmentId,\r\n// //               projectId,\r\n// //               noOfDocuments:count,\r\n// //               status:\"Ongoing\",\r\n// //               companyId: user?.user?.companyId,\r\n// //               authorId: user?.user?.id,\r\n// //               authorName: `${user?.user?.firstName} ${user?.user?.lastName}`,\r\n// //               mdrCode,\r\n// //               projectCode: ProjectCode,\r\n// //               departmentName: departmentLabelsString,\r\n// //             },\r\n// //             {\r\n// //               headers: {\r\n// //                 Authorization: user?.accessToken,\r\n// //               },\r\n// //             }\r\n// //           );     \r\n// //         }else{\r\n\r\n// //           \r\n// //           const response = await axios.post(\r\n// //             \"https://novacon.live/api/documents/mdr\",\r\n// //             {\r\n// //               title,\r\n// //               departmentId,\r\n// //               projectId,\r\n// //               noOfDocuments:count,\r\n// //               status:\"Ongoing\",\r\n// //               companyId: user?.user?.companyId,\r\n// //               authorId: user?.user?.id,\r\n// //               authorName: `${user?.user?.firstName} ${user?.user?.lastName}`,\r\n// //               mdrCode,\r\n// //               projectCode: ProjectCode,\r\n// //               departmentName: departmentLabelsString,\r\n// //             },\r\n// //             {\r\n// //               headers: {\r\n// //                 Authorization: user?.accessToken,\r\n// //               },\r\n// //             }\r\n            \r\n// //           );\r\n// //         }\r\n// //         notification.success({\r\n// //                 message: `${response?.data?.message}`,\r\n// //                 style: {\r\n// //                   backgroundColor: '#52c41a', // Red color background\r\n// //                   color: '#fff', // White text color\r\n// //                 },\r\n// //               }\r\n// //             )\r\n// //             if (selectedRows.length === 0) {\r\n// //           message.error('Please select at least one row.');\r\n// //           return;\r\n// //         }\r\n// //       } catch (error) {\r\n// //         // Handle errors\r\n// //         console.error(\"Error adding MDR:\", error);\r\n// //       }\r\n// //     };\r\n\r\n// //     const handleDepartmentClick = (name) => {\r\n// //       \r\n// //       setSelectedDepartment(name);\r\n// //       departmentWiseCancel();\r\n// //       filterData(name);\r\n// //     };\r\n\r\n// //     // const filterData = (selectedDepartment) => {\r\n\r\n// //     //   const filteredData = [];\r\n// //     //   for (const data of dataArray) {\r\n// //     //     if (String(data.category).toUpperCase() === String(selectedDepartment).toUpperCase()) {\r\n// //     //       filteredData.push(data);\r\n// //     //     }\r\n// //     //   }\r\n// //     //   \r\n// //     //   setData(filteredData);\r\n// //     // };\r\n  \r\n// //     const filterData = (selectedDepartment) => {\r\n// //       \r\n// //       \r\n// //       const filteredIndexes = dataArray\r\n// //       .filter(item => item.category.toUpperCase() === selectedDepartment.toUpperCase())\r\n    \r\n// //       const filteredRowKeys = dataArray\r\n// //       .filter((row, index) => selectedRows.includes(index) && row.checked)\r\n// //       .map(row => row.index);\r\n// //       \r\n// //     // Call setSelectedRows to update the selected rows\r\n// //       setSelectedRows(filteredRowKeys);\r\n  \r\n// //       \r\n// //         // const filteredDataWithIndexes = filteredIndexes.map(index => dataArrayWithIndexes[index]);\r\n// //       // const filteredDataValues = filteredDataWithIndexes.map(({ value }) => value);\r\n      \r\n// //       // \r\n// //       setData(filteredIndexes);\r\n// //       // setFilteredValues(filteredDataWithIndexes); // Assuming you have a state variable for storing filtered values\r\n// //     };\r\n    \r\n\r\n// //     // const filterData = (selectedDepartment) => {\r\n// //     //   const filteredIndexes = dataArrayWithIndexes\r\n// //     //     .filter(({ value }) => String(value.category).toUpperCase() === String(selectedDepartment).toUpperCase())\r\n// //     //     .map(({ index }) => index);\r\n    \r\n      \r\n// //     //   setData(filteredDataValues);\r\n// //     // };\r\n\r\n// //     const handleClick = () => {\r\n// //       departmentWiseCancel();\r\n// //       setData(dataArray)\r\n// //     };\r\n    \r\n// //     const mydocumentSaved = async() => {      \r\n// //       \r\n// //       \r\n// //       await addDocument();\r\n// //       notification.success({\r\n// //         message: `Documents Successfully Added`,\r\n// //         style: {\r\n// //           backgroundColor: '#52c41a', // Red color background\r\n// //           color: '#fff', // White text color\r\n// //         },\r\n// //       }\r\n// //     )      // selectedRows.forEach((index) => {\r\n// //       //   const savedData = loadData(`doc-${index}`);\r\n// //       //   \r\n// //       // });\r\n    \r\n// //       templateModalCancel();\r\n\r\n// //     };\r\n    \r\n// //     const templateModalCancel = () => {\r\n// //       setTemplateModalVisible(false);\r\n      \r\n// //     };\r\n\r\n// //     const selectedModalShow = () => {\r\n// //       setSelectedFieldVisible(true);\r\n// //     };\r\n  \r\n// //     const selectedModalCancel = () => {\r\n// //       setSelectedFieldVisible(false);\r\n// //     };\r\n\r\n// //     const handleUpdate = (record) => {\r\n// //       setSelectedRowData(record);\r\n// //       selectedModalShow();\r\n// //     };\r\n    \r\n// //     const getAllCodes = async () => {\r\n// //       \r\n\r\n// //       try {\r\n// //         const response = await axios.get(\r\n// //           `https://novacon.live/api/documents/getCodes?companyId=${user?.user?.companyId}`,\r\n// //           {\r\n// //             headers: {\r\n// //               Authorization: user?.accessToken,\r\n// //             },\r\n// //           }\r\n// //         );\r\n// //         var newResponse=response.data.documentNumberFormat.split('-');\r\n// //         setCodes(ProjectCode+'-'+newResponse[1]+'-'+newResponse[2]+'-'+getMdrCode+'-'+'00X')        \r\n\r\n// //       } catch (error) {\r\n// //         console.error(\"Error fetching projects:\", error?.message);\r\n// //       }\r\n// //     };\r\n// //     useEffect(()=>{\r\n// //       getAllCodes()\r\n// //     },[])\r\n\r\n// //     useEffect(() => {\r\n// //       // This will be executed after the state is updated\r\n// //       // \r\n// //     }, [information]);\r\n\r\n// //     const customModalShow = () => {\r\n// //       setCustomModalVisible(true);\r\n// //     };\r\n  \r\n// //     const customModalCancel = () => {\r\n// //       setCustomModalVisible(false);\r\n// //     };\r\n  \r\n// //     const handleCustomFieldChange = (fieldName, value) => {\r\n// //       setCustomFieldValues({ ...customFieldValues, [fieldName]: value });\r\n// //     };\r\n// //     const handleDone = (value) => {\r\n// //       if (selectedRowData) {\r\n// //         const updatedData = [...data];\r\n// //         const index = selectedRowData.key;\r\n// //         const newDocument = `${ProjectCode}-${title}-${getMdrCode}-00X`;\r\n    \r\n// //         updatedData[index] = {\r\n// //           ...selectedRowData,\r\n// //           document: newDocument,\r\n// //         };\r\n    \r\n// //         setData(updatedData);\r\n// //         // setDataArray(updatedData);\r\n// //         setSelectedRowData(null);\r\n// //         selectedModalCancel();\r\n// //       }\r\n// //     };\r\n    \r\n// //     const handleAddCustom = () => {\r\n// //       // Create a new object with properties matching existing columns\r\n// //       const category = departmentOptionSuffixes.find(dept => dept.value == department)\r\n// //       const document = `xxxx-01-${department}-${documentContentCode}-00X`\r\n// //       const customData = {\r\n// //         count:documentNumbers||'',\r\n// //         departmentCode: department || '',\r\n// //         documentContentCode: documentContentCode || '',\r\n// //         documentTitle: documentDesc || '',\r\n// //         areaCode:\"01\",\r\n// //         category:category.label,\r\n// //         sequenceNumber:\"00X\",\r\n// //         document:document,\r\n// //       };\r\n\r\n// //       \r\n// //       setCustomData(customData)\r\n  \r\n// //       // Update the data array with the new custom data\r\n// //       // setData(prevData => [...prevData, customData]);\r\n  \r\n// //       // Close the custom modal\r\n// //       setCustomModalVisible(false);\r\n// //     };\r\n// //   return (\r\n// //     <>\r\n// //         <Modal\r\n// //       title=\"Update Code\"\r\n// //       width={400}\r\n// //       centered\r\n// //       visible={selectedFieldVisible}\r\n// //       onCancel={selectedModalCancel}\r\n// //       footer={null}\r\n// //       closeIcon={<RiCloseFill className=\"remix-icon text-color-black-100\" size={24} />}\r\n// //     >\r\n// //       <Row justify=\"space-between\" align=\"center\">\r\n// //       <Col span={20}>\r\n// //             <Form layout=\"vertical\" name=\"basic\">\r\n// //               <Form.Item\r\n// //                 label=\"Update Code\"\r\n// //                 name=\"UpdateCode\"\r\n// //                 rules={[\r\n// //                   {\r\n// //                     required: true,\r\n// //                     message: \"Please Update Code\",\r\n// //                   },\r\n// //                 ]}\r\n// //               >\r\n// //                 <Input\r\n// //                   value={code}\r\n// //                   onChange={(e) =>{ setTitle(e.target.value);\r\n// //                     \r\n// //                   }}\r\n// //                 />\r\n// //                 </Form.Item>\r\n// //                 </Form>\r\n// //                 </Col>\r\n// //       </Row>\r\n// //       <Button\r\n// //           type=\"primary\"\r\n// //           onClick={handleDone}\r\n// //           // disabled={user?.user?.roleId != 1}\r\n// //         >\r\n// //           Confirm\r\n// //         </Button>\r\n// //     </Modal>\r\n\r\n// //     <Modal\r\n// //       title=\"Upload Document\"\r\n// //       width={400}\r\n// //       centered\r\n// //       visible={templateModalVisible}\r\n// //       onCancel={templateModalCancel}\r\n// //       footer={null}\r\n// //       closeIcon={<RiCloseFill className=\"remix-icon text-color-black-100\" size={24} />}\r\n// //     >\r\n// //       <Row justify=\"space-between\" align=\"center\">\r\n// //         <div>\r\n// //           <h3>Selected Documents:</h3>\r\n// //           <ul style={{ margin: \"2px\" ,padding:\"2px\"}}>\r\n// //           {selectedRows.map((index) => (\r\n// //   <React.Fragment key={index}>\r\n// //   {Array.from({ length: data[index].count || 1 }, (_, i) => (\r\n// //     <li key={i} style={{ margin: \"2px\", padding: \"2px\" }}>\r\n// //       <strong style={{ color: \"blue\" }}>Category:</strong> {data[index].category} <br />\r\n// //       <strong style={{ color: \"blue\" }}>Code:</strong> {data[index].code} <br />\r\n// //       <strong style={{ color: \"blue\" }}>Document Number:</strong> {information[index]?.[i] || ''} <br />\r\n// //       <br />\r\n// //       <Form.Item label=\"Start Date\" name={`startedDate[${index}][${i}]`}>\r\n// //         <DatePicker\r\n// //           style={{ width: '100%' }}\r\n// //           onChange={(date) => handleStartDateChange(date, data[index].document, index, i)}\r\n// //           disabled={documentInfo[index]?.[i]?.isChecked}\r\n// //           required\r\n// //         />\r\n// //       </Form.Item>\r\n\r\n// //       <Form.Item label=\"End Date\" name={`endedDate[${index}][${i}]`}>\r\n// //         <DatePicker\r\n// //           style={{ width: '100%' }}\r\n// //           onChange={(date) => handleEndDateChange(date, data[index].document, index, i)}\r\n// //           disabled={documentInfo[index]?.[i]?.isChecked}\r\n// //           required\r\n// //         />\r\n// //       </Form.Item>\r\n\r\n// //       <Form.Item label=\"Title\" name={`title[${index}][${i}]`}>\r\n// //         <Input\r\n// //           style={{ margin: \"6px\" }}\r\n// //           placeholder=\"Enter Document Title\"\r\n// //           value={documentInfo[index]?.[i]?.title || ''}\r\n// //           onChange={(e) => handleChangingTitle(e.target.value, data[index].document, index, i)}\r\n// //           required\r\n// //         />\r\n// //       </Form.Item>\r\n// //     </li>\r\n// //   ))}\r\n// // </React.Fragment>\r\n\r\n\r\n// // ))}\r\n\r\n// //           </ul>\r\n\r\n        \r\n// //           <ul style={{ margin: \"2px\", padding: \"2px\" }}>\r\n// //       {Array.from({ length: customData.count || 1 }, (_, i) => (\r\n\r\n// //         <li key={i} style={{ margin: \"2px\", padding: \"2px\" }}>\r\n// //           <strong style={{ color: \"blue\" }}>Category:</strong> {customData.category} <br />\r\n// //           <strong style={{ color: \"blue\" }}>Code:</strong> {customData.documentContentCode} <br />\r\n// //           <strong style={{ color: \"blue\" }}>Document Number:</strong> {customInformation[i]} <br />\r\n// //           <br />\r\n// //           <Form.Item label=\"Start Date\" name={`startedDate[${i}]`}>\r\n// //             <DatePicker\r\n// //               style={{ width: '100%' }}\r\n// //               onChange={(date) => handleStartDateChange(date, customData.document, 0, i)}\r\n// //               // disabled={documentInfo[0]?.[i]?.isChecked}\r\n// //               required\r\n// //             />\r\n// //           </Form.Item>\r\n\r\n// //           <Form.Item label=\"End Date\" name={`endedDate[${i}]`}>\r\n// //             <DatePicker\r\n// //               style={{ width: '100%' }}\r\n// //               onChange={(date) => handleEndDateChange(date, customData.document, 0, i)}\r\n// //               // disabled={documentInfo[0]?.[i]?.isChecked}\r\n// //               required\r\n// //             />\r\n// //           </Form.Item>\r\n\r\n// //           <Form.Item label=\"Title\" name={`title[${i}]`}>\r\n// //             <Input\r\n// //               style={{ margin: \"6px\" }}\r\n// //               placeholder=\"Enter Document Title\"\r\n// //               value={documentInfo[0]?.[i]?.title || ''}\r\n// //               onChange={(e) => handleChangingTitle(e.target.value, customData.document, 0, i)}\r\n// //               required\r\n// //             />\r\n// //           </Form.Item>\r\n// //         </li>\r\n// //       ))}\r\n// //     </ul>\r\n\r\n         \r\n// //         </div>\r\n// //       </Row>\r\n// //       <Button\r\n// //         type=\"primary\"\r\n// //         onClick={mydocumentSaved}\r\n// //         // disabled={user?.user?.roleId != 1}\r\n// //       >\r\n// //         Done\r\n// //       </Button>\r\n// //     </Modal>\r\n\r\n// //     <Modal\r\n// //       title=\"Departments\"\r\n// //       width={416}\r\n// //       centered\r\n// //       visible={departmentWise}\r\n// //       onCancel={departmentWiseCancel}\r\n// //       footer={null}\r\n// //       closeIcon={<RiCloseFill className=\"remix-icon text-color-black-100\" size={24} />}\r\n// //     >\r\n// //             <Button\r\n// //             size=\"default\"\r\n// //             type=\"primary\"\r\n// //             onClick={()=>handleClick()}\r\n\r\n// //             style={{ margin: '8px' }}\r\n// //           >\r\n// //             All Documents\r\n// //           </Button>\r\n// //       {loading ? (\r\n        \r\n// //         departmentOptions.map(option => (\r\n// //           <Button\r\n// //             key={option.label}\r\n// //             loading\r\n// //             size=\"default\"\r\n// //             style={{ margin: '8px' }}\r\n// //           >\r\n// //             {option.label}\r\n// //           </Button>\r\n// //         ))\r\n// //       ) : (\r\n// //         displayNames.map(name => (\r\n// //           <Button\r\n// //             key={name}\r\n// //             size=\"default\"\r\n// //             style={{ margin: '8px' }}\r\n// //             onClick={() => handleDepartmentClick(name)}\r\n// //             type={selectedDepartment === name ? 'primary' : 'default'}\r\n// //           >\r\n// //             {name}\r\n// //           </Button>\r\n// //         ))\r\n// //       )}\r\n// //     </Modal>\r\n    \r\n// //     <div>\r\n// //         <div style={{ textAlign: 'center', marginTop: 20 }}>\r\n// //         <h1>Select Documents For MDR</h1>\r\n// //       </div>\r\n// //       <div style={{ marginBottom: \"16px\" ,justifyContent:\"space-between\"}}>\r\n// //         <h1>MDR Templates</h1>\r\n\r\n// //       </div>\r\n// //       <Table\r\n// //         columns={columns}\r\n// //         dataSource={data.map((item, index) => ({ ...item, key: index }))}\r\n// //         // rowSelection={{\r\n// //         //   selectedRowKeys: selectedRows,\r\n// //         //   onChange: (selectedRowKeys,selectedRows) => setSelectedRows(selectedRows.includes(\"index\")),\r\n// //         // }}\r\n// //         rowSelection={{\r\n// //           selectedRowKeys: selectedRows,\r\n// //           onChange:(selectedRows,selectedRowKeys)=> change(selectedRows,selectedRowKeys),\r\n// //         }}\r\n// //         // onChange={onChange}\r\n// //         bordered\r\n// //         size='middle'\r\n// //       title={() => 'All Department Documents'}\r\n// //       footer={() => 'You may filter docs'}\r\n// //     expandable={{\r\n// //       expandedRowRender: (record) => <p style={{ margin: 0 }}>{record.document}</p>,\r\n// //       rowExpandable: (record) => record.departmentCode !== 'Not Expandable',\r\n// //     }}\r\n// //       />\r\n// //       <Space >\r\n// //       <Button\r\n// //         type=\"primary\"\r\n// //         onClick={customModalShow}\r\n// //       >\r\n// //         Add Custom\r\n// //       </Button>\r\n// //       <Button\r\n// //           type=\"primary\"\r\n// //           onClick={templateModalShow}\r\n// //           // disabled={user?.user?.roleId != 1}\r\n// //         >\r\n// //           Proceed\r\n// //         </Button>\r\n// //         </Space>\r\n// //       {/* Custom Modal */}\r\n// //       <Modal\r\n// //         title=\"Add Custom Field\"\r\n// //         width={400}\r\n// //         centered\r\n// //         visible={customModalVisible}\r\n// //         onCancel={customModalCancel}\r\n// //         footer={[\r\n// //           <Button key=\"cancel\" onClick={customModalCancel}>\r\n// //             Cancel\r\n// //           </Button>,\r\n// //           <Button key=\"add\" type=\"primary\" onClick={handleAddCustom}>\r\n// //             Add\r\n// //           </Button>,\r\n// //         ]}\r\n// //         closeIcon={<RiCloseFill className=\"remix-icon text-color-black-100\" size={24} />}\r\n// //       >\r\n// //         {/* Form fields for custom input */}\r\n// //         <Form layout=\"vertical\" name=\"customForm\">\r\n// //           {/* Dynamically generate form fields based on existing columns */}\r\n// //           {/* {columns.map((column) => (\r\n// //             <Form.Item\r\n// //               key={column.key}\r\n// //               label={column.title}\r\n// //               name={column.dataIndex}\r\n// //               rules={[\r\n// //                 {\r\n// //                   required: true,\r\n// //                   message: `Please enter ${column.title}`,\r\n// //                 },\r\n// //               ]}\r\n// //             >\r\n// //               <Input\r\n// //                 onChange={(e) => handleCustomFieldChange(column.dataIndex, e.target.value)}\r\n// //               />\r\n// //             </Form.Item>\r\n// //           ))} */}\r\n        \r\n// //               <Form.Item\r\n// //                 label=\"Department\"\r\n// //                 name=\"department\"\r\n// //                 rules={[\r\n// //                   {\r\n// //                     required: true,\r\n// //                     message: \"Please select Project Name\",\r\n// //                   },\r\n// //                 ]}\r\n// //               >\r\n// //               <Select\r\n// //                   options={departmentOptionSuffixes}\r\n// //                   value={department}\r\n// //                   onChange={(value) => setDepartment(value)}\r\n// //                 />              \r\n// //                 </Form.Item>\r\n\r\n// //                 <Form.Item label=\"Document\" name=\"document\" rules={[\r\n// //                   {\r\n// //                     required: true,\r\n// //                     message: \"Please Add Document\",\r\n// //                   },\r\n// //                 ]}>\r\n// //             <Input\r\n// //               value={documentDesc}\r\n// //               onChange={(e) => setDocumentDesc(e.target.value)}\r\n// //             />\r\n// //           </Form.Item>\r\n\r\n// //           <Form.Item label=\"Document Content Code\" name=\"documentContentCode\" rules={[\r\n// //                   {\r\n// //                     required: true,\r\n// //                     message: \"Please Add Document Content Code\",\r\n// //                   },\r\n// //                 ]}>\r\n// //             <Input\r\n// //               value={documentContentCode}\r\n// //               onChange={(e) => setDocumentContentCode(e.target.value)}\r\n// //             />\r\n// //           </Form.Item>\r\n\r\n// //           <Form.Item label=\"Number Of Documents\" name=\"noOfDoxuments\" rules={[\r\n// //                   {\r\n// //                     required: true,\r\n// //                     message: \"Please Add Number of Documents\",\r\n// //                   },\r\n// //                 ]}>\r\n// //             <Input\r\n// //               value={documentNumbers}\r\n// //               onChange={(e) => setDocumentNumbers(e.target.value)}\r\n// //             />\r\n// //           </Form.Item>\r\n\r\n          \r\n\r\n// //         </Form>\r\n// //       </Modal>\r\n// //     </div>\r\n// //     </>\r\n\r\n// //   );\r\n// // };\r\n\r\n// // export default MdrTemplate;\r\nimport React, { useEffect, useState } from 'react';\r\nimport { notification, Row,  Col,  Divider,Checkbox,  Form,  Space,  Table,  Select,  Tag,  Input,  DatePicker,  TimePicker,  Button,  Modal,  message,} from 'antd';\r\nimport { RiCloseFill, RiCalendarLine } from \"react-icons/ri\";\r\nimport axios from 'axios'\r\nimport { useLocation } from 'react-router-dom';\r\nimport jsondata from './data.json';\r\nimport { saveData, loadData, getAllKeys } from '../../storage';\r\n\r\n\r\n  const MdrTemplate = ({ projectCode, mdrCode }) => {\r\n    const [customModalVisible, setCustomModalVisible] = useState(false);\r\n    const [customData, setCustomData] = useState({});\r\n\r\n    const { search } = useLocation();\r\n    const params = new URLSearchParams(search);\r\n    const ProjectCode = params.get('projectCode');\r\n    const getMdrCode = params.get('mdrCode');\r\n    const projectId = params.get('projectId');\r\n    const getMdrTitle= params.get('title');\r\n    const departmentId = params.get('departmentId');\r\n\r\n    let departmentOptionsString = params.get('departmentOptions');\r\n    let departmentOptionSuffix = params.get('departmentOption');\r\n\r\n    const projectOptions = params.get('projectOptions');\r\n    const approver = params.get('approver');\r\n    const reviewer = params.get('reviewer');\r\n    const record = params.get('record');\r\n\r\n    console.log(\"data from mdr to mdrtemplates\",ProjectCode,getMdrCode,projectId,getMdrTitle,departmentId,\r\n    departmentOptionSuffix,departmentOptionsString,projectOptions,approver,reviewer,record);\r\n\r\n    const [customFieldValues, setCustomFieldValues] = useState({});\r\n    const [templateModalVisible,setTemplateModalVisible] = useState(false)\r\n    const [selectedFieldVisible,setSelectedFieldVisible]  = useState(false)\r\n    const [title,setTitle] = useState('')\r\n    const [selectedRowData, setSelectedRowData] = useState(null);\r\n    const [departmentWise, setDepartmentWise] = useState(false);\r\n    // const [documentValidation, setDocumentValidation] = useState(true);\r\n\r\n    const [loading, setLoading] = useState(true);\r\n    const [displayNames, setDisplayNames] = useState([]);\r\n    const [selectedDepartment, setSelectedDepartment] = useState(null);\r\n    const [codes,setCodes] = useState([])\r\n    const [selectedRows, setSelectedRows] = useState([]);\r\n    const [user, setUser] = useState(JSON.parse(localStorage?.getItem(\"user\")));\r\n    const [code,setCode] = useState()\r\n    const [department,setDepartment] = useState()\r\n        \r\n    const [documentDesc,setDocumentDesc] = useState()\r\n    const [documentContentCode,setDocumentContentCode] = useState()\r\n    const [documentNumbers,setDocumentNumbers] = useState()\r\n\r\n    \r\n    const departmentOptionSuffixes = JSON.parse(departmentOptionSuffix);\r\n    // \r\n    const departmentOptions = JSON.parse(departmentOptionsString);\r\n    // \r\n    const departmentOptionsMap = new Map(departmentOptions.map(option => [option.value, option.label]));\r\n    // \r\n    const departmentIds = departmentId.split(',').map(Number);\r\n    const departmentLabels = departmentIds.map(id => departmentOptionsMap.get(id));\r\n    // \r\n    const departmentLabelsString = departmentLabels.join(', ');\r\n    // \r\n\r\n    const dataArrayWithIndexes = Object.entries(jsondata).map(([index, value]) => ({  ...value, index: parseInt(index), checked: false }));\r\n    \r\n\r\n    const [data, setData] = useState(Object.values(dataArrayWithIndexes));\r\n    const [dataArray,setDataArray] = useState(Object.values(dataArrayWithIndexes))\r\n    let changing = data\r\n    let changing2 = dataArray\r\n\r\n    \r\n    \r\n\r\n    const [documentCounts, setDocumentCounts] = useState({});\r\n    const [documentTitles, setDocumentTitles] = useState({});\r\n    const [information,setInformation] = useState([])\r\n    const [customInformation,setCustomInformation] = useState([])\r\n\r\n    const [titles,setValues] = useState([])\r\n\r\n    const [documentInfo, setDocumentInfo] = useState([]);\r\n    \r\n    const columns = [\r\n      {\r\n        title: 'Sr.#',\r\n        dataIndex: 'code', // Assuming 'code' is the appropriate field for 'Sr.#'\r\n        key: 'code',\r\n      },\r\n      {\r\n        title: 'Document',\r\n        dataIndex: 'documentTitle',\r\n        key: 'documentTitle',\r\n      },\r\n      {\r\n        title: 'Department Code',\r\n        dataIndex: 'departmentCode',\r\n        key: 'departmentCode',\r\n        filters: [\r\n          {\r\n            text: 'Project Management',\r\n            value: 'PM',\r\n          },\r\n          {\r\n            text: 'Process',\r\n            value: 'PRO',\r\n          },\r\n          {\r\n            text: 'Piping',\r\n            value: 'PIP',\r\n          },\r\n          {\r\n            text: 'Mechanical',\r\n            value: 'TK',\r\n          },\r\n          {\r\n            text: 'Civil/Structure',\r\n            value: 'CIV',\r\n          },\r\n          {\r\n            text: 'Electrical',\r\n            value: 'ELE',\r\n          },\r\n          {\r\n            text: 'Instrumentation',\r\n            value: 'INS',\r\n          },\r\n        ],\r\n        filterMode: 'tree',\r\n        filterSearch: true,\r\n        onFilter:  (value, record) => record.departmentCode === value,\r\n      },\r\n      {\r\n        title: 'Document Content Code',\r\n        dataIndex: 'documentContentCode',\r\n        key: 'documentContentCode',\r\n      },\r\n      {\r\n        title: 'DOCUMENT NUMBER',\r\n        dataIndex: 'document', // Use 'documentNumber' as the dataIndex\r\n        key: 'document',\r\n      },\r\n      {\r\n        title: \"No Of Documents\",\r\n        key: \"noOfDocuments\",\r\n        render: (_, record) => (\r\n          <Space size=\"middle\" align=\"center\">\r\n            <Tag style={{ color: \"white\", backgroundColor: \"blue\" }} onClick={() => handleCount(record,\"add\")}>+</Tag>\r\n            <Tag style={{ color: \"white\", backgroundColor: \"blue\" }}>{documentCounts[record.document] || 1}</Tag>\r\n            <Tag style={{ color: \"white\", backgroundColor: \"blue\" }} onClick={() => handleCount(record,\"sub\")}>-</Tag>\r\n\r\n          </Space>\r\n        ),\r\n      },\r\n    ];\r\n    useEffect(() => {\r\n      const timeout = setTimeout(() => {\r\n        setDisplayNames(departmentOptions.map(option => option.label));\r\n        setLoading(false);\r\n      }, 1000);\r\n  \r\n      return () => clearTimeout(timeout);\r\n    }, [])\r\n\r\n    const handleCount = (record,a) => {\r\n      setDocumentCounts(prevCounts => {\r\n        const updatedCounts = { ...prevCounts };\r\n        const currentCount = updatedCounts[record.document] || 1;\r\n        if(a==\"add\"){\r\n          updatedCounts[record.document] = currentCount + 1;\r\n        }\r\n        else{\r\n          updatedCounts[record.document] = currentCount -1;\r\n\r\n        }\r\n        // \r\n        return updatedCounts;\r\n      });\r\n    };\r\n\r\n    const templateModalShow = () => {\r\n      \r\n      \r\n\r\n      setTemplateModalVisible(true);  \r\n      const updatedData = [...data];\r\n      // \r\n      let allInfos = [];\r\n      let allCustomInfos = [];\r\n\r\n// customData.forEach((index, sequenceNumber) => {\r\n    \r\n        const count = customData.count;\r\n        //         \r\n        \r\n        for (let i = 0; i < count; i++) {\r\n          let newDocument = customData.document.replace('00X', (i + 1).toString().padStart(3, '0')).replace(\"xxxx\",ProjectCode)\r\n          // \r\n          // Save the document name in allInfos array\r\n          if (!allCustomInfos[i]) {\r\n            allCustomInfos[i] = {};\r\n          }\r\n          allCustomInfos[i] = newDocument;        \r\n        }\r\n      \r\n\r\n      selectedRows.forEach((index, sequenceNumber) => {\r\n        const count = documentCounts[data[index].document] || 1;\r\n        //         \r\n        for (let i = 0; i < count; i++) {\r\n          let newDocument = data[index].document.replace('00X', (i + 1).toString().padStart(3, '0')).replace(\"xxxx\",ProjectCode)\r\n          // \r\n          // Save the document name in allInfos array\r\n          if (!allInfos[index]) {\r\n            allInfos[index] = {};\r\n          }\r\n          allInfos[index][i] = newDocument;\r\n      \r\n          updatedData[index] = {\r\n            ...data[index],\r\n            count: documentCounts[data[index].document]\r\n          };\r\n        // \r\n          \r\n        }\r\n      \r\n      });\r\n      \r\n      \r\n      setCustomInformation(allCustomInfos)\r\n      setInformation(allInfos)\r\n      // \r\n      // \r\n      setData(updatedData);\r\n      \r\n\r\n      \r\n    };\r\n\r\n  const handleChangingTitle = (title, document, index, i) => {\r\n    setDocumentInfo((prevDocumentInfo) => {\r\n      const newDocumentInfo = [...prevDocumentInfo];\r\n      newDocumentInfo[index] = newDocumentInfo[index] || [];\r\n      newDocumentInfo[index][i] = {\r\n        ...newDocumentInfo[index][i],\r\n        title,\r\n      };\r\n      // \r\n\r\n      return newDocumentInfo;\r\n    });\r\n  };\r\n  \r\n  const handleStartDateChange = (date, document, index, i) => {\r\n    setDocumentInfo((prevDocumentInfo) => {\r\n      const newDocumentInfo = [...prevDocumentInfo];\r\n      newDocumentInfo[index] = newDocumentInfo[index] || [];\r\n      newDocumentInfo[index][i] = {\r\n        ...newDocumentInfo[index][i],\r\n        startDate: date ? date.toDate() : null,\r\n      };\r\n      return newDocumentInfo;\r\n    });\r\n  };\r\n  \r\n  const handleEndDateChange = (date, document, index, i) => {\r\n    setDocumentInfo((prevDocumentInfo) => {\r\n      const newDocumentInfo = [...prevDocumentInfo];\r\n      newDocumentInfo[index] = newDocumentInfo[index] || [];\r\n      newDocumentInfo[index][i] = {\r\n        ...newDocumentInfo[index][i],\r\n        endDate: date ? date.toDate() : null,\r\n      };\r\n      return newDocumentInfo;\r\n    });\r\n  };\r\n  const onChange = (pagination, filters, sorter, extra) => {\r\n    \r\n  };\r\n  \r\n  const change=(selectedRows,selectedRowKeys)=>{\r\n    // \r\n    const updatedSelectedRowKeys = selectedRowKeys.map(row => ({ ...row, checked: true }));\r\n    \r\n    const indexes = updatedSelectedRowKeys.map(row => row.index);\r\n    // \r\n    setSelectedRows(indexes)\r\n  }\r\n  \r\n  const handleCheckboxChange = (isCheckedValue, document, index, i) => {\r\n    setDocumentInfo((prevDocumentInfo) => {\r\n      const newDocumentInfo = [...prevDocumentInfo];\r\n      newDocumentInfo[index] = newDocumentInfo[index] || [];\r\n  \r\n      // If checkbox is unchecked, restore previous startDate and endDate values\r\n      if (!isCheckedValue) {\r\n        newDocumentInfo[index][i] = {\r\n          title: newDocumentInfo[index]?.[i]?.title || '',\r\n          isChecked: false,\r\n          startDate: newDocumentInfo[index]?.[i]?.prevStartDate || '',\r\n          endDate: newDocumentInfo[index]?.[i]?.prevEndDate || '',\r\n          prevStartDate: undefined,\r\n          prevEndDate: undefined,\r\n        };\r\n      } else {\r\n        newDocumentInfo[index][i] = {\r\n          title: newDocumentInfo[index]?.[i]?.title || '',\r\n          isChecked: true,\r\n          prevStartDate: newDocumentInfo[index]?.[i]?.startDate,\r\n          prevEndDate: newDocumentInfo[index]?.[i]?.endDate,\r\n        };\r\n      }\r\n  \r\n      return newDocumentInfo;\r\n    });  \r\n  };\r\n  \r\n  \r\n    const departmentWiseShow = () => {\r\n      setDepartmentWise(true);\r\n    };\r\n  \r\n    const departmentWiseCancel = () => {\r\n      setDepartmentWise(false);\r\n    };\r\n    const addDocument = async () => {\r\n      \r\n      \r\n      const departmentOptions = await JSON.parse(departmentOptionsString);\r\n      try {\r\n        var title=getMdrTitle;\r\n        // \r\n        var mdrCode=getMdrCode;\r\n        // \r\n        mdrCode=mdrCode.replace(/\\s/g, '');\r\n        // \r\n        var count = selectedRows.length\r\n        // \r\n        if(record){\r\n          try {\r\n            const response = await axios.put(\r\n              \"https://novacon.live/api/documents/mdr\",\r\n              {\r\n                record,\r\n                title,\r\n                departmentId,\r\n                projectId,\r\n                noOfDocuments:count,\r\n                status:\"Ongoing\",\r\n                companyId: user?.user?.companyId,\r\n                authorId: user?.user?.id,\r\n                authorName: `${user?.user?.firstName} ${user?.user?.lastName}`,\r\n                mdrCode,\r\n                projectCode: ProjectCode,\r\n                departmentName: departmentLabelsString,\r\n              },\r\n              {\r\n                headers: {\r\n                  Authorization: user?.accessToken,\r\n                },\r\n              }\r\n            );\r\n            notification.success({\r\n              message: 'Successfully Created',\r\n              description: `${response.data.message}`,\r\n              style: {\r\n                backgroundColor: '#52c41a', // Green color background\r\n                color: '#fff', // White text color\r\n              },\r\n            }); \r\n          } catch (error) {\r\n            if (error.response?.status === 409) {\r\n              // Conflict error (HTTP 409)\r\n              notification.error({\r\n                message: 'Conflict Error',\r\n                description: 'A mdr with this name or code already exists. Please choose a different name or code.',\r\n                style: {\r\n                  backgroundColor: '#f5222d', // Red color background\r\n                  color: '#fff', // White text color\r\n                },\r\n              });\r\n\r\n              history.push(\"/pages/mdr\")\r\n              return            \r\n            } else {\r\n              // Handle other errors\r\n              notification.success({\r\n                message: 'Successfully Created',\r\n                description: `${response.data.message}`,\r\n                style: {\r\n                  backgroundColor: '#52c41a', // Green color background\r\n                  color: '#fff', // White text color\r\n                },\r\n              });\r\n              \r\n            }    \r\n          }\r\n        }\r\n        else{ \r\n          try {\r\n            const response = await axios.post(\r\n              \"https://novacon.live/api/documents/mdr\",\r\n              {\r\n                title,\r\n                departmentId,\r\n                projectId,\r\n                noOfDocuments:count,\r\n                status:\"Ongoing\",\r\n                companyId: user?.user?.companyId,\r\n                authorId: user?.user?.id,\r\n                authorName: `${user?.user?.firstName} ${user?.user?.lastName}`,\r\n                mdrCode,\r\n                projectCode: ProjectCode,\r\n                departmentName: departmentLabelsString,\r\n              },\r\n              {\r\n                headers: {\r\n                  Authorization: user?.accessToken,\r\n                },\r\n              }\r\n              \r\n              \r\n            );\r\n            notification.success({\r\n              message: 'Successfully Created',\r\n              description: `${response.data.message}`,\r\n              style: {\r\n                backgroundColor: '#52c41a', // Green color background\r\n                color: '#fff', // White text color\r\n              },\r\n            });\r\n          } catch (error) {\r\n              if (error.response?.status === 409) {\r\n                // Conflict error (HTTP 409)\r\n                notification.error({\r\n                  message: 'Conflict Error',\r\n                  description: 'A mdr with this name or code already exists. Please choose a different name or code.',\r\n                  style: {\r\n                    backgroundColor: '#f5222d', // Red color background\r\n                    color: '#fff', // White text color\r\n                  },\r\n                });\r\n                history.push(\"/pages/mdr\")            \r\n                return\r\n              } else {\r\n                notification.error({\r\n                  message: 'Error',\r\n                  description: 'An error occurred while adding the mdr. Please try again.',\r\n                  style: {\r\n                    backgroundColor: '#f5222d', // Red color background\r\n                    color: '#fff', // White text color\r\n                  },\r\n                });\r\n              }\r\n            }\r\n          }\r\n        selectedRows.forEach(async (index) => {\r\n          let documentValue = data[index].document;\r\n          let count = data[index].count||1\r\n          const masterDocumentName=title;\r\n          const assignedBy=user.user.roleId;\r\n          const assignedFrom=user.user.id;\r\n          \r\n          for (let i = 0; i < count; i++) {\r\n            try {\r\n              var docTitle = documentInfo[index][i].title;\r\n              var startedDate = documentInfo[index][i].startDate\r\n              var expectedEndedDate = documentInfo[index][i].endDate\r\n              var title=information[index][i];\r\n              var version='000';\r\n\r\n              \r\n              const responseDoc = await axios.post(\r\n                \"https://novacon.live/api/documents/\",\r\n                {\r\n                  title,\r\n                  startedDate,\r\n                  expectedEndedDate,\r\n                  docTitle,\r\n                  departmentId,\r\n                  projectId,\r\n                  companyId: user?.user?.companyId,\r\n                  userId: user?.user?.id,\r\n                  userName: `${user?.user?.firstName} ${user?.user?.lastName}`,\r\n                  masterDocumentId: mdrCode,\r\n                  masterDocumentName,\r\n                  projectCode,\r\n                  departmentName:departmentLabelsString,\r\n                  status : \"Initialized\",\r\n                  assignedBy,\r\n                  assignedFrom,\r\n                  approver,\r\n                  reviewer,\r\n                  version\r\n                },\r\n                {\r\n                  headers: {\r\n                    Authorization: user?.accessToken,\r\n                  },\r\n                }\r\n              );\r\n              notification.success({\r\n                message: `Documents Successfully Added`,\r\n                style: {\r\n                  backgroundColor: '#52c41a', // Red color background\r\n                  color: '#fff', // White text color\r\n                },\r\n              }\r\n            )     \r\n            } catch (error) {\r\n              \r\n            }  \r\n          }\r\n        });\r\n\r\n\r\n\r\n\r\n        // selectedRows.forEach(async (index) => {\r\n          if(customData.count !=null ||''){\r\n            let countCustom = customData.count||1\r\n          const masterDocumentName=title;\r\n          const assignedBy=user.user.roleId;\r\n          const assignedFrom=user.user.id;\r\n          \r\n          for (let i = 0; i < countCustom; i++) {\r\n            try {\r\n              var docTitle = documentInfo[0][i].title;\r\n              var startedDate = documentInfo[0][i].startDate\r\n              var expectedEndedDate = documentInfo[0][i].endDate\r\n              var title=customInformation[i];\r\n              var version='000';\r\n\r\n              \r\n              const responseDoc = await axios.post(\r\n                \"https://novacon.live/api/documents/\",\r\n                {\r\n                  title,\r\n                  startedDate,\r\n                  expectedEndedDate,\r\n                  docTitle,\r\n                  departmentId,\r\n                  projectId,\r\n                  companyId: user?.user?.companyId,\r\n                  userId: user?.user?.id,\r\n                  userName: `${user?.user?.firstName} ${user?.user?.lastName}`,\r\n                  masterDocumentId: mdrCode,\r\n                  masterDocumentName,\r\n                  projectCode,\r\n                  departmentName:departmentLabelsString,\r\n                  status : \"Initialized\",\r\n                  assignedBy,\r\n                  assignedFrom,\r\n                   approver,\r\n                   reviewer,\r\n                   version\r\n                },\r\n                {\r\n                  headers: {\r\n                    Authorization: user?.accessToken,\r\n                  },\r\n                }\r\n              );\r\n              notification.success({\r\n                message: `Documents Successfully Added`,\r\n                style: {\r\n                  backgroundColor: '#52c41a', // Red color background\r\n                  color: '#fff', // White text color\r\n                },\r\n              }\r\n            )     \r\n            } catch (error) {\r\n              \r\n            }  \r\n          }\r\n            \r\n          }\r\n\r\n        if (selectedRows.length === 0) {\r\n          message.error('Please select at least one row.');\r\n          return;\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error adding MDR:\", error);\r\n      }\r\n    };\r\n\r\n    const handleDepartmentClick = (name) => {\r\n      \r\n      setSelectedDepartment(name);\r\n      departmentWiseCancel();\r\n      filterData(name);\r\n    };\r\n\r\n    // const filterData = (selectedDepartment) => {\r\n\r\n    //   const filteredData = [];\r\n    //   for (const data of dataArray) {\r\n    //     if (String(data.category).toUpperCase() === String(selectedDepartment).toUpperCase()) {\r\n    //       filteredData.push(data);\r\n    //     }\r\n    //   }\r\n    //   \r\n    //   setData(filteredData);\r\n    // };\r\n  \r\n    const filterData = (selectedDepartment) => {\r\n      \r\n      \r\n      const filteredIndexes = dataArray\r\n      .filter(item => item.category.toUpperCase() === selectedDepartment.toUpperCase())\r\n    \r\n      const filteredRowKeys = dataArray\r\n      .filter((row, index) => selectedRows.includes(index) && row.checked)\r\n      .map(row => row.index);\r\n      \r\n    // Call setSelectedRows to update the selected rows\r\n      setSelectedRows(filteredRowKeys);\r\n  \r\n      \r\n        // const filteredDataWithIndexes = filteredIndexes.map(index => dataArrayWithIndexes[index]);\r\n      // const filteredDataValues = filteredDataWithIndexes.map(({ value }) => value);\r\n      \r\n      // \r\n      setData(filteredIndexes);\r\n      // setFilteredValues(filteredDataWithIndexes); // Assuming you have a state variable for storing filtered values\r\n    };\r\n    \r\n\r\n    // const filterData = (selectedDepartment) => {\r\n    //   const filteredIndexes = dataArrayWithIndexes\r\n    //     .filter(({ value }) => String(value.category).toUpperCase() === String(selectedDepartment).toUpperCase())\r\n    //     .map(({ index }) => index);\r\n    \r\n      \r\n    //   setData(filteredDataValues);\r\n    // };\r\n\r\n    const handleClick = () => {\r\n      departmentWiseCancel();\r\n      setData(dataArray)\r\n    };\r\n    const mdrValidation = async() => {   \r\n      let count = data[index].count||1\r\n      for (let i = 0; i < count; i++) {\r\n      \r\n       \r\n        \r\n\r\n       };}\r\n    const mydocumentSaved = async() => {      \r\n      \r\n      let documentValidation=true;\r\n\r\n      \r\n    \r\n      selectedRows.forEach(async (index) => {\r\n        let count = data[index].count||1\r\n      const  documentInfo1 = documentInfo.filter(item => item !== undefined);\r\n      console.log(\"count\",count);\r\n      \r\n      console.log(\"DOC INFO1\",documentInfo1);\r\n\r\n        for (let i = 0; i < documentInfo1.length; i++) {\r\n          console.log(\"OUTER LOOP I\",i);\r\n\r\n//          if(documentInfo[i]==null){\r\n//           setDocumentValidation(true);\r\n// message.error('Fill all the fields first')\r\n//          } \r\nconsole.log(documentInfo1[i],'DOC ARRAY');\r\n\r\nfor (let index1 = 0; index1 < documentInfo1[i].length; index1++) {\r\n  console.log(\"INNER LOOP INDEX1\",index1);\r\n\r\n\r\n          if (\r\n\r\n          !documentInfo1[i][index1].hasOwnProperty('title') || \r\n          !documentInfo1[i][index1].hasOwnProperty('startDate') || \r\n          !documentInfo1[i][index1].hasOwnProperty('endDate') ||\r\n          documentInfo1[i][index1]['title'] === null || \r\n          documentInfo1[i][index1]['startDate'] === null || \r\n          documentInfo1[i][index1]['endDate'] === null\r\n        ) {\r\n          console.log(\"IF CONDITION\");\r\n\r\n\r\n          documentValidation=true;\r\n          message.error('Fill all the fields first');\r\n          break;\r\n\r\n        }\r\n      else{\r\n        console.log(\"ELSE CONDITION\");\r\n\r\n        documentValidation=false;\r\n        \r\n\r\n       \r\n\r\n\r\n      }}\r\n\r\n         \r\n        }\r\n     \r\n      }\r\n      \r\n    )\r\n    if(documentValidation==false){\r\n      await addDocument();}\r\n      // selectedRows.forEach((index) => {\r\n      //   const savedData = loadData(`doc-${index}`);\r\n      //   \r\n      // });\r\n      \r\n\r\n       \r\n      templateModalCancel();\r\n\r\n    };\r\n    \r\n    const templateModalCancel = () => {\r\n      setTemplateModalVisible(false);\r\n      \r\n    };\r\n\r\n    const selectedModalShow = () => {\r\n      setSelectedFieldVisible(true);\r\n    };\r\n  \r\n    const selectedModalCancel = () => {\r\n      setSelectedFieldVisible(false);\r\n    };\r\n\r\n    const handleUpdate = (record) => {\r\n      setSelectedRowData(record);\r\n      selectedModalShow();\r\n    };\r\n    \r\n    const getAllCodes = async () => {\r\n      \r\n\r\n      try {\r\n        const response = await axios.get(\r\n          `https://novacon.live/api/documents/getCodes?companyId=${user?.user?.companyId}`,\r\n          {\r\n            headers: {\r\n              Authorization: user?.accessToken,\r\n            },\r\n          }\r\n        );\r\n        var newResponse=response.data.documentNumberFormat.split('-');\r\n        setCodes(ProjectCode+'-'+newResponse[1]+'-'+newResponse[2]+'-'+getMdrCode+'-'+'00X')        \r\n\r\n      } catch (error) {\r\n        console.error(\"Error fetching projects:\", error?.message);\r\n      }\r\n    };\r\n    useEffect(()=>{\r\n      getAllCodes()\r\n    },[])\r\n\r\n    useEffect(() => {\r\n      // This will be executed after the state is updated\r\n      // \r\n    }, [information]);\r\n\r\n    const customModalShow = () => {\r\n      setCustomModalVisible(true);\r\n    };\r\n  \r\n    const customModalCancel = () => {\r\n      setCustomModalVisible(false);\r\n    };\r\n  \r\n    const handleCustomFieldChange = (fieldName, value) => {\r\n      setCustomFieldValues({ ...customFieldValues, [fieldName]: value });\r\n    };\r\n    const \r\n    handleDone = (value) => {\r\n      if (selectedRowData) {\r\n        const updatedData = [...data];\r\n        const index = selectedRowData.key;\r\n        const newDocument = `${ProjectCode}-${title}-${getMdrCode}-00X`;\r\n    \r\n        updatedData[index] = {\r\n          ...selectedRowData,\r\n          document: newDocument,\r\n        };\r\n    \r\n        setData(updatedData);\r\n        setSelectedRowData(null);\r\n        selectedModalCancel();\r\n      }\r\n    };\r\n    \r\n    const handleAddCustom = () => {\r\n      // Create a new object with properties matching existing columns\r\n      const category = departmentOptionSuffixes.find(dept => dept.value == department)\r\n      const document = `xxxx-01-${department}-${documentContentCode}-00X`\r\n      const customData = {\r\n        count:documentNumbers||'',\r\n        departmentCode: department || '',\r\n        documentContentCode: documentContentCode || '',\r\n        documentTitle: documentDesc || '',\r\n        areaCode:\"01\",\r\n        category:category.label,\r\n        sequenceNumber:\"00X\",\r\n        document:document,\r\n      };\r\n\r\n      \r\n      setCustomData(customData)\r\n  \r\n      // Update the data array with the new custom data\r\n      // setData(prevData => [...prevData, customData]);\r\n  \r\n      // Close the custom modal\r\n      setCustomModalVisible(false);\r\n    };\r\n  return (\r\n    <>\r\n        <Modal\r\n      title=\"Update Code\"\r\n      width={400}\r\n      centered\r\n      visible={selectedFieldVisible}\r\n      onCancel={selectedModalCancel}\r\n      footer={null}\r\n      closeIcon={<RiCloseFill className=\"remix-icon text-color-black-100\" size={24} />}\r\n    >\r\n      <Row justify=\"space-between\" align=\"center\">\r\n      <Col span={20}>\r\n            <Form layout=\"vertical\" name=\"basic\">\r\n              <Form.Item\r\n                label=\"Update Code\"\r\n                name=\"UpdateCode\"\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                    message: \"Please Update Code\",\r\n                  },\r\n                ]}\r\n              >\r\n                <Input\r\n                  value={code}\r\n                  onChange={(e) =>{ setTitle(e.target.value);\r\n                    \r\n                  }}\r\n                />\r\n                </Form.Item>\r\n                </Form>\r\n                </Col>\r\n      </Row>\r\n      <Button\r\n          type=\"primary\"\r\n          onClick={handleDone}\r\n          // disabled={user?.user?.roleId != 1}\r\n        >\r\n          Confirm\r\n        </Button>\r\n    </Modal>\r\n\r\n    <Modal\r\n      title=\"Upload Document\"\r\n      width={400}\r\n      visible={templateModalVisible}\r\n      onCancel={templateModalCancel}\r\n      footer={null}\r\n      closeIcon={<RiCloseFill className=\"remix-icon text-color-black-100\" size={24} />}\r\n    >\r\n      <Row justify=\"space-between\" align=\"center\">\r\n        <div>\r\n          <h3>Selected Documents:</h3>\r\n          <ul style={{ margin: \"2px\" ,padding:\"2px\"}}>\r\n          {selectedRows.map((index) => (\r\n  <React.Fragment key={index}>\r\n  {Array.from({ length: data[index].count || 1 }, (_, i) => (\r\n    <li key={i} style={{ margin: \"2px\", padding: \"2px\" }}>\r\n      <strong style={{ color: \"blue\" }}>Category:</strong> {data[index].category} <br />\r\n      <strong style={{ color: \"blue\" }}>Code:</strong> {data[index].code} <br />\r\n      <strong style={{ color: \"blue\" }}>Document Number:</strong> {information[index]?.[i] || ''} <br />\r\n      <br />\r\n      <Form.Item label=\"Start Date\" name={`startedDate[${index}][${i}]`}>\r\n        <DatePicker\r\n          style={{ width: '100%' }}\r\n          onChange={(date) => handleStartDateChange(date, data[index].document, index, i)}\r\n          disabled={documentInfo[index]?.[i]?.isChecked}\r\n          required\r\n        />\r\n      </Form.Item>\r\n\r\n      <Form.Item label=\"End Date\" name={`endedDate[${index}][${i}]`}>\r\n        <DatePicker\r\n          style={{ width: '100%' }}\r\n          onChange={(date) => handleEndDateChange(date, data[index].document, index, i)}\r\n          disabled={documentInfo[index]?.[i]?.isChecked}\r\n          required\r\n        />\r\n      </Form.Item>\r\n\r\n      <Form.Item label=\"Title\" name={`title[${index}][${i}]`}>\r\n        <Input\r\n          style={{ margin: \"6px\" }}\r\n          placeholder=\"Enter Document Title\"\r\n          value={documentInfo[index]?.[i]?.title || ''}\r\n          onChange={(e) => handleChangingTitle(e.target.value, data[index].document, index, i)}\r\n          required\r\n        />\r\n      </Form.Item>\r\n    </li>\r\n  ))}\r\n</React.Fragment>\r\n\r\n\r\n))}\r\n\r\n          </ul>\r\n\r\n        \r\n          {customData.count !=null ||'' && <ul style={{ margin: \"2px\", padding: \"2px\" }}>\r\n      {Array.from({ length: customData.count || 1 }, (_, i) => (\r\n\r\n        <li key={i} style={{ margin: \"2px\", padding: \"2px\" }}>\r\n          <strong style={{ color: \"blue\" }}>Category:</strong> {customData.category} <br />\r\n          <strong style={{ color: \"blue\" }}>Code:</strong> {customData.documentContentCode} <br />\r\n          <strong style={{ color: \"blue\" }}>Document Number:</strong> {customInformation[i]} <br />\r\n          <br />\r\n          <Form.Item label=\"Start Date\" name={`startedDate[${i}]`}>\r\n            <DatePicker\r\n              style={{ width: '100%' }}\r\n              onChange={(date) => handleStartDateChange(date, customData.document, 0, i)}\r\n              // disabled={documentInfo[0]?.[i]?.isChecked}\r\n              required\r\n            />\r\n          </Form.Item>\r\n\r\n          <Form.Item label=\"End Date\" name={`endedDate[${i}]`}>\r\n            <DatePicker\r\n              style={{ width: '100%' }}\r\n              onChange={(date) => handleEndDateChange(date, customData.document, 0, i)}\r\n              // disabled={documentInfo[0]?.[i]?.isChecked}\r\n              required\r\n            />\r\n          </Form.Item>\r\n\r\n          <Form.Item label=\"Title\" name={`title[${i}]`}>\r\n            <Input\r\n              style={{ margin: \"6px\" }}\r\n              placeholder=\"Enter Document Title\"\r\n              value={documentInfo[0]?.[i]?.title || ''}\r\n              onChange={(e) => handleChangingTitle(e.target.value, customData.document, 0, i)}\r\n              required\r\n            />\r\n          </Form.Item>\r\n        </li>\r\n      ))}\r\n    </ul>}\r\n\r\n         \r\n        </div>\r\n      </Row>\r\n\r\n      <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center' }}>\r\n  <Button\r\n    type=\"primary\"\r\n    onClick={mydocumentSaved}\r\n    \r\n    // disabled={user?.user?.roleId != 1}\r\n    disabled={\r\n    documentInfo.length==0\r\n    }\r\n    style={{}}\r\n  >\r\n    Done\r\n  </Button>\r\n</div>\r\n\r\n    </Modal>\r\n\r\n    <Modal\r\n      title=\"Departments\"\r\n      width={416}\r\n      centered\r\n      visible={departmentWise}\r\n      onCancel={departmentWiseCancel}\r\n      footer={null}\r\n      closeIcon={<RiCloseFill className=\"remix-icon text-color-black-100\" size={24} />}\r\n    >\r\n            <Button\r\n            size=\"default\"\r\n            type=\"primary\"\r\n            onClick={()=>handleClick()}\r\n\r\n            style={{ margin: '8px' }}\r\n          >\r\n            All Documents\r\n          </Button>\r\n      {loading ? (\r\n        \r\n        departmentOptions.map(option => (\r\n          <Button\r\n            key={option.label}\r\n            loading\r\n            size=\"default\"\r\n            style={{ margin: '8px' }}\r\n          >\r\n            {option.label}\r\n          </Button>\r\n        ))\r\n      ) : (\r\n        displayNames.map(name => (\r\n          <Button\r\n            key={name}\r\n            size=\"default\"\r\n            style={{ margin: '8px' }}\r\n            onClick={() => handleDepartmentClick(name)}\r\n            type={selectedDepartment === name ? 'primary' : 'default'}\r\n          >\r\n            {name}\r\n          </Button>\r\n        ))\r\n      )}\r\n    </Modal>\r\n    \r\n    <div>\r\n        <div style={{ textAlign: 'center', marginTop: 20 }}>\r\n        <h1>Select Documents For MDR</h1>\r\n      </div>\r\n      <div style={{ marginBottom: \"16px\" ,justifyContent:\"space-between\"}}>\r\n        <h1>MDR Templates</h1>\r\n\r\n      </div>\r\n      <Table\r\n        columns={columns}\r\n        dataSource={data.map((item, index) => ({ ...item, key: index }))}\r\n        // rowSelection={{\r\n        //   selectedRowKeys: selectedRows,\r\n        //   onChange: (selectedRowKeys,selectedRows) => setSelectedRows(selectedRows.includes(\"index\")),\r\n        // }}\r\n        rowSelection={{\r\n          selectedRowKeys: selectedRows,\r\n          onChange:(selectedRows,selectedRowKeys)=> change(selectedRows,selectedRowKeys),\r\n        }}\r\n        // onChange={onChange}\r\n        bordered\r\n        size='middle'\r\n      title={() => 'All Department Documents'}\r\n      footer={() => 'You may filter docs'}\r\n    expandable={{\r\n      expandedRowRender: (record) => <p style={{ margin: 0 }}>{record.document}</p>,\r\n      rowExpandable: (record) => record.departmentCode !== 'Not Expandable',\r\n    }}\r\n      />\r\n      <Space >\r\n      <Button\r\n        type=\"primary\"\r\n        onClick={customModalShow}\r\n      >\r\n        Add Custom\r\n      </Button>\r\n      <Button\r\n          type=\"primary\"\r\n          onClick={templateModalShow}\r\n          // disabled={user?.user?.roleId != 1}\r\n        >\r\n          Proceed\r\n        </Button>\r\n        </Space>\r\n      {/* Custom Modal */}\r\n      <Modal\r\n        title=\"Add Custom Field\"\r\n        width={400}\r\n        centered\r\n        visible={customModalVisible}\r\n        onCancel={customModalCancel}\r\n        footer={[\r\n          <Button key=\"cancel\" onClick={customModalCancel}>\r\n            Cancel\r\n          </Button>,\r\n          <Button key=\"add\" type=\"primary\" onClick={handleAddCustom}>\r\n            Add\r\n          </Button>,\r\n        ]}\r\n        closeIcon={<RiCloseFill className=\"remix-icon text-color-black-100\" size={24} />}\r\n      >\r\n        {/* Form fields for custom input */}\r\n        <Form layout=\"vertical\" name=\"customForm\">\r\n          {/* Dynamically generate form fields based on existing columns */}\r\n          {/* {columns.map((column) => (\r\n            <Form.Item\r\n              key={column.key}\r\n              label={column.title}\r\n              name={column.dataIndex}\r\n              rules={[\r\n                {\r\n                  required: true,\r\n                  message: `Please enter ${column.title}`,\r\n                },\r\n              ]}\r\n            >\r\n              <Input\r\n                onChange={(e) => handleCustomFieldChange(column.dataIndex, e.target.value)}\r\n              />\r\n            </Form.Item>\r\n          ))} */}\r\n        \r\n              <Form.Item\r\n                label=\"Department\"\r\n                name=\"department\"\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                    message: \"Please select Project Name\",\r\n                  },\r\n                ]}\r\n              >\r\n              <Select\r\n                  options={departmentOptionSuffixes}\r\n                  value={department}\r\n                  onChange={(value) => setDepartment(value)}\r\n                />              \r\n                </Form.Item>\r\n\r\n                <Form.Item label=\"Document\" name=\"document\" rules={[\r\n                  {\r\n                    required: true,\r\n                    message: \"Please Add Document\",\r\n                  },\r\n                ]}>\r\n            <Input\r\n              value={documentDesc}\r\n              onChange={(e) => setDocumentDesc(e.target.value)}\r\n            />\r\n          </Form.Item>\r\n\r\n          <Form.Item label=\"Document Content Code\" name=\"documentContentCode\" rules={[\r\n                  {\r\n                    required: true,\r\n                    message: \"Please Add Document Content Code\",\r\n                  },\r\n                ]}>\r\n            <Input\r\n              value={documentContentCode}\r\n              onChange={(e) => setDocumentContentCode(e.target.value)}\r\n            />\r\n          </Form.Item>\r\n\r\n          <Form.Item label=\"Number Of Documents\" name=\"noOfDoxuments\" rules={[\r\n                  {\r\n                    required: true,\r\n                    message: \"Please Add Number of Documents\",\r\n                  },\r\n                ]}>\r\n            <Input\r\n              value={documentNumbers}\r\n              onChange={(e) => setDocumentNumbers(e.target.value)}\r\n            />\r\n          </Form.Item>\r\n\r\n          \r\n\r\n        </Form>\r\n      </Modal>\r\n    </div>\r\n    </>\r\n\r\n  );\r\n};\r\n\r\nexport default MdrTemplate;","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport { SpaceContext } from '.';\nexport default function Item(_ref) {\n  var className = _ref.className,\n      direction = _ref.direction,\n      index = _ref.index,\n      marginDirection = _ref.marginDirection,\n      children = _ref.children,\n      split = _ref.split,\n      wrap = _ref.wrap;\n\n  var _React$useContext = React.useContext(SpaceContext),\n      horizontalSize = _React$useContext.horizontalSize,\n      verticalSize = _React$useContext.verticalSize,\n      latestIndex = _React$useContext.latestIndex,\n      supportFlexGap = _React$useContext.supportFlexGap;\n\n  var style = {};\n\n  if (!supportFlexGap) {\n    if (direction === 'vertical') {\n      if (index < latestIndex) {\n        style = {\n          marginBottom: horizontalSize / (split ? 2 : 1)\n        };\n      }\n    } else {\n      style = _extends(_extends({}, index < latestIndex && _defineProperty({}, marginDirection, horizontalSize / (split ? 2 : 1))), wrap && {\n        paddingBottom: verticalSize\n      });\n    }\n  }\n\n  if (children === null || children === undefined) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: className,\n    style: style\n  }, children), index < latestIndex && split && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"\".concat(className, \"-split\"),\n    style: style\n  }, split));\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport toArray from \"rc-util/es/Children/toArray\";\nimport { ConfigContext } from '../config-provider';\nimport Item from './Item';\nimport useFlexGapSupport from '../_util/hooks/useFlexGapSupport';\nexport var SpaceContext = /*#__PURE__*/React.createContext({\n  latestIndex: 0,\n  horizontalSize: 0,\n  verticalSize: 0,\n  supportFlexGap: false\n});\nvar spaceSize = {\n  small: 8,\n  middle: 16,\n  large: 24\n};\n\nfunction getNumberSize(size) {\n  return typeof size === 'string' ? spaceSize[size] : size || 0;\n}\n\nvar Space = function Space(props) {\n  var _classNames;\n\n  var _React$useContext = React.useContext(ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls,\n      space = _React$useContext.space,\n      directionConfig = _React$useContext.direction;\n\n  var _props$size = props.size,\n      size = _props$size === void 0 ? (space === null || space === void 0 ? void 0 : space.size) || 'small' : _props$size,\n      align = props.align,\n      className = props.className,\n      children = props.children,\n      _props$direction = props.direction,\n      direction = _props$direction === void 0 ? 'horizontal' : _props$direction,\n      customizePrefixCls = props.prefixCls,\n      split = props.split,\n      style = props.style,\n      _props$wrap = props.wrap,\n      wrap = _props$wrap === void 0 ? false : _props$wrap,\n      otherProps = __rest(props, [\"size\", \"align\", \"className\", \"children\", \"direction\", \"prefixCls\", \"split\", \"style\", \"wrap\"]);\n\n  var supportFlexGap = useFlexGapSupport();\n\n  var _React$useMemo = React.useMemo(function () {\n    return (Array.isArray(size) ? size : [size, size]).map(function (item) {\n      return getNumberSize(item);\n    });\n  }, [size]),\n      _React$useMemo2 = _slicedToArray(_React$useMemo, 2),\n      horizontalSize = _React$useMemo2[0],\n      verticalSize = _React$useMemo2[1];\n\n  var childNodes = toArray(children, {\n    keepEmpty: true\n  });\n  var mergedAlign = align === undefined && direction === 'horizontal' ? 'center' : align;\n  var prefixCls = getPrefixCls('space', customizePrefixCls);\n  var cn = classNames(prefixCls, \"\".concat(prefixCls, \"-\").concat(direction), (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-rtl\"), directionConfig === 'rtl'), _defineProperty(_classNames, \"\".concat(prefixCls, \"-align-\").concat(mergedAlign), mergedAlign), _classNames), className);\n  var itemClassName = \"\".concat(prefixCls, \"-item\");\n  var marginDirection = directionConfig === 'rtl' ? 'marginLeft' : 'marginRight'; // Calculate latest one\n\n  var latestIndex = 0;\n  var nodes = childNodes.map(function (child, i) {\n    if (child !== null && child !== undefined) {\n      latestIndex = i;\n    }\n    /* eslint-disable react/no-array-index-key */\n\n\n    return /*#__PURE__*/React.createElement(Item, {\n      className: itemClassName,\n      key: \"\".concat(itemClassName, \"-\").concat(i),\n      direction: direction,\n      index: i,\n      marginDirection: marginDirection,\n      split: split,\n      wrap: wrap\n    }, child);\n    /* eslint-enable */\n  });\n  var spaceContext = React.useMemo(function () {\n    return {\n      horizontalSize: horizontalSize,\n      verticalSize: verticalSize,\n      latestIndex: latestIndex,\n      supportFlexGap: supportFlexGap\n    };\n  }, [horizontalSize, verticalSize, latestIndex, supportFlexGap]); // =========================== Render ===========================\n\n  if (childNodes.length === 0) {\n    return null;\n  }\n\n  var gapStyle = {};\n\n  if (wrap) {\n    gapStyle.flexWrap = 'wrap'; // Patch for gap not support\n\n    if (!supportFlexGap) {\n      gapStyle.marginBottom = -verticalSize;\n    }\n  }\n\n  if (supportFlexGap) {\n    gapStyle.columnGap = horizontalSize;\n    gapStyle.rowGap = verticalSize;\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    className: cn,\n    style: _extends(_extends({}, gapStyle), style)\n  }, otherProps), /*#__PURE__*/React.createElement(SpaceContext.Provider, {\n    value: spaceContext\n  }, nodes));\n};\n\nexport default Space;"],"names":["_ref","_localStorage","projectCode","mdrCode","customModalVisible","setCustomModalVisible","useState","customData","setCustomData","search","useLocation","params","URLSearchParams","ProjectCode","get","getMdrCode","projectId","getMdrTitle","departmentId","departmentOptionsString","departmentOptionSuffix","projectOptions","approver","reviewer","record","console","log","customFieldValues","setCustomFieldValues","templateModalVisible","setTemplateModalVisible","selectedFieldVisible","setSelectedFieldVisible","title","setTitle","selectedRowData","setSelectedRowData","departmentWise","setDepartmentWise","loading","setLoading","displayNames","setDisplayNames","selectedDepartment","setSelectedDepartment","codes","setCodes","selectedRows","setSelectedRows","user","setUser","JSON","parse","localStorage","getItem","code","setCode","department","setDepartment","documentDesc","setDocumentDesc","documentContentCode","setDocumentContentCode","documentNumbers","setDocumentNumbers","departmentOptionSuffixes","departmentOptions","departmentOptionsMap","Map","map","option","value","label","departmentLabelsString","split","Number","id","join","dataArrayWithIndexes","Object","entries","jsondata","_ref2","index","parseInt","checked","data","setData","values","dataArray","setDataArray","documentCounts","setDocumentCounts","documentTitles","setDocumentTitles","information","setInformation","customInformation","setCustomInformation","titles","setValues","documentInfo","setDocumentInfo","columns","dataIndex","key","filters","text","filterMode","filterSearch","onFilter","departmentCode","render","_","_jsxs","Space","size","align","children","_jsx","Tag","style","color","backgroundColor","onClick","handleCount","document","useEffect","timeout","setTimeout","clearTimeout","a","prevCounts","updatedCounts","currentCount","departmentWiseCancel","filterData","filteredIndexes","filter","item","category","toUpperCase","filteredRowKeys","row","includes","templateModalCancel","selectedModalCancel","async","_user$user17","newResponse","axios","companyId","headers","Authorization","accessToken","documentNumberFormat","error","message","getAllCodes","customModalCancel","_Fragment","Modal","width","centered","visible","onCancel","footer","closeIcon","RiCloseFill","className","Row","justify","Col","span","Form","layout","name","Item","rules","required","Input","onChange","e","target","Button","type","updatedData","newDocument","margin","padding","React","Array","from","length","count","i","_information$index","_documentInfo$index","_documentInfo$index$i","_documentInfo$index2","_documentInfo$index2$","_documentInfo$index3","_documentInfo$index3$","DatePicker","date","handleStartDateChange","prevDocumentInfo","newDocumentInfo","startDate","toDate","disabled","isChecked","handleEndDateChange","endDate","placeholder","handleChangingTitle","display","justifyContent","alignItems","documentValidation","forEach","documentInfo1","undefined","index1","hasOwnProperty","replace","_user$user","_user$user2","_user$user3","_user$user4","response","noOfDocuments","status","authorId","authorName","firstName","lastName","departmentName","notification","success","description","_error$response","history","push","_user$user5","_user$user6","_user$user7","_user$user8","_error$response2","masterDocumentName","assignedBy","roleId","assignedFrom","_user$user9","_user$user10","_user$user11","_user$user12","docTitle","startedDate","expectedEndedDate","userId","userName","masterDocumentId","version","countCustom","_user$user13","_user$user14","_user$user15","_user$user16","addDocument","handleDepartmentClick","textAlign","marginTop","marginBottom","Table","dataSource","rowSelection","selectedRowKeys","change","indexes","bordered","expandable","expandedRowRender","rowExpandable","customModalShow","templateModalShow","allInfos","allCustomInfos","toString","padStart","sequenceNumber","handleAddCustom","find","dept","documentTitle","areaCode","Select","options","direction","marginDirection","wrap","_React$useContext","SpaceContext","horizontalSize","verticalSize","latestIndex","supportFlexGap","_extends","_defineProperty","paddingBottom","concat","__rest","s","t","p","prototype","call","indexOf","getOwnPropertySymbols","propertyIsEnumerable","spaceSize","small","middle","large","props","_classNames","ConfigContext","getPrefixCls","space","directionConfig","_props$size","_props$direction","customizePrefixCls","prefixCls","_props$wrap","otherProps","useFlexGapSupport","_React$useMemo","isArray","getNumberSize","_React$useMemo2","_slicedToArray","childNodes","toArray","keepEmpty","mergedAlign","cn","classNames","itemClassName","nodes","child","spaceContext","gapStyle","flexWrap","columnGap","rowGap","Provider"],"sourceRoot":""}